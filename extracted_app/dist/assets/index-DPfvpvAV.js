var p9=Object.defineProperty;var qM=e=>{throw TypeError(e)};var g9=(e,t,r)=>t in e?p9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var St=(e,t,r)=>g9(e,typeof t!="symbol"?t+"":t,r),I_=(e,t,r)=>t.has(e)||qM("Cannot "+r);var ge=(e,t,r)=>(I_(e,t,"read from private field"),r?r.call(e):t.get(e)),Bt=(e,t,r)=>t.has(e)?qM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_t=(e,t,r,n)=>(I_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),gr=(e,t,r)=>(I_(e,t,"access private method"),r);var sy=(e,t,r,n)=>({set _(a){_t(e,t,a,r)},get _(){return ge(e,t,n)}});function xD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var v9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var L_={exports:{}},zm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function x9(){if(GM)return zm;GM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var i=null;if(s!==void 0&&(i=""+s),a.key!==void 0&&(i=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:i,ref:a!==void 0?a:null,props:s}}return zm.Fragment=t,zm.jsx=r,zm.jsxs=r,zm}var WM;function w9(){return WM||(WM=1,L_.exports=x9()),L_.exports}var f=w9(),B_={exports:{}},ir={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM;function _9(){if(KM)return ir;KM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function T(H,L,Y){this.props=H,this.context=L,this.refs=b,this.updater=Y||w}T.prototype.isReactComponent={},T.prototype.setState=function(H,L){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,L,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=T.prototype;function k(H,L,Y){this.props=H,this.context=L,this.refs=b,this.updater=Y||w}var j=k.prototype=new M;j.constructor=k,x(j,T.prototype),j.isPureReactComponent=!0;var R=Array.isArray;function D(){}var O={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function V(H,L,Y){var Z=Y.ref;return{$$typeof:e,type:H,key:L,ref:Z!==void 0?Z:null,props:Y}}function ne(H,L){return V(H.type,L,H.props)}function ie(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function Q(H){var L={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Y){return L[Y]})}var ve=/\/+/g;function G(H,L){return typeof H=="object"&&H!==null&&H.key!=null?Q(""+H.key):L.toString(36)}function fe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(D,D):(H.status="pending",H.then(function(L){H.status==="pending"&&(H.status="fulfilled",H.value=L)},function(L){H.status==="pending"&&(H.status="rejected",H.reason=L)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,L,Y,Z,W){var ue=typeof H;(ue==="undefined"||ue==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(ue){case"bigint":case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case e:case t:he=!0;break;case m:return he=H._init,K(he(H._payload),L,Y,Z,W)}}if(he)return W=W(H),he=Z===""?"."+G(H,0):Z,R(W)?(Y="",he!=null&&(Y=he.replace(ve,"$&/")+"/"),K(W,L,Y,"",function(Ue){return Ue})):W!=null&&(ie(W)&&(W=ne(W,Y+(W.key==null||H&&H.key===W.key?"":(""+W.key).replace(ve,"$&/")+"/")+he)),L.push(W)),1;he=0;var Re=Z===""?".":Z+":";if(R(H))for(var ye=0;ye<H.length;ye++)Z=H[ye],ue=Re+G(Z,ye),he+=K(Z,L,Y,ue,W);else if(ye=y(H),typeof ye=="function")for(H=ye.call(H),ye=0;!(Z=H.next()).done;)Z=Z.value,ue=Re+G(Z,ye++),he+=K(Z,L,Y,ue,W);else if(ue==="object"){if(typeof H.then=="function")return K(fe(H),L,Y,Z,W);throw L=String(H),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return he}function re(H,L,Y){if(H==null)return H;var Z=[],W=0;return K(H,Z,"","",function(ue){return L.call(Y,ue,W++)}),Z}function le(H){if(H._status===-1){var L=H._result;L=L(),L.then(function(Y){(H._status===0||H._status===-1)&&(H._status=1,H._result=Y)},function(Y){(H._status===0||H._status===-1)&&(H._status=2,H._result=Y)}),H._status===-1&&(H._status=0,H._result=L)}if(H._status===1)return H._result.default;throw H._result}var J=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Me={map:re,forEach:function(H,L,Y){re(H,function(){L.apply(this,arguments)},Y)},count:function(H){var L=0;return re(H,function(){L++}),L},toArray:function(H){return re(H,function(L){return L})||[]},only:function(H){if(!ie(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ir.Activity=p,ir.Children=Me,ir.Component=T,ir.Fragment=r,ir.Profiler=a,ir.PureComponent=k,ir.StrictMode=n,ir.Suspense=u,ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ir.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},ir.cache=function(H){return function(){return H.apply(null,arguments)}},ir.cacheSignal=function(){return null},ir.cloneElement=function(H,L,Y){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Z=x({},H.props),W=H.key;if(L!=null)for(ue in L.key!==void 0&&(W=""+L.key),L)!B.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(Z[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)Z.children=Y;else if(1<ue){for(var he=Array(ue),Re=0;Re<ue;Re++)he[Re]=arguments[Re+2];Z.children=he}return V(H.type,W,Z)},ir.createContext=function(H){return H={$$typeof:i,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ir.createElement=function(H,L,Y){var Z,W={},ue=null;if(L!=null)for(Z in L.key!==void 0&&(ue=""+L.key),L)B.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=L[Z]);var he=arguments.length-2;if(he===1)W.children=Y;else if(1<he){for(var Re=Array(he),ye=0;ye<he;ye++)Re[ye]=arguments[ye+2];W.children=Re}if(H&&H.defaultProps)for(Z in he=H.defaultProps,he)W[Z]===void 0&&(W[Z]=he[Z]);return V(H,ue,W)},ir.createRef=function(){return{current:null}},ir.forwardRef=function(H){return{$$typeof:l,render:H}},ir.isValidElement=ie,ir.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:le}},ir.memo=function(H,L){return{$$typeof:d,type:H,compare:L===void 0?null:L}},ir.startTransition=function(H){var L=O.T,Y={};O.T=Y;try{var Z=H(),W=O.S;W!==null&&W(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(D,J)}catch(ue){J(ue)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),O.T=L}},ir.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ir.use=function(H){return O.H.use(H)},ir.useActionState=function(H,L,Y){return O.H.useActionState(H,L,Y)},ir.useCallback=function(H,L){return O.H.useCallback(H,L)},ir.useContext=function(H){return O.H.useContext(H)},ir.useDebugValue=function(){},ir.useDeferredValue=function(H,L){return O.H.useDeferredValue(H,L)},ir.useEffect=function(H,L){return O.H.useEffect(H,L)},ir.useEffectEvent=function(H){return O.H.useEffectEvent(H)},ir.useId=function(){return O.H.useId()},ir.useImperativeHandle=function(H,L,Y){return O.H.useImperativeHandle(H,L,Y)},ir.useInsertionEffect=function(H,L){return O.H.useInsertionEffect(H,L)},ir.useLayoutEffect=function(H,L){return O.H.useLayoutEffect(H,L)},ir.useMemo=function(H,L){return O.H.useMemo(H,L)},ir.useOptimistic=function(H,L){return O.H.useOptimistic(H,L)},ir.useReducer=function(H,L,Y){return O.H.useReducer(H,L,Y)},ir.useRef=function(H){return O.H.useRef(H)},ir.useState=function(H){return O.H.useState(H)},ir.useSyncExternalStore=function(H,L,Y){return O.H.useSyncExternalStore(H,L,Y)},ir.useTransition=function(){return O.H.useTransition()},ir.version="19.2.0",ir}var XM;function fg(){return XM||(XM=1,B_.exports=_9()),B_.exports}var E=fg();const za=Tu(E),uE=xD({__proto__:null,default:za},[E]);var U_={exports:{}},Vm={},z_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM;function b9(){return YM||(YM=1,(function(e){function t(K,re){var le=K.length;K.push(re);e:for(;0<le;){var J=le-1>>>1,Me=K[J];if(0<a(Me,re))K[J]=re,K[le]=Me,le=J;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var re=K[0],le=K.pop();if(le!==re){K[0]=le;e:for(var J=0,Me=K.length,H=Me>>>1;J<H;){var L=2*(J+1)-1,Y=K[L],Z=L+1,W=K[Z];if(0>a(Y,le))Z<Me&&0>a(W,Y)?(K[J]=W,K[Z]=le,J=Z):(K[J]=Y,K[L]=le,J=L);else if(Z<Me&&0>a(W,le))K[J]=W,K[Z]=le,J=Z;else break e}}return re}function a(K,re){var le=K.sortIndex-re.sortIndex;return le!==0?le:K.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],d=[],m=1,p=null,v=3,y=!1,w=!1,x=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(K){for(var re=r(d);re!==null;){if(re.callback===null)n(d);else if(re.startTime<=K)n(d),re.sortIndex=re.expirationTime,t(u,re);else break;re=r(d)}}function R(K){if(x=!1,j(K),!w)if(r(u)!==null)w=!0,D||(D=!0,Q());else{var re=r(d);re!==null&&fe(R,re.startTime-K)}}var D=!1,O=-1,B=5,V=-1;function ne(){return b?!0:!(e.unstable_now()-V<B)}function ie(){if(b=!1,D){var K=e.unstable_now();V=K;var re=!0;try{e:{w=!1,x&&(x=!1,M(O),O=-1),y=!0;var le=v;try{t:{for(j(K),p=r(u);p!==null&&!(p.expirationTime>K&&ne());){var J=p.callback;if(typeof J=="function"){p.callback=null,v=p.priorityLevel;var Me=J(p.expirationTime<=K);if(K=e.unstable_now(),typeof Me=="function"){p.callback=Me,j(K),re=!0;break t}p===r(u)&&n(u),j(K)}else n(u);p=r(u)}if(p!==null)re=!0;else{var H=r(d);H!==null&&fe(R,H.startTime-K),re=!1}}break e}finally{p=null,v=le,y=!1}re=void 0}}finally{re?Q():D=!1}}}var Q;if(typeof k=="function")Q=function(){k(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,G=ve.port2;ve.port1.onmessage=ie,Q=function(){G.postMessage(null)}}else Q=function(){T(ie,0)};function fe(K,re){O=T(function(){K(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(K){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var le=v;v=re;try{return K()}finally{v=le}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=v;v=K;try{return re()}finally{v=le}},e.unstable_scheduleCallback=function(K,re,le){var J=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?J+le:J):le=J,K){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=le+Me,K={id:m++,callback:re,priorityLevel:K,startTime:le,expirationTime:Me,sortIndex:-1},le>J?(K.sortIndex=le,t(d,K),r(u)===null&&K===r(d)&&(x?(M(O),O=-1):x=!0,fe(R,le-J))):(K.sortIndex=Me,t(u,K),w||y||(w=!0,D||(D=!0,Q()))),K},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(K){var re=v;return function(){var le=v;v=re;try{return K.apply(this,arguments)}finally{v=le}}}})(V_)),V_}var QM;function S9(){return QM||(QM=1,z_.exports=b9()),z_.exports}var H_={exports:{}},Qa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JM;function E9(){if(JM)return Qa;JM=1;var e=fg();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(u,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:u,containerInfo:d,implementation:m}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qa.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,m)},Qa.flushSync=function(u){var d=i.T,m=n.p;try{if(i.T=null,n.p=2,u)return u()}finally{i.T=d,n.p=m,n.d.f()}},Qa.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Qa.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Qa.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,p=l(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):m==="script"&&n.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qa.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Qa.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=l(m,d.crossOrigin);n.d.L(u,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qa.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Qa.requestFormReset=function(u){n.d.r(u)},Qa.unstable_batchedUpdates=function(u,d){return u(d)},Qa.useFormState=function(u,d,m){return i.H.useFormState(u,d,m)},Qa.useFormStatus=function(){return i.H.useHostTransitionStatus()},Qa.version="19.2.0",Qa}var ZM;function wD(){if(ZM)return H_.exports;ZM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),H_.exports=E9(),H_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function T9(){if(eN)return Vm;eN=1;var e=S9(),t=fg(),r=wD();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function i(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(n(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,g=c;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return u(S),o;if(A===g)return u(S),c;A=A.sibling}throw Error(n(188))}if(h.return!==g.return)h=S,g=A;else{for(var F=!1,q=S.child;q;){if(q===h){F=!0,h=S,g=A;break}if(q===g){F=!0,g=S,h=A;break}q=q.sibling}if(!F){for(q=A.child;q;){if(q===h){F=!0,h=A,g=S;break}if(q===g){F=!0,g=A,h=S;break}q=q.sibling}if(!F)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var ve=Symbol.for("react.client.reference");function G(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ve?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case k:return o.displayName||"Context";case M:return(o._context.displayName||"Context")+".Consumer";case j:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return c=o.displayName||null,c!==null?c:G(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return G(o(c))}catch{}}return null}var fe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},J=[],Me=-1;function H(o){return{current:o}}function L(o){0>Me||(o.current=J[Me],J[Me]=null,Me--)}function Y(o,c){Me++,J[Me]=o.current,o.current=c}var Z=H(null),W=H(null),ue=H(null),he=H(null);function Re(o,c){switch(Y(ue,c),Y(W,o),Y(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?mM(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=mM(c),o=pM(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}L(Z),Y(Z,o)}function ye(){L(Z),L(W),L(ue)}function Ue(o){o.memoizedState!==null&&Y(he,o);var c=Z.current,h=pM(c,o.type);c!==h&&(Y(W,o),Y(Z,h))}function st(o){W.current===o&&(L(Z),L(W)),he.current===o&&(L(he),Im._currentValue=le)}var X,zt;function Ot(o){if(X===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);X=c&&c[1]||"",zt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+o+zt}var qt=!1;function it(o,c){if(!o||qt)return"";qt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Ve){var Be=Ve}Reflect.construct(o,[],Qe)}else{try{Qe.call()}catch(Ve){Be=Ve}o.call(Qe.prototype)}}else{try{throw Error()}catch(Ve){Be=Ve}(Qe=o())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Ve){if(Ve&&Be&&typeof Ve.stack=="string")return[Ve.stack,Be.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),F=A[0],q=A[1];if(F&&q){var me=F.split(`
`),Fe=q.split(`
`);for(S=g=0;g<me.length&&!me[g].includes("DetermineComponentFrameRoot");)g++;for(;S<Fe.length&&!Fe[S].includes("DetermineComponentFrameRoot");)S++;if(g===me.length||S===Fe.length)for(g=me.length-1,S=Fe.length-1;1<=g&&0<=S&&me[g]!==Fe[S];)S--;for(;1<=g&&0<=S;g--,S--)if(me[g]!==Fe[S]){if(g!==1||S!==1)do if(g--,S--,0>S||me[g]!==Fe[S]){var Ge=`
`+me[g].replace(" at new "," at ");return o.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",o.displayName)),Ge}while(1<=g&&0<=S);break}}}finally{qt=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ot(h):""}function We(o,c){switch(o.tag){case 26:case 27:case 5:return Ot(o.type);case 16:return Ot("Lazy");case 13:return o.child!==c&&c!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return it(o.type,!1);case 11:return it(o.type.render,!1);case 1:return it(o.type,!0);case 31:return Ot("Activity");default:return""}}function ar(o){try{var c="",h=null;do c+=We(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var fr=Object.prototype.hasOwnProperty,Ft=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,jr=e.unstable_shouldYield,wr=e.unstable_requestPaint,Xe=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,_r=e.unstable_UserBlockingPriority,pr=e.unstable_NormalPriority,Mn=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,Vr=e.log,yn=e.unstable_setDisableYieldValue,Fr=null,Yr=null;function Nn(o){if(typeof Vr=="function"&&yn(o),Yr&&typeof Yr.setStrictMode=="function")try{Yr.setStrictMode(Fr,o)}catch{}}var vt=Math.clz32?Math.clz32:Hi,$s=Math.log,Ga=Math.LN2;function Hi(o){return o>>>=0,o===0?32:31-($s(o)/Ga|0)|0}var mt=256,So=262144,sl=4194304;function Wa(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function il(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var S=0,A=o.suspendedLanes,F=o.pingedLanes;o=o.warmLanes;var q=g&134217727;return q!==0?(g=q&~A,g!==0?S=Wa(g):(F&=q,F!==0?S=Wa(F):h||(h=q&~o,h!==0&&(S=Wa(h))))):(q=g&~A,q!==0?S=Wa(q):F!==0?S=Wa(F):h||(h=g&~o,h!==0&&(S=Wa(h)))),S===0?0:c!==0&&c!==S&&(c&A)===0&&(A=S&-S,h=c&-c,A>=h||A===32&&(h&4194048)!==0)?c:S}function $i(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function H0(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(){var o=sl;return sl<<=1,(sl&62914560)===0&&(sl=4194304),o}function li(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Es(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Pu(o,c,h,g,S,A){var F=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var q=o.entanglements,me=o.expirationTimes,Fe=o.hiddenUpdates;for(h=F&~h;0<h;){var Ge=31-vt(h),Qe=1<<Ge;q[Ge]=0,me[Ge]=-1;var Be=Fe[Ge];if(Be!==null)for(Fe[Ge]=null,Ge=0;Ge<Be.length;Ge++){var Ve=Be[Ge];Ve!==null&&(Ve.lane&=-536870913)}h&=~Qe}g!==0&&ol(o,g,0),A!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=A&~(F&~c))}function ol(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-vt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function Gr(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-vt(h),S=1<<g;S&c|o[g]&c&&(o[g]|=c),h&=~S}}function Pn(o,c){var h=c&-c;return h=(h&42)!==0?1:Fu(h),(h&(o.suspendedLanes|c))!==0?0:h}function Fu(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Eo(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function z(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:LM(o.type))}function oe(o,c){var h=re.p;try{return re.p=o,c()}finally{re.p=h}}var te=Math.random().toString(36).slice(2),ee="__reactFiber$"+te,se="__reactProps$"+te,ce="__reactContainer$"+te,Oe="__reactEvents$"+te,qe="__reactListeners$"+te,je="__reactHandles$"+te,Ie="__reactResources$"+te,De="__reactMarker$"+te;function et(o){delete o[ee],delete o[se],delete o[Oe],delete o[qe],delete o[je]}function ot(o){var c=o[ee];if(c)return c;for(var h=o.parentNode;h;){if(c=h[ce]||h[ee]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=bM(o);o!==null;){if(h=o[ee])return h;o=bM(o)}return c}o=h,h=o.parentNode}return null}function rt(o){if(o=o[ee]||o[ce]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Ze(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function ct(o){var c=o[Ie];return c||(c=o[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function kt(o){o[De]=!0}var Lr=new Set,Wr={};function un(o,c){Ka(o,c),Ka(o+"Capture",c)}function Ka(o,c){for(Wr[o]=c,o=0;o<c.length;o++)Lr.add(c[o])}var cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},us={};function fc(o){return fr.call(us,o)?!0:fr.call(qi,o)?!1:cs.test(o)?us[o]=!0:(qi[o]=!0,!1)}function Yt(o,c,h){if(fc(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Iu(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function ci(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function Oa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function hc(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Kg(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,A=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(F){h=""+F,A.call(this,F)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function bf(o){if(!o._valueTracker){var c=hc(o)?"checked":"value";o._valueTracker=Kg(o,c,""+o[c])}}function $0(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=hc(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function Kr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Lu=/[\n"\\]/g;function ba(o){return o.replace(Lu,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function To(o,c,h,g,S,A,F,q){o.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?o.type=F:o.removeAttribute("type"),c!=null?F==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Oa(c)):o.value!==""+Oa(c)&&(o.value=""+Oa(c)):F!=="submit"&&F!=="reset"||o.removeAttribute("value"),c!=null?Bu(o,F,Oa(c)):h!=null?Bu(o,F,Oa(h)):g!=null&&o.removeAttribute("value"),S==null&&A!=null&&(o.defaultChecked=!!A),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+Oa(q):o.removeAttribute("name")}function Sf(o,c,h,g,S,A,F,q){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),c!=null||h!=null){if(!(A!=="submit"&&A!=="reset"||c!=null)){bf(o);return}h=h!=null?""+Oa(h):"",c=c!=null?""+Oa(c):h,q||c===o.value||(o.value=c),o.defaultValue=c}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=q?o.checked:!!g,o.defaultChecked=!!g,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(o.name=F),bf(o)}function Bu(o,c,h){c==="number"&&Kr(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Gi(o,c,h,g){if(o=o.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<o.length;h++)S=c.hasOwnProperty("$"+o[h].value),o[h].selected!==S&&(o[h].selected=S),S&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Oa(h),c=null,S=0;S<o.length;S++){if(o[S].value===h){o[S].selected=!0,g&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function q0(o,c,h){if(c!=null&&(c=""+Oa(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Oa(h):""}function Uu(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(fe(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Oa(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),bf(o)}function ll(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var G1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rr(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||G1.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function G0(o,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var S in c)g=c[S],c.hasOwnProperty(S)&&h[S]!==g&&Rr(o,S,g)}else for(var A in c)c.hasOwnProperty(A)&&Rr(o,A,c[A])}function W0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(o){return ds.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ts(){}var ui=null;function Ef(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var cl=null,_n=null;function qs(o){var c=rt(o);if(c&&(o=c.stateNode)){var h=o[se]||null;e:switch(o=c.stateNode,c.type){case"input":if(To(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ba(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var S=g[se]||null;if(!S)throw Error(n(90));To(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&$0(g)}break e;case"textarea":q0(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Gi(o,!!h.multiple,c,!1)}}}var ul=!1;function mc(o,c,h){if(ul)return o(c,h);ul=!0;try{var g=o(c);return g}finally{if(ul=!1,(cl!==null||_n!==null)&&(Iv(),cl&&(c=cl,o=_n,_n=cl=null,qs(c),o)))for(c=0;c<o.length;c++)qs(o[c])}}function dl(o,c){var h=o.stateNode;if(h===null)return null;var g=h[se]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=!1;if(Sa)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){K0=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{K0=!1}var di=null,Tf=null,pc=null;function gc(){if(pc)return pc;var o,c=Tf,h=c.length,g,S="value"in di?di.value:di.textContent,A=S.length;for(o=0;o<h&&c[o]===S[o];o++);var F=h-o;for(g=1;g<=F&&c[h-g]===S[A-g];g++);return pc=S.slice(o,1<g?1-g:void 0)}function vc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function zu(){return!0}function Xg(){return!1}function ra(o){function c(h,g,S,A,F){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=F,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(h=o[q],this[q]=h?h(A):A[q]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?zu:Xg,this.isPropagationStopped=Xg,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),c}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=ra(fl),ko=p({},fl,{view:0,detail:0}),Cf=ra(ko),Vu,X0,Hu,Af=p({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hu&&(Hu&&o.type==="mousemove"?(Vu=o.screenX-Hu.screenX,X0=o.screenY-Hu.screenY):X0=Vu=0,Hu=o),Vu)},movementY:function(o){return"movementY"in o?o.movementY:X0}}),Mf=ra(Af),Y0=p({},Af,{dataTransfer:0}),Yg=ra(Y0),Nf=p({},ko,{relatedTarget:0}),yc=ra(Nf),jf=p({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=ra(jf),K1=p({},fl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xc=ra(K1),Q0=p({},fl,{data:0}),Rf=ra(Q0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ea={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Ea[o])?!!c[o]:!1}function hl(){return $u}var Jg=p({},ko,{key:function(o){if(o.key){var c=J0[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=vc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Z0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(o){return o.type==="keypress"?vc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Of=ra(Jg),Zg=p({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=ra(Zg),Df=p({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),tm=ra(Df),ml=p({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=ra(ml),nm=p({},Af,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Pf=ra(nm),am=p({},fl,{newState:0,oldState:0}),ev=ra(am),X1=[9,13,27,32],qu=Sa&&"CompositionEvent"in window,Co=null;Sa&&"documentMode"in document&&(Co=document.documentMode);var Y1=Sa&&"TextEvent"in window&&!Co,Ff=Sa&&(!qu||Co&&8<Co&&11>=Co),If=" ",tv=!1;function sm(o,c){switch(o){case"keyup":return X1.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var pl=!1;function nv(o,c){switch(o){case"compositionend":return rv(c);case"keypress":return c.which!==32?null:(tv=!0,If);case"textInput":return o=c.data,o===If&&tv?null:o;default:return null}}function Q1(o,c){if(pl)return o==="compositionend"||!qu&&sm(o,c)?(o=gc(),pc=Tf=di=null,pl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ff&&c.locale!=="ko"?null:c.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!av[o.type]:c==="textarea"}function im(o,c,h,g){cl?_n?_n.push(g):_n=[g]:cl=g,c=$v(c,"onChange"),0<c.length&&(h=new kf("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var wc=null,Gu=null;function J1(o){lM(o,0)}function Bf(o){var c=Ze(o);if($0(c))return o}function Wu(o,c){if(o==="change")return c}var fi=!1;if(Sa){var bn;if(Sa){var _c="oninput"in document;if(!_c){var fs=document.createElement("div");fs.setAttribute("oninput","return;"),_c=typeof fs.oninput=="function"}bn=_c}else bn=!1;fi=bn&&(!document.documentMode||9<document.documentMode)}function sv(){wc&&(wc.detachEvent("onpropertychange",Uf),Gu=wc=null)}function Uf(o){if(o.propertyName==="value"&&Bf(Gu)){var c=[];im(c,Gu,o,Ef(o)),mc(J1,c)}}function iv(o,c,h){o==="focusin"?(sv(),wc=c,Gu=h,wc.attachEvent("onpropertychange",Uf)):o==="focusout"&&sv()}function gl(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bf(Gu)}function om(o,c){if(o==="click")return Bf(c)}function bc(o,c){if(o==="input"||o==="change")return Bf(c)}function Ao(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ya=typeof Object.is=="function"?Object.is:Ao;function _(o,c){if(Ya(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!fr.call(c,S)||!Ya(o[S],c[S]))return!1}return!0}function C(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function N(o,c){var h=C(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=C(h)}}function P(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?P(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function I(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Kr(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Kr(o.document)}return c}function U(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var ae=Sa&&"documentMode"in document&&11>=document.documentMode,de=null,xe=null,we=null,Te=!1;function pe(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Te||de==null||de!==Kr(g)||(g=de,"selectionStart"in g&&U(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),we&&_(we,g)||(we=g,g=$v(xe,"onSelect"),0<g.length&&(c=new kf("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=de)))}function Ce(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var _e={animationend:Ce("Animation","AnimationEnd"),animationiteration:Ce("Animation","AnimationIteration"),animationstart:Ce("Animation","AnimationStart"),transitionrun:Ce("Transition","TransitionRun"),transitionstart:Ce("Transition","TransitionStart"),transitioncancel:Ce("Transition","TransitionCancel"),transitionend:Ce("Transition","TransitionEnd")},Se={},Ee={};Sa&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete _e.animationend.animation,delete _e.animationiteration.animation,delete _e.animationstart.animation),"TransitionEvent"in window||delete _e.transitionend.transition);function ke(o){if(Se[o])return Se[o];if(!_e[o])return o;var c=_e[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Ee)return Se[o]=c[h];return o}var Ne=ke("animationend"),Le=ke("animationiteration"),He=ke("animationstart"),Ye=ke("transitionrun"),lt=ke("transitionstart"),gt=ke("transitioncancel"),nt=ke("transitionend"),dt=new Map,pt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pt.push("scrollEnd");function at(o,c){dt.set(o,c),un(c,[o])}var bt=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Vt=[],sr=0,cr=0;function Ta(){for(var o=sr,c=cr=sr=0;c<o;){var h=Vt[c];Vt[c++]=null;var g=Vt[c];Vt[c++]=null;var S=Vt[c];Vt[c++]=null;var A=Vt[c];if(Vt[c++]=null,g!==null&&S!==null){var F=g.pending;F===null?S.next=S:(S.next=F.next,F.next=S),g.pending=S}A!==0&&Ku(h,S,A)}}function er(o,c,h,g){Vt[sr++]=o,Vt[sr++]=c,Vt[sr++]=h,Vt[sr++]=g,cr|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function na(o,c,h,g){return er(o,c,h,g),aa(o)}function jn(o,c){return er(o,null,null,c),aa(o)}function Ku(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var S=!1,A=o.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(S=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,S&&c!==null&&(S=31-vt(h),o=A.hiddenUpdates,g=o[S],g===null?o[S]=[c]:g.push(c),c.lane=h|536870912),A):null}function aa(o){if(50<Nm)throw Nm=0,o_=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ks={};function lm(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(o,c,h,g){return new lm(o,c,h,g)}function Z1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vl(o,c){var h=o.alternate;return h===null?(h=Gs(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function $k(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function ov(o,c,h,g,S,A){var F=0;if(g=o,typeof o=="function")Z1(o)&&(F=1);else if(typeof o=="string")F=n9(o,h,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Gs(31,h,c,S),o.elementType=V,o.lanes=A,o;case x:return Xu(h.children,S,A,c);case b:F=8,S|=24;break;case T:return o=Gs(12,h,c,S|2),o.elementType=T,o.lanes=A,o;case R:return o=Gs(13,h,c,S),o.elementType=R,o.lanes=A,o;case D:return o=Gs(19,h,c,S),o.elementType=D,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:F=10;break e;case M:F=9;break e;case j:F=11;break e;case O:F=14;break e;case B:F=16,g=null;break e}F=29,h=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=Gs(F,h,c,S),c.elementType=o,c.type=g,c.lanes=A,c}function Xu(o,c,h,g){return o=Gs(7,o,g,c),o.lanes=h,o}function ew(o,c,h){return o=Gs(6,o,null,c),o.lanes=h,o}function qk(o){var c=Gs(18,null,null,0);return c.stateNode=o,c}function tw(o,c,h){return c=Gs(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Gk=new WeakMap;function hi(o,c){if(typeof o=="object"&&o!==null){var h=Gk.get(o);return h!==void 0?h:(c={value:o,source:c,stack:ar(c)},Gk.set(o,c),c)}return{value:o,source:c,stack:ar(c)}}var zf=[],Vf=0,lv=null,cm=0,mi=[],pi=0,Sc=null,Mo=1,No="";function yl(o,c){zf[Vf++]=cm,zf[Vf++]=lv,lv=o,cm=c}function Wk(o,c,h){mi[pi++]=Mo,mi[pi++]=No,mi[pi++]=Sc,Sc=o;var g=Mo;o=No;var S=32-vt(g)-1;g&=~(1<<S),h+=1;var A=32-vt(c)+S;if(30<A){var F=S-S%5;A=(g&(1<<F)-1).toString(32),g>>=F,S-=F,Mo=1<<32-vt(c)+S|h<<S|g,No=A+o}else Mo=1<<A|h<<S|g,No=o}function rw(o){o.return!==null&&(yl(o,1),Wk(o,1,0))}function nw(o){for(;o===lv;)lv=zf[--Vf],zf[Vf]=null,cm=zf[--Vf],zf[Vf]=null;for(;o===Sc;)Sc=mi[--pi],mi[pi]=null,No=mi[--pi],mi[pi]=null,Mo=mi[--pi],mi[pi]=null}function Kk(o,c){mi[pi++]=Mo,mi[pi++]=No,mi[pi++]=Sc,Mo=c.id,No=c.overflow,Sc=o}var Da=null,Sn=null,Or=!1,Ec=null,gi=!1,aw=Error(n(519));function Tc(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw um(hi(c,o)),aw}function Xk(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[ee]=o,c[se]=g,h){case"dialog":Tr("cancel",c),Tr("close",c);break;case"iframe":case"object":case"embed":Tr("load",c);break;case"video":case"audio":for(h=0;h<Rm.length;h++)Tr(Rm[h],c);break;case"source":Tr("error",c);break;case"img":case"image":case"link":Tr("error",c),Tr("load",c);break;case"details":Tr("toggle",c);break;case"input":Tr("invalid",c),Sf(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Tr("invalid",c);break;case"textarea":Tr("invalid",c),Uu(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||fM(c.textContent,h)?(g.popover!=null&&(Tr("beforetoggle",c),Tr("toggle",c)),g.onScroll!=null&&Tr("scroll",c),g.onScrollEnd!=null&&Tr("scrollend",c),g.onClick!=null&&(c.onclick=Ts),c=!0):c=!1,c||Tc(o,!0)}function Yk(o){for(Da=o.return;Da;)switch(Da.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Da=Da.return}}function Hf(o){if(o!==Da)return!1;if(!Or)return Yk(o),Or=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||b_(o.type,o.memoizedProps)),h=!h),h&&Sn&&Tc(o),Yk(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Sn=_M(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Sn=_M(o)}else c===27?(c=Sn,Bc(o.type)?(o=C_,C_=null,Sn=o):Sn=c):Sn=Da?yi(o.stateNode.nextSibling):null;return!0}function Yu(){Sn=Da=null,Or=!1}function sw(){var o=Ec;return o!==null&&(Ns===null?Ns=o:Ns.push.apply(Ns,o),Ec=null),o}function um(o){Ec===null?Ec=[o]:Ec.push(o)}var iw=H(null),Qu=null,xl=null;function kc(o,c,h){Y(iw,c._currentValue),c._currentValue=h}function wl(o){o._currentValue=iw.current,L(iw)}function ow(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function lw(o,c,h,g){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var A=S.dependencies;if(A!==null){var F=S.child;A=A.firstContext;e:for(;A!==null;){var q=A;A=S;for(var me=0;me<c.length;me++)if(q.context===c[me]){A.lanes|=h,q=A.alternate,q!==null&&(q.lanes|=h),ow(A.return,h,o),g||(F=null);break e}A=q.next}}else if(S.tag===18){if(F=S.return,F===null)throw Error(n(341));F.lanes|=h,A=F.alternate,A!==null&&(A.lanes|=h),ow(F,h,o),F=null}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===o){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}}function $f(o,c,h,g){o=null;for(var S=c,A=!1;S!==null;){if(!A){if((S.flags&524288)!==0)A=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var F=S.alternate;if(F===null)throw Error(n(387));if(F=F.memoizedProps,F!==null){var q=S.type;Ya(S.pendingProps.value,F.value)||(o!==null?o.push(q):o=[q])}}else if(S===he.current){if(F=S.alternate,F===null)throw Error(n(387));F.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(Im):o=[Im])}S=S.return}o!==null&&lw(c,o,h,g),c.flags|=262144}function cv(o){for(o=o.firstContext;o!==null;){if(!Ya(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ju(o){Qu=o,xl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Pa(o){return Qk(Qu,o)}function uv(o,c){return Qu===null&&Ju(o),Qk(o,c)}function Qk(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},xl===null){if(o===null)throw Error(n(308));xl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else xl=xl.next=c;return h}var ZU=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},e7=e.unstable_scheduleCallback,t7=e.unstable_NormalPriority,sa={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cw(){return{controller:new ZU,data:new Map,refCount:0}}function dm(o){o.refCount--,o.refCount===0&&e7(t7,function(){o.controller.abort()})}var fm=null,uw=0,qf=0,Gf=null;function r7(o,c){if(fm===null){var h=fm=[];uw=0,qf=h_(),Gf={status:"pending",value:void 0,then:function(g){h.push(g)}}}return uw++,c.then(Jk,Jk),c}function Jk(){if(--uw===0&&fm!==null){Gf!==null&&(Gf.status="fulfilled");var o=fm;fm=null,qf=0,Gf=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function n7(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var S=0;S<h.length;S++)(0,h[S])(c)},function(S){for(g.status="rejected",g.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),g}var Zk=K.S;K.S=function(o,c){FA=Xe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&r7(o,c),Zk!==null&&Zk(o,c)};var Zu=H(null);function dw(){var o=Zu.current;return o!==null?o:pn.pooledCache}function dv(o,c){c===null?Y(Zu,Zu.current):Y(Zu,c.pool)}function eC(){var o=dw();return o===null?null:{parent:sa._currentValue,pool:o}}var Wf=Error(n(460)),fw=Error(n(474)),fv=Error(n(542)),hv={then:function(){}};function tC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rC(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ts,Ts),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,aC(o),o;default:if(typeof c.status=="string")c.then(Ts,Ts);else{if(o=pn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=g}},function(g){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,aC(o),o}throw td=c,Wf}}function ed(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(td=h,Wf):h}}var td=null;function nC(){if(td===null)throw Error(n(459));var o=td;return td=null,o}function aC(o){if(o===Wf||o===fv)throw Error(n(483))}var Kf=null,hm=0;function mv(o){var c=hm;return hm+=1,Kf===null&&(Kf=[]),rC(Kf,o,c)}function mm(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function pv(o,c){throw c.$$typeof===v?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function sC(o){function c(Ae,be){if(o){var Pe=Ae.deletions;Pe===null?(Ae.deletions=[be],Ae.flags|=16):Pe.push(be)}}function h(Ae,be){if(!o)return null;for(;be!==null;)c(Ae,be),be=be.sibling;return null}function g(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function S(Ae,be){return Ae=vl(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function A(Ae,be,Pe){return Ae.index=Pe,o?(Pe=Ae.alternate,Pe!==null?(Pe=Pe.index,Pe<be?(Ae.flags|=67108866,be):Pe):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function F(Ae){return o&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function q(Ae,be,Pe,Ke){return be===null||be.tag!==6?(be=ew(Pe,Ae.mode,Ke),be.return=Ae,be):(be=S(be,Pe),be.return=Ae,be)}function me(Ae,be,Pe,Ke){var Ht=Pe.type;return Ht===x?Ge(Ae,be,Pe.props.children,Ke,Pe.key):be!==null&&(be.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===B&&ed(Ht)===be.type)?(be=S(be,Pe.props),mm(be,Pe),be.return=Ae,be):(be=ov(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ke),mm(be,Pe),be.return=Ae,be)}function Fe(Ae,be,Pe,Ke){return be===null||be.tag!==4||be.stateNode.containerInfo!==Pe.containerInfo||be.stateNode.implementation!==Pe.implementation?(be=tw(Pe,Ae.mode,Ke),be.return=Ae,be):(be=S(be,Pe.children||[]),be.return=Ae,be)}function Ge(Ae,be,Pe,Ke,Ht){return be===null||be.tag!==7?(be=Xu(Pe,Ae.mode,Ke,Ht),be.return=Ae,be):(be=S(be,Pe),be.return=Ae,be)}function Qe(Ae,be,Pe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=ew(""+be,Ae.mode,Pe),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return Pe=ov(be.type,be.key,be.props,null,Ae.mode,Pe),mm(Pe,be),Pe.return=Ae,Pe;case w:return be=tw(be,Ae.mode,Pe),be.return=Ae,be;case B:return be=ed(be),Qe(Ae,be,Pe)}if(fe(be)||Q(be))return be=Xu(be,Ae.mode,Pe,null),be.return=Ae,be;if(typeof be.then=="function")return Qe(Ae,mv(be),Pe);if(be.$$typeof===k)return Qe(Ae,uv(Ae,be),Pe);pv(Ae,be)}return null}function Be(Ae,be,Pe,Ke){var Ht=be!==null?be.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Ht!==null?null:q(Ae,be,""+Pe,Ke);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return Pe.key===Ht?me(Ae,be,Pe,Ke):null;case w:return Pe.key===Ht?Fe(Ae,be,Pe,Ke):null;case B:return Pe=ed(Pe),Be(Ae,be,Pe,Ke)}if(fe(Pe)||Q(Pe))return Ht!==null?null:Ge(Ae,be,Pe,Ke,null);if(typeof Pe.then=="function")return Be(Ae,be,mv(Pe),Ke);if(Pe.$$typeof===k)return Be(Ae,be,uv(Ae,Pe),Ke);pv(Ae,Pe)}return null}function Ve(Ae,be,Pe,Ke,Ht){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ae=Ae.get(Pe)||null,q(be,Ae,""+Ke,Ht);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case y:return Ae=Ae.get(Ke.key===null?Pe:Ke.key)||null,me(be,Ae,Ke,Ht);case w:return Ae=Ae.get(Ke.key===null?Pe:Ke.key)||null,Fe(be,Ae,Ke,Ht);case B:return Ke=ed(Ke),Ve(Ae,be,Pe,Ke,Ht)}if(fe(Ke)||Q(Ke))return Ae=Ae.get(Pe)||null,Ge(be,Ae,Ke,Ht,null);if(typeof Ke.then=="function")return Ve(Ae,be,Pe,mv(Ke),Ht);if(Ke.$$typeof===k)return Ve(Ae,be,Pe,uv(be,Ke),Ht);pv(be,Ke)}return null}function Ct(Ae,be,Pe,Ke){for(var Ht=null,Hr=null,Dt=be,hr=be=0,Mr=null;Dt!==null&&hr<Pe.length;hr++){Dt.index>hr?(Mr=Dt,Dt=null):Mr=Dt.sibling;var $r=Be(Ae,Dt,Pe[hr],Ke);if($r===null){Dt===null&&(Dt=Mr);break}o&&Dt&&$r.alternate===null&&c(Ae,Dt),be=A($r,be,hr),Hr===null?Ht=$r:Hr.sibling=$r,Hr=$r,Dt=Mr}if(hr===Pe.length)return h(Ae,Dt),Or&&yl(Ae,hr),Ht;if(Dt===null){for(;hr<Pe.length;hr++)Dt=Qe(Ae,Pe[hr],Ke),Dt!==null&&(be=A(Dt,be,hr),Hr===null?Ht=Dt:Hr.sibling=Dt,Hr=Dt);return Or&&yl(Ae,hr),Ht}for(Dt=g(Dt);hr<Pe.length;hr++)Mr=Ve(Dt,Ae,hr,Pe[hr],Ke),Mr!==null&&(o&&Mr.alternate!==null&&Dt.delete(Mr.key===null?hr:Mr.key),be=A(Mr,be,hr),Hr===null?Ht=Mr:Hr.sibling=Mr,Hr=Mr);return o&&Dt.forEach(function($c){return c(Ae,$c)}),Or&&yl(Ae,hr),Ht}function Kt(Ae,be,Pe,Ke){if(Pe==null)throw Error(n(151));for(var Ht=null,Hr=null,Dt=be,hr=be=0,Mr=null,$r=Pe.next();Dt!==null&&!$r.done;hr++,$r=Pe.next()){Dt.index>hr?(Mr=Dt,Dt=null):Mr=Dt.sibling;var $c=Be(Ae,Dt,$r.value,Ke);if($c===null){Dt===null&&(Dt=Mr);break}o&&Dt&&$c.alternate===null&&c(Ae,Dt),be=A($c,be,hr),Hr===null?Ht=$c:Hr.sibling=$c,Hr=$c,Dt=Mr}if($r.done)return h(Ae,Dt),Or&&yl(Ae,hr),Ht;if(Dt===null){for(;!$r.done;hr++,$r=Pe.next())$r=Qe(Ae,$r.value,Ke),$r!==null&&(be=A($r,be,hr),Hr===null?Ht=$r:Hr.sibling=$r,Hr=$r);return Or&&yl(Ae,hr),Ht}for(Dt=g(Dt);!$r.done;hr++,$r=Pe.next())$r=Ve(Dt,Ae,hr,$r.value,Ke),$r!==null&&(o&&$r.alternate!==null&&Dt.delete($r.key===null?hr:$r.key),be=A($r,be,hr),Hr===null?Ht=$r:Hr.sibling=$r,Hr=$r);return o&&Dt.forEach(function(m9){return c(Ae,m9)}),Or&&yl(Ae,hr),Ht}function hn(Ae,be,Pe,Ke){if(typeof Pe=="object"&&Pe!==null&&Pe.type===x&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:e:{for(var Ht=Pe.key;be!==null;){if(be.key===Ht){if(Ht=Pe.type,Ht===x){if(be.tag===7){h(Ae,be.sibling),Ke=S(be,Pe.props.children),Ke.return=Ae,Ae=Ke;break e}}else if(be.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===B&&ed(Ht)===be.type){h(Ae,be.sibling),Ke=S(be,Pe.props),mm(Ke,Pe),Ke.return=Ae,Ae=Ke;break e}h(Ae,be);break}else c(Ae,be);be=be.sibling}Pe.type===x?(Ke=Xu(Pe.props.children,Ae.mode,Ke,Pe.key),Ke.return=Ae,Ae=Ke):(Ke=ov(Pe.type,Pe.key,Pe.props,null,Ae.mode,Ke),mm(Ke,Pe),Ke.return=Ae,Ae=Ke)}return F(Ae);case w:e:{for(Ht=Pe.key;be!==null;){if(be.key===Ht)if(be.tag===4&&be.stateNode.containerInfo===Pe.containerInfo&&be.stateNode.implementation===Pe.implementation){h(Ae,be.sibling),Ke=S(be,Pe.children||[]),Ke.return=Ae,Ae=Ke;break e}else{h(Ae,be);break}else c(Ae,be);be=be.sibling}Ke=tw(Pe,Ae.mode,Ke),Ke.return=Ae,Ae=Ke}return F(Ae);case B:return Pe=ed(Pe),hn(Ae,be,Pe,Ke)}if(fe(Pe))return Ct(Ae,be,Pe,Ke);if(Q(Pe)){if(Ht=Q(Pe),typeof Ht!="function")throw Error(n(150));return Pe=Ht.call(Pe),Kt(Ae,be,Pe,Ke)}if(typeof Pe.then=="function")return hn(Ae,be,mv(Pe),Ke);if(Pe.$$typeof===k)return hn(Ae,be,uv(Ae,Pe),Ke);pv(Ae,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,be!==null&&be.tag===6?(h(Ae,be.sibling),Ke=S(be,Pe),Ke.return=Ae,Ae=Ke):(h(Ae,be),Ke=ew(Pe,Ae.mode,Ke),Ke.return=Ae,Ae=Ke),F(Ae)):h(Ae,be)}return function(Ae,be,Pe,Ke){try{hm=0;var Ht=hn(Ae,be,Pe,Ke);return Kf=null,Ht}catch(Dt){if(Dt===Wf||Dt===fv)throw Dt;var Hr=Gs(29,Dt,null,Ae.mode);return Hr.lanes=Ke,Hr.return=Ae,Hr}finally{}}}var rd=sC(!0),iC=sC(!1),Cc=!1;function hw(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mw(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ac(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Mc(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Xr&2)!==0){var S=g.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),g.pending=c,c=aa(o),Ku(o,null,h),c}return er(o,g,c,h),aa(o)}function pm(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Gr(o,h)}}function pw(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var F={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};A===null?S=A=F:A=A.next=F,h=h.next}while(h!==null);A===null?S=A=c:A=A.next=c}else S=A=c;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var gw=!1;function gm(){if(gw){var o=Gf;if(o!==null)throw o}}function vm(o,c,h,g){gw=!1;var S=o.updateQueue;Cc=!1;var A=S.firstBaseUpdate,F=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var me=q,Fe=me.next;me.next=null,F===null?A=Fe:F.next=Fe,F=me;var Ge=o.alternate;Ge!==null&&(Ge=Ge.updateQueue,q=Ge.lastBaseUpdate,q!==F&&(q===null?Ge.firstBaseUpdate=Fe:q.next=Fe,Ge.lastBaseUpdate=me))}if(A!==null){var Qe=S.baseState;F=0,Ge=Fe=me=null,q=A;do{var Be=q.lane&-536870913,Ve=Be!==q.lane;if(Ve?(Ar&Be)===Be:(g&Be)===Be){Be!==0&&Be===qf&&(gw=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ct=o,Kt=q;Be=c;var hn=h;switch(Kt.tag){case 1:if(Ct=Kt.payload,typeof Ct=="function"){Qe=Ct.call(hn,Qe,Be);break e}Qe=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Kt.payload,Be=typeof Ct=="function"?Ct.call(hn,Qe,Be):Ct,Be==null)break e;Qe=p({},Qe,Be);break e;case 2:Cc=!0}}Be=q.callback,Be!==null&&(o.flags|=64,Ve&&(o.flags|=8192),Ve=S.callbacks,Ve===null?S.callbacks=[Be]:Ve.push(Be))}else Ve={lane:Be,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ge===null?(Fe=Ge=Ve,me=Qe):Ge=Ge.next=Ve,F|=Be;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;Ve=q,q=Ve.next,Ve.next=null,S.lastBaseUpdate=Ve,S.shared.pending=null}}while(!0);Ge===null&&(me=Qe),S.baseState=me,S.firstBaseUpdate=Fe,S.lastBaseUpdate=Ge,A===null&&(S.shared.lanes=0),Dc|=F,o.lanes=F,o.memoizedState=Qe}}function oC(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function lC(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)oC(h[o],c)}var Xf=H(null),gv=H(0);function cC(o,c){o=Ml,Y(gv,o),Y(Xf,c),Ml=o|c.baseLanes}function vw(){Y(gv,Ml),Y(Xf,Xf.current)}function yw(){Ml=gv.current,L(Xf),L(gv)}var Ws=H(null),vi=null;function Nc(o){var c=o.alternate;Y(Yn,Yn.current&1),Y(Ws,o),vi===null&&(c===null||Xf.current!==null||c.memoizedState!==null)&&(vi=o)}function xw(o){Y(Yn,Yn.current),Y(Ws,o),vi===null&&(vi=o)}function uC(o){o.tag===22?(Y(Yn,Yn.current),Y(Ws,o),vi===null&&(vi=o)):jc()}function jc(){Y(Yn,Yn.current),Y(Ws,Ws.current)}function Ks(o){L(Ws),vi===o&&(vi=null),L(Yn)}var Yn=H(0);function vv(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||T_(h)||k_(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var _l=0,ur=null,dn=null,ia=null,yv=!1,Yf=!1,nd=!1,xv=0,ym=0,Qf=null,a7=0;function Vn(){throw Error(n(321))}function ww(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ya(o[h],c[h]))return!1;return!0}function _w(o,c,h,g,S,A){return _l=A,ur=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=o===null||o.memoizedState===null?WC:Fw,nd=!1,A=h(g,S),nd=!1,Yf&&(A=fC(c,h,g,S)),dC(o),A}function dC(o){K.H=_m;var c=dn!==null&&dn.next!==null;if(_l=0,ia=dn=ur=null,yv=!1,ym=0,Qf=null,c)throw Error(n(300));o===null||oa||(o=o.dependencies,o!==null&&cv(o)&&(oa=!0))}function fC(o,c,h,g){ur=o;var S=0;do{if(Yf&&(Qf=null),ym=0,Yf=!1,25<=S)throw Error(n(301));if(S+=1,ia=dn=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}K.H=KC,A=c(h,g)}while(Yf);return A}function s7(){var o=K.H,c=o.useState()[0];return c=typeof c.then=="function"?xm(c):c,o=o.useState()[0],(dn!==null?dn.memoizedState:null)!==o&&(ur.flags|=1024),c}function bw(){var o=xv!==0;return xv=0,o}function Sw(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Ew(o){if(yv){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}yv=!1}_l=0,ia=dn=ur=null,Yf=!1,ym=xv=0,Qf=null}function hs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ia===null?ur.memoizedState=ia=o:ia=ia.next=o,ia}function Qn(){if(dn===null){var o=ur.alternate;o=o!==null?o.memoizedState:null}else o=dn.next;var c=ia===null?ur.memoizedState:ia.next;if(c!==null)ia=c,dn=o;else{if(o===null)throw ur.alternate===null?Error(n(467)):Error(n(310));dn=o,o={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},ia===null?ur.memoizedState=ia=o:ia=ia.next=o}return ia}function wv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xm(o){var c=ym;return ym+=1,Qf===null&&(Qf=[]),o=rC(Qf,o,c),c=ur,(ia===null?c.memoizedState:ia.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?WC:Fw),o}function _v(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xm(o);if(o.$$typeof===k)return Pa(o)}throw Error(n(438,String(o)))}function Tw(o){var c=null,h=ur.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=ur.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=wv(),ur.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=ne;return c.index++,h}function bl(o,c){return typeof c=="function"?c(o):c}function bv(o){var c=Qn();return kw(c,dn,o)}function kw(o,c,h){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var S=o.baseQueue,A=g.pending;if(A!==null){if(S!==null){var F=S.next;S.next=A.next,A.next=F}c.baseQueue=S=A,g.pending=null}if(A=o.baseState,S===null)o.memoizedState=A;else{c=S.next;var q=F=null,me=null,Fe=c,Ge=!1;do{var Qe=Fe.lane&-536870913;if(Qe!==Fe.lane?(Ar&Qe)===Qe:(_l&Qe)===Qe){var Be=Fe.revertLane;if(Be===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),Qe===qf&&(Ge=!0);else if((_l&Be)===Be){Fe=Fe.next,Be===qf&&(Ge=!0);continue}else Qe={lane:0,revertLane:Fe.revertLane,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},me===null?(q=me=Qe,F=A):me=me.next=Qe,ur.lanes|=Be,Dc|=Be;Qe=Fe.action,nd&&h(A,Qe),A=Fe.hasEagerState?Fe.eagerState:h(A,Qe)}else Be={lane:Qe,revertLane:Fe.revertLane,gesture:Fe.gesture,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},me===null?(q=me=Be,F=A):me=me.next=Be,ur.lanes|=Qe,Dc|=Qe;Fe=Fe.next}while(Fe!==null&&Fe!==c);if(me===null?F=A:me.next=q,!Ya(A,o.memoizedState)&&(oa=!0,Ge&&(h=Gf,h!==null)))throw h;o.memoizedState=A,o.baseState=F,o.baseQueue=me,g.lastRenderedState=A}return S===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Cw(o){var c=Qn(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=h.dispatch,S=h.pending,A=c.memoizedState;if(S!==null){h.pending=null;var F=S=S.next;do A=o(A,F.action),F=F.next;while(F!==S);Ya(A,c.memoizedState)||(oa=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,g]}function hC(o,c,h){var g=ur,S=Qn(),A=Or;if(A){if(h===void 0)throw Error(n(407));h=h()}else h=c();var F=!Ya((dn||S).memoizedState,h);if(F&&(S.memoizedState=h,oa=!0),S=S.queue,Nw(gC.bind(null,g,S,o),[o]),S.getSnapshot!==c||F||ia!==null&&ia.memoizedState.tag&1){if(g.flags|=2048,Jf(9,{destroy:void 0},pC.bind(null,g,S,h,c),null),pn===null)throw Error(n(349));A||(_l&127)!==0||mC(g,c,h)}return h}function mC(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=ur.updateQueue,c===null?(c=wv(),ur.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function pC(o,c,h,g){c.value=h,c.getSnapshot=g,vC(c)&&yC(o)}function gC(o,c,h){return h(function(){vC(c)&&yC(o)})}function vC(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ya(o,h)}catch{return!0}}function yC(o){var c=jn(o,2);c!==null&&js(c,o,2)}function Aw(o){var c=hs();if(typeof o=="function"){var h=o;if(o=h(),nd){Nn(!0);try{h()}finally{Nn(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:o},c}function xC(o,c,h,g){return o.baseState=h,kw(o,dn,typeof g=="function"?g:bl)}function i7(o,c,h,g,S){if(Tv(o))throw Error(n(485));if(o=c.action,o!==null){var A={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){A.listeners.push(F)}};K.T!==null?h(!0):A.isTransition=!1,g(A),h=c.pending,h===null?(A.next=c.pending=A,wC(c,A)):(A.next=h.next,c.pending=h.next=A)}}function wC(o,c){var h=c.action,g=c.payload,S=o.state;if(c.isTransition){var A=K.T,F={};K.T=F;try{var q=h(S,g),me=K.S;me!==null&&me(F,q),_C(o,c,q)}catch(Fe){Mw(o,c,Fe)}finally{A!==null&&F.types!==null&&(A.types=F.types),K.T=A}}else try{A=h(S,g),_C(o,c,A)}catch(Fe){Mw(o,c,Fe)}}function _C(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){bC(o,c,g)},function(g){return Mw(o,c,g)}):bC(o,c,h)}function bC(o,c,h){c.status="fulfilled",c.value=h,SC(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,wC(o,h)))}function Mw(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,SC(c),c=c.next;while(c!==g)}o.action=null}function SC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function EC(o,c){return c}function TC(o,c){if(Or){var h=pn.formState;if(h!==null){e:{var g=ur;if(Or){if(Sn){t:{for(var S=Sn,A=gi;S.nodeType!==8;){if(!A){S=null;break t}if(S=yi(S.nextSibling),S===null){S=null;break t}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Sn=yi(S.nextSibling),g=S.data==="F!";break e}}Tc(g)}g=!1}g&&(c=h[0])}}return h=hs(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EC,lastRenderedState:c},h.queue=g,h=$C.bind(null,ur,g),g.dispatch=h,g=Aw(!1),A=Pw.bind(null,ur,!1,g.queue),g=hs(),S={state:c,dispatch:null,action:o,pending:null},g.queue=S,h=i7.bind(null,ur,S,A,h),S.dispatch=h,g.memoizedState=o,[c,h,!1]}function kC(o){var c=Qn();return CC(c,dn,o)}function CC(o,c,h){if(c=kw(o,c,EC)[0],o=bv(bl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=xm(c)}catch(F){throw F===Wf?fv:F}else g=c;c=Qn();var S=c.queue,A=S.dispatch;return h!==c.memoizedState&&(ur.flags|=2048,Jf(9,{destroy:void 0},o7.bind(null,S,h),null)),[g,A,o]}function o7(o,c){o.action=c}function AC(o){var c=Qn(),h=dn;if(h!==null)return CC(c,h,o);Qn(),c=c.memoizedState,h=Qn();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Jf(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=ur.updateQueue,c===null&&(c=wv(),ur.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function MC(){return Qn().memoizedState}function Sv(o,c,h,g){var S=hs();ur.flags|=o,S.memoizedState=Jf(1|c,{destroy:void 0},h,g===void 0?null:g)}function Ev(o,c,h,g){var S=Qn();g=g===void 0?null:g;var A=S.memoizedState.inst;dn!==null&&g!==null&&ww(g,dn.memoizedState.deps)?S.memoizedState=Jf(c,A,h,g):(ur.flags|=o,S.memoizedState=Jf(1|c,A,h,g))}function NC(o,c){Sv(8390656,8,o,c)}function Nw(o,c){Ev(2048,8,o,c)}function l7(o){ur.flags|=4;var c=ur.updateQueue;if(c===null)c=wv(),ur.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function jC(o){var c=Qn().memoizedState;return l7({ref:c,nextImpl:o}),function(){if((Xr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function RC(o,c){return Ev(4,2,o,c)}function OC(o,c){return Ev(4,4,o,c)}function DC(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function PC(o,c,h){h=h!=null?h.concat([o]):null,Ev(4,4,DC.bind(null,c,o),h)}function jw(){}function FC(o,c){var h=Qn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&ww(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function IC(o,c){var h=Qn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&ww(c,g[1]))return g[0];if(g=o(),nd){Nn(!0);try{o()}finally{Nn(!1)}}return h.memoizedState=[g,c],g}function Rw(o,c,h){return h===void 0||(_l&1073741824)!==0&&(Ar&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=LA(),ur.lanes|=o,Dc|=o,h)}function LC(o,c,h,g){return Ya(h,c)?h:Xf.current!==null?(o=Rw(o,h,g),Ya(o,c)||(oa=!0),o):(_l&42)===0||(_l&1073741824)!==0&&(Ar&261930)===0?(oa=!0,o.memoizedState=h):(o=LA(),ur.lanes|=o,Dc|=o,c)}function BC(o,c,h,g,S){var A=re.p;re.p=A!==0&&8>A?A:8;var F=K.T,q={};K.T=q,Pw(o,!1,c,h);try{var me=S(),Fe=K.S;if(Fe!==null&&Fe(q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ge=n7(me,g);wm(o,c,Ge,Qs(o))}else wm(o,c,g,Qs(o))}catch(Qe){wm(o,c,{then:function(){},status:"rejected",reason:Qe},Qs())}finally{re.p=A,F!==null&&q.types!==null&&(F.types=q.types),K.T=F}}function c7(){}function Ow(o,c,h,g){if(o.tag!==5)throw Error(n(476));var S=UC(o).queue;BC(o,S,c,le,h===null?c7:function(){return zC(o),h(g)})}function UC(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:le},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function zC(o){var c=UC(o);c.next===null&&(c=o.alternate.memoizedState),wm(o,c.next.queue,{},Qs())}function Dw(){return Pa(Im)}function VC(){return Qn().memoizedState}function HC(){return Qn().memoizedState}function u7(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Qs();o=Ac(h);var g=Mc(c,o,h);g!==null&&(js(g,c,h),pm(g,c,h)),c={cache:cw()},o.payload=c;return}c=c.return}}function d7(o,c,h){var g=Qs();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Tv(o)?qC(c,h):(h=na(o,c,h,g),h!==null&&(js(h,o,g),GC(h,c,g)))}function $C(o,c,h){var g=Qs();wm(o,c,h,g)}function wm(o,c,h,g){var S={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Tv(o))qC(c,S);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var F=c.lastRenderedState,q=A(F,h);if(S.hasEagerState=!0,S.eagerState=q,Ya(q,F))return er(o,c,S,0),pn===null&&Ta(),!1}catch{}finally{}if(h=na(o,c,S,g),h!==null)return js(h,o,g),GC(h,c,g),!0}return!1}function Pw(o,c,h,g){if(g={lane:2,revertLane:h_(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Tv(o)){if(c)throw Error(n(479))}else c=na(o,h,g,2),c!==null&&js(c,o,2)}function Tv(o){var c=o.alternate;return o===ur||c!==null&&c===ur}function qC(o,c){Yf=yv=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function GC(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Gr(o,h)}}var _m={readContext:Pa,use:_v,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn};_m.useEffectEvent=Vn;var WC={readContext:Pa,use:_v,useCallback:function(o,c){return hs().memoizedState=[o,c===void 0?null:c],o},useContext:Pa,useEffect:NC,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Sv(4194308,4,DC.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Sv(4194308,4,o,c)},useInsertionEffect:function(o,c){Sv(4,2,o,c)},useMemo:function(o,c){var h=hs();c=c===void 0?null:c;var g=o();if(nd){Nn(!0);try{o()}finally{Nn(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=hs();if(h!==void 0){var S=h(c);if(nd){Nn(!0);try{h(c)}finally{Nn(!1)}}}else S=c;return g.memoizedState=g.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},g.queue=o,o=o.dispatch=d7.bind(null,ur,o),[g.memoizedState,o]},useRef:function(o){var c=hs();return o={current:o},c.memoizedState=o},useState:function(o){o=Aw(o);var c=o.queue,h=$C.bind(null,ur,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:jw,useDeferredValue:function(o,c){var h=hs();return Rw(h,o,c)},useTransition:function(){var o=Aw(!1);return o=BC.bind(null,ur,o.queue,!0,!1),hs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=ur,S=hs();if(Or){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),pn===null)throw Error(n(349));(Ar&127)!==0||mC(g,c,h)}S.memoizedState=h;var A={value:h,getSnapshot:c};return S.queue=A,NC(gC.bind(null,g,A,o),[o]),g.flags|=2048,Jf(9,{destroy:void 0},pC.bind(null,g,A,h,c),null),h},useId:function(){var o=hs(),c=pn.identifierPrefix;if(Or){var h=No,g=Mo;h=(g&~(1<<32-vt(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=xv++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=a7++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Dw,useFormState:TC,useActionState:TC,useOptimistic:function(o){var c=hs();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Pw.bind(null,ur,!0,h),h.dispatch=c,[o,c]},useMemoCache:Tw,useCacheRefresh:function(){return hs().memoizedState=u7.bind(null,ur)},useEffectEvent:function(o){var c=hs(),h={impl:o};return c.memoizedState=h,function(){if((Xr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Fw={readContext:Pa,use:_v,useCallback:FC,useContext:Pa,useEffect:Nw,useImperativeHandle:PC,useInsertionEffect:RC,useLayoutEffect:OC,useMemo:IC,useReducer:bv,useRef:MC,useState:function(){return bv(bl)},useDebugValue:jw,useDeferredValue:function(o,c){var h=Qn();return LC(h,dn.memoizedState,o,c)},useTransition:function(){var o=bv(bl)[0],c=Qn().memoizedState;return[typeof o=="boolean"?o:xm(o),c]},useSyncExternalStore:hC,useId:VC,useHostTransitionStatus:Dw,useFormState:kC,useActionState:kC,useOptimistic:function(o,c){var h=Qn();return xC(h,dn,o,c)},useMemoCache:Tw,useCacheRefresh:HC};Fw.useEffectEvent=jC;var KC={readContext:Pa,use:_v,useCallback:FC,useContext:Pa,useEffect:Nw,useImperativeHandle:PC,useInsertionEffect:RC,useLayoutEffect:OC,useMemo:IC,useReducer:Cw,useRef:MC,useState:function(){return Cw(bl)},useDebugValue:jw,useDeferredValue:function(o,c){var h=Qn();return dn===null?Rw(h,o,c):LC(h,dn.memoizedState,o,c)},useTransition:function(){var o=Cw(bl)[0],c=Qn().memoizedState;return[typeof o=="boolean"?o:xm(o),c]},useSyncExternalStore:hC,useId:VC,useHostTransitionStatus:Dw,useFormState:AC,useActionState:AC,useOptimistic:function(o,c){var h=Qn();return dn!==null?xC(h,dn,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Tw,useCacheRefresh:HC};KC.useEffectEvent=jC;function Iw(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Lw={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Qs(),S=Ac(g);S.payload=c,h!=null&&(S.callback=h),c=Mc(o,S,g),c!==null&&(js(c,o,g),pm(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Qs(),S=Ac(g);S.tag=1,S.payload=c,h!=null&&(S.callback=h),c=Mc(o,S,g),c!==null&&(js(c,o,g),pm(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Qs(),g=Ac(h);g.tag=2,c!=null&&(g.callback=c),c=Mc(o,g,h),c!==null&&(js(c,o,h),pm(c,o,h))}};function XC(o,c,h,g,S,A,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,F):c.prototype&&c.prototype.isPureReactComponent?!_(h,g)||!_(S,A):!0}function YC(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Lw.enqueueReplaceState(c,c.state,null)}function ad(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var S in o)h[S]===void 0&&(h[S]=o[S])}return h}function QC(o){bt(o)}function JC(o){console.error(o)}function ZC(o){bt(o)}function kv(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function eA(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Bw(o,c,h){return h=Ac(h),h.tag=3,h.payload={element:null},h.callback=function(){kv(o,c)},h}function tA(o){return o=Ac(o),o.tag=3,o}function rA(o,c,h,g){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;o.payload=function(){return S(A)},o.callback=function(){eA(c,h,g)}}var F=h.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(o.callback=function(){eA(c,h,g),typeof S!="function"&&(Pc===null?Pc=new Set([this]):Pc.add(this));var q=g.stack;this.componentDidCatch(g.value,{componentStack:q!==null?q:""})})}function f7(o,c,h,g,S){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&$f(c,h,S,!0),h=Ws.current,h!==null){switch(h.tag){case 31:case 13:return vi===null?Lv():h.alternate===null&&Hn===0&&(Hn=3),h.flags&=-257,h.flags|=65536,h.lanes=S,g===hv?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),u_(o,g,S)),!1;case 22:return h.flags|=65536,g===hv?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),u_(o,g,S)),!1}throw Error(n(435,h.tag))}return u_(o,g,S),Lv(),!1}if(Or)return c=Ws.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,g!==aw&&(o=Error(n(422),{cause:g}),um(hi(o,h)))):(g!==aw&&(c=Error(n(423),{cause:g}),um(hi(c,h))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,g=hi(g,h),S=Bw(o.stateNode,g,S),pw(o,S),Hn!==4&&(Hn=2)),!1;var A=Error(n(520),{cause:g});if(A=hi(A,h),Mm===null?Mm=[A]:Mm.push(A),Hn!==4&&(Hn=2),c===null)return!0;g=hi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=S&-S,h.lanes|=o,o=Bw(h.stateNode,g,o),pw(h,o),!1;case 1:if(c=h.type,A=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Pc===null||!Pc.has(A))))return h.flags|=65536,S&=-S,h.lanes|=S,S=tA(S),rA(S,o,h,g),pw(h,S),!1}h=h.return}while(h!==null);return!1}var Uw=Error(n(461)),oa=!1;function Fa(o,c,h,g){c.child=o===null?iC(c,null,h,g):rd(c,o.child,h,g)}function nA(o,c,h,g,S){h=h.render;var A=c.ref;if("ref"in g){var F={};for(var q in g)q!=="ref"&&(F[q]=g[q])}else F=g;return Ju(c),g=_w(o,c,h,F,A,S),q=bw(),o!==null&&!oa?(Sw(o,c,S),Sl(o,c,S)):(Or&&q&&rw(c),c.flags|=1,Fa(o,c,g,S),c.child)}function aA(o,c,h,g,S){if(o===null){var A=h.type;return typeof A=="function"&&!Z1(A)&&A.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=A,sA(o,c,A,g,S)):(o=ov(h.type,null,g,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!Kw(o,S)){var F=A.memoizedProps;if(h=h.compare,h=h!==null?h:_,h(F,g)&&o.ref===c.ref)return Sl(o,c,S)}return c.flags|=1,o=vl(A,g),o.ref=c.ref,o.return=c,c.child=o}function sA(o,c,h,g,S){if(o!==null){var A=o.memoizedProps;if(_(A,g)&&o.ref===c.ref)if(oa=!1,c.pendingProps=g=A,Kw(o,S))(o.flags&131072)!==0&&(oa=!0);else return c.lanes=o.lanes,Sl(o,c,S)}return zw(o,c,h,g,S)}function iA(o,c,h,g){var S=g.children,A=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(A=A!==null?A.baseLanes|h:h,o!==null){for(g=c.child=o.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~A}else g=0,c.child=null;return oA(o,c,A,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&dv(c,A!==null?A.cachePool:null),A!==null?cC(c,A):vw(),uC(c);else return g=c.lanes=536870912,oA(o,c,A!==null?A.baseLanes|h:h,h,g)}else A!==null?(dv(c,A.cachePool),cC(c,A),jc(),c.memoizedState=null):(o!==null&&dv(c,null),vw(),jc());return Fa(o,c,S,h),c.child}function bm(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function oA(o,c,h,g,S){var A=dw();return A=A===null?null:{parent:sa._currentValue,pool:A},c.memoizedState={baseLanes:h,cachePool:A},o!==null&&dv(c,null),vw(),uC(c),o!==null&&$f(o,c,g,!0),c.childLanes=S,null}function Cv(o,c){return c=Mv({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function lA(o,c,h){return rd(c,o.child,null,h),o=Cv(c,c.pendingProps),o.flags|=2,Ks(c),c.memoizedState=null,o}function h7(o,c,h){var g=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Or){if(g.mode==="hidden")return o=Cv(c,g),c.lanes=536870912,bm(null,o);if(xw(c),(o=Sn)?(o=wM(o,gi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Sc!==null?{id:Mo,overflow:No}:null,retryLane:536870912,hydrationErrors:null},h=qk(o),h.return=c,c.child=h,Da=c,Sn=null)):o=null,o===null)throw Tc(c);return c.lanes=536870912,null}return Cv(c,g)}var A=o.memoizedState;if(A!==null){var F=A.dehydrated;if(xw(c),S)if(c.flags&256)c.flags&=-257,c=lA(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(oa||$f(o,c,h,!1),S=(h&o.childLanes)!==0,oa||S){if(g=pn,g!==null&&(F=Pn(g,h),F!==0&&F!==A.retryLane))throw A.retryLane=F,jn(o,F),js(g,o,F),Uw;Lv(),c=lA(o,c,h)}else o=A.treeContext,Sn=yi(F.nextSibling),Da=c,Or=!0,Ec=null,gi=!1,o!==null&&Kk(c,o),c=Cv(c,g),c.flags|=4096;return c}return o=vl(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Av(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function zw(o,c,h,g,S){return Ju(c),h=_w(o,c,h,g,void 0,S),g=bw(),o!==null&&!oa?(Sw(o,c,S),Sl(o,c,S)):(Or&&g&&rw(c),c.flags|=1,Fa(o,c,h,S),c.child)}function cA(o,c,h,g,S,A){return Ju(c),c.updateQueue=null,h=fC(c,g,h,S),dC(o),g=bw(),o!==null&&!oa?(Sw(o,c,A),Sl(o,c,A)):(Or&&g&&rw(c),c.flags|=1,Fa(o,c,h,A),c.child)}function uA(o,c,h,g,S){if(Ju(c),c.stateNode===null){var A=ks,F=h.contextType;typeof F=="object"&&F!==null&&(A=Pa(F)),A=new h(g,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Lw,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=g,A.state=c.memoizedState,A.refs={},hw(c),F=h.contextType,A.context=typeof F=="object"&&F!==null?Pa(F):ks,A.state=c.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(Iw(c,h,F,g),A.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(F=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),F!==A.state&&Lw.enqueueReplaceState(A,A.state,null),vm(c,g,A,S),gm(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){A=c.stateNode;var q=c.memoizedProps,me=ad(h,q);A.props=me;var Fe=A.context,Ge=h.contextType;F=ks,typeof Ge=="object"&&Ge!==null&&(F=Pa(Ge));var Qe=h.getDerivedStateFromProps;Ge=typeof Qe=="function"||typeof A.getSnapshotBeforeUpdate=="function",q=c.pendingProps!==q,Ge||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q||Fe!==F)&&YC(c,A,g,F),Cc=!1;var Be=c.memoizedState;A.state=Be,vm(c,g,A,S),gm(),Fe=c.memoizedState,q||Be!==Fe||Cc?(typeof Qe=="function"&&(Iw(c,h,Qe,g),Fe=c.memoizedState),(me=Cc||XC(c,h,me,g,Be,Fe,F))?(Ge||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Fe),A.props=g,A.state=Fe,A.context=F,g=me):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{A=c.stateNode,mw(o,c),F=c.memoizedProps,Ge=ad(h,F),A.props=Ge,Qe=c.pendingProps,Be=A.context,Fe=h.contextType,me=ks,typeof Fe=="object"&&Fe!==null&&(me=Pa(Fe)),q=h.getDerivedStateFromProps,(Fe=typeof q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==Qe||Be!==me)&&YC(c,A,g,me),Cc=!1,Be=c.memoizedState,A.state=Be,vm(c,g,A,S),gm();var Ve=c.memoizedState;F!==Qe||Be!==Ve||Cc||o!==null&&o.dependencies!==null&&cv(o.dependencies)?(typeof q=="function"&&(Iw(c,h,q,g),Ve=c.memoizedState),(Ge=Cc||XC(c,h,Ge,g,Be,Ve,me)||o!==null&&o.dependencies!==null&&cv(o.dependencies))?(Fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ve,me),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ve,me)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&Be===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&Be===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ve),A.props=g,A.state=Ve,A.context=me,g=Ge):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&Be===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&Be===o.memoizedState||(c.flags|=1024),g=!1)}return A=g,Av(o,c),g=(c.flags&128)!==0,A||g?(A=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&g?(c.child=rd(c,o.child,null,S),c.child=rd(c,null,h,S)):Fa(o,c,h,S),c.memoizedState=A.state,o=c.child):o=Sl(o,c,S),o}function dA(o,c,h,g){return Yu(),c.flags|=256,Fa(o,c,h,g),c.child}var Vw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hw(o){return{baseLanes:o,cachePool:eC()}}function $w(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Ys),o}function fA(o,c,h){var g=c.pendingProps,S=!1,A=(c.flags&128)!==0,F;if((F=A)||(F=o!==null&&o.memoizedState===null?!1:(Yn.current&2)!==0),F&&(S=!0,c.flags&=-129),F=(c.flags&32)!==0,c.flags&=-33,o===null){if(Or){if(S?Nc(c):jc(),(o=Sn)?(o=wM(o,gi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Sc!==null?{id:Mo,overflow:No}:null,retryLane:536870912,hydrationErrors:null},h=qk(o),h.return=c,c.child=h,Da=c,Sn=null)):o=null,o===null)throw Tc(c);return k_(o)?c.lanes=32:c.lanes=536870912,null}var q=g.children;return g=g.fallback,S?(jc(),S=c.mode,q=Mv({mode:"hidden",children:q},S),g=Xu(g,S,h,null),q.return=c,g.return=c,q.sibling=g,c.child=q,g=c.child,g.memoizedState=Hw(h),g.childLanes=$w(o,F,h),c.memoizedState=Vw,bm(null,g)):(Nc(c),qw(c,q))}var me=o.memoizedState;if(me!==null&&(q=me.dehydrated,q!==null)){if(A)c.flags&256?(Nc(c),c.flags&=-257,c=Gw(o,c,h)):c.memoizedState!==null?(jc(),c.child=o.child,c.flags|=128,c=null):(jc(),q=g.fallback,S=c.mode,g=Mv({mode:"visible",children:g.children},S),q=Xu(q,S,h,null),q.flags|=2,g.return=c,q.return=c,g.sibling=q,c.child=g,rd(c,o.child,null,h),g=c.child,g.memoizedState=Hw(h),g.childLanes=$w(o,F,h),c.memoizedState=Vw,c=bm(null,g));else if(Nc(c),k_(q)){if(F=q.nextSibling&&q.nextSibling.dataset,F)var Fe=F.dgst;F=Fe,g=Error(n(419)),g.stack="",g.digest=F,um({value:g,source:null,stack:null}),c=Gw(o,c,h)}else if(oa||$f(o,c,h,!1),F=(h&o.childLanes)!==0,oa||F){if(F=pn,F!==null&&(g=Pn(F,h),g!==0&&g!==me.retryLane))throw me.retryLane=g,jn(o,g),js(F,o,g),Uw;T_(q)||Lv(),c=Gw(o,c,h)}else T_(q)?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,Sn=yi(q.nextSibling),Da=c,Or=!0,Ec=null,gi=!1,o!==null&&Kk(c,o),c=qw(c,g.children),c.flags|=4096);return c}return S?(jc(),q=g.fallback,S=c.mode,me=o.child,Fe=me.sibling,g=vl(me,{mode:"hidden",children:g.children}),g.subtreeFlags=me.subtreeFlags&65011712,Fe!==null?q=vl(Fe,q):(q=Xu(q,S,h,null),q.flags|=2),q.return=c,g.return=c,g.sibling=q,c.child=g,bm(null,g),g=c.child,q=o.child.memoizedState,q===null?q=Hw(h):(S=q.cachePool,S!==null?(me=sa._currentValue,S=S.parent!==me?{parent:me,pool:me}:S):S=eC(),q={baseLanes:q.baseLanes|h,cachePool:S}),g.memoizedState=q,g.childLanes=$w(o,F,h),c.memoizedState=Vw,bm(o.child,g)):(Nc(c),h=o.child,o=h.sibling,h=vl(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(F=c.deletions,F===null?(c.deletions=[o],c.flags|=16):F.push(o)),c.child=h,c.memoizedState=null,h)}function qw(o,c){return c=Mv({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Mv(o,c){return o=Gs(22,o,null,c),o.lanes=0,o}function Gw(o,c,h){return rd(c,o.child,null,h),o=qw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function hA(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),ow(o.return,c,h)}function Ww(o,c,h,g,S,A){var F=o.memoizedState;F===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S,treeForkCount:A}:(F.isBackwards=c,F.rendering=null,F.renderingStartTime=0,F.last=g,F.tail=h,F.tailMode=S,F.treeForkCount=A)}function mA(o,c,h){var g=c.pendingProps,S=g.revealOrder,A=g.tail;g=g.children;var F=Yn.current,q=(F&2)!==0;if(q?(F=F&1|2,c.flags|=128):F&=1,Y(Yn,F),Fa(o,c,g,h),g=Or?cm:0,!q&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hA(o,h,c);else if(o.tag===19)hA(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(h=c.child,S=null;h!==null;)o=h.alternate,o!==null&&vv(o)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),Ww(c,!1,S,h,A,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&vv(o)===null){c.child=S;break}o=S.sibling,S.sibling=h,h=S,S=o}Ww(c,!0,h,null,A,g);break;case"together":Ww(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Sl(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Dc|=c.lanes,(h&c.childLanes)===0)if(o!==null){if($f(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=vl(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=vl(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function Kw(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&cv(o)))}function m7(o,c,h){switch(c.tag){case 3:Re(c,c.stateNode.containerInfo),kc(c,sa,o.memoizedState.cache),Yu();break;case 27:case 5:Ue(c);break;case 4:Re(c,c.stateNode.containerInfo);break;case 10:kc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,xw(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Nc(c),c.flags|=128,null):(h&c.child.childLanes)!==0?fA(o,c,h):(Nc(c),o=Sl(o,c,h),o!==null?o.sibling:null);Nc(c);break;case 19:var S=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||($f(o,c,h,!1),g=(h&c.childLanes)!==0),S){if(g)return mA(o,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Y(Yn,Yn.current),g)break;return null;case 22:return c.lanes=0,iA(o,c,h,c.pendingProps);case 24:kc(c,sa,o.memoizedState.cache)}return Sl(o,c,h)}function pA(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)oa=!0;else{if(!Kw(o,h)&&(c.flags&128)===0)return oa=!1,m7(o,c,h);oa=(o.flags&131072)!==0}else oa=!1,Or&&(c.flags&1048576)!==0&&Wk(c,cm,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=ed(c.elementType),c.type=o,typeof o=="function")Z1(o)?(g=ad(o,g),c.tag=1,c=uA(null,c,o,g,h)):(c.tag=0,c=zw(null,c,o,g,h));else{if(o!=null){var S=o.$$typeof;if(S===j){c.tag=11,c=nA(null,c,o,g,h);break e}else if(S===O){c.tag=14,c=aA(null,c,o,g,h);break e}}throw c=G(o)||o,Error(n(306,c,""))}}return c;case 0:return zw(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,S=ad(g,c.pendingProps),uA(o,c,g,S,h);case 3:e:{if(Re(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var A=c.memoizedState;S=A.element,mw(o,c),vm(c,g,null,h);var F=c.memoizedState;if(g=F.cache,kc(c,sa,g),g!==A.cache&&lw(c,[sa],h,!0),gm(),g=F.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:F.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=dA(o,c,g,h);break e}else if(g!==S){S=hi(Error(n(424)),c),um(S),c=dA(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Sn=yi(o.firstChild),Da=c,Or=!0,Ec=null,gi=!0,h=iC(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Yu(),g===S){c=Sl(o,c,h);break e}Fa(o,c,g,h)}c=c.child}return c;case 26:return Av(o,c),o===null?(h=kM(c.type,null,c.pendingProps,null))?c.memoizedState=h:Or||(h=c.type,o=c.pendingProps,g=qv(ue.current).createElement(h),g[ee]=c,g[se]=o,Ia(g,h,o),kt(g),c.stateNode=g):c.memoizedState=kM(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ue(c),o===null&&Or&&(g=c.stateNode=SM(c.type,c.pendingProps,ue.current),Da=c,gi=!0,S=Sn,Bc(c.type)?(C_=S,Sn=yi(g.firstChild)):Sn=S),Fa(o,c,c.pendingProps.children,h),Av(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Or&&((S=g=Sn)&&(g=$7(g,c.type,c.pendingProps,gi),g!==null?(c.stateNode=g,Da=c,Sn=yi(g.firstChild),gi=!1,S=!0):S=!1),S||Tc(c)),Ue(c),S=c.type,A=c.pendingProps,F=o!==null?o.memoizedProps:null,g=A.children,b_(S,A)?g=null:F!==null&&b_(S,F)&&(c.flags|=32),c.memoizedState!==null&&(S=_w(o,c,s7,null,null,h),Im._currentValue=S),Av(o,c),Fa(o,c,g,h),c.child;case 6:return o===null&&Or&&((o=h=Sn)&&(h=q7(h,c.pendingProps,gi),h!==null?(c.stateNode=h,Da=c,Sn=null,o=!0):o=!1),o||Tc(c)),null;case 13:return fA(o,c,h);case 4:return Re(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=rd(c,null,g,h):Fa(o,c,g,h),c.child;case 11:return nA(o,c,c.type,c.pendingProps,h);case 7:return Fa(o,c,c.pendingProps,h),c.child;case 8:return Fa(o,c,c.pendingProps.children,h),c.child;case 12:return Fa(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,kc(c,c.type,g.value),Fa(o,c,g.children,h),c.child;case 9:return S=c.type._context,g=c.pendingProps.children,Ju(c),S=Pa(S),g=g(S),c.flags|=1,Fa(o,c,g,h),c.child;case 14:return aA(o,c,c.type,c.pendingProps,h);case 15:return sA(o,c,c.type,c.pendingProps,h);case 19:return mA(o,c,h);case 31:return h7(o,c,h);case 22:return iA(o,c,h,c.pendingProps);case 24:return Ju(c),g=Pa(sa),o===null?(S=dw(),S===null&&(S=pn,A=cw(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=h),S=A),c.memoizedState={parent:g,cache:S},hw(c),kc(c,sa,S)):((o.lanes&h)!==0&&(mw(o,c),vm(c,null,null,h),gm()),S=o.memoizedState,A=c.memoizedState,S.parent!==g?(S={parent:g,cache:g},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),kc(c,sa,g)):(g=A.cache,kc(c,sa,g),g!==S.cache&&lw(c,[sa],h,!0))),Fa(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function El(o){o.flags|=4}function Xw(o,c,h,g,S){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(VA())o.flags|=8192;else throw td=hv,fw}else o.flags&=-16777217}function gA(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!jM(c))if(VA())o.flags|=8192;else throw td=hv,fw}function Nv(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?_f():536870912,o.lanes|=c,rh|=c)}function Sm(o,c){if(!Or)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function En(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var S=o.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function p7(o,c,h){var g=c.pendingProps;switch(nw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(c),null;case 1:return En(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),wl(sa),ye(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Hf(c)?El(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,sw())),En(c),null;case 26:var S=c.type,A=c.memoizedState;return o===null?(El(c),A!==null?(En(c),gA(c,A)):(En(c),Xw(c,S,null,g,h))):A?A!==o.memoizedState?(El(c),En(c),gA(c,A)):(En(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&El(c),En(c),Xw(c,S,o,g,h)),null;case 27:if(st(c),h=ue.current,S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&El(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return En(c),null}o=Z.current,Hf(c)?Xk(c):(o=SM(S,g,h),c.stateNode=o,El(c))}return En(c),null;case 5:if(st(c),S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&El(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return En(c),null}if(A=Z.current,Hf(c))Xk(c);else{var F=qv(ue.current);switch(A){case 1:A=F.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:A=F.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":A=F.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":A=F.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":A=F.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof g.is=="string"?F.createElement("select",{is:g.is}):F.createElement("select"),g.multiple?A.multiple=!0:g.size&&(A.size=g.size);break;default:A=typeof g.is=="string"?F.createElement(S,{is:g.is}):F.createElement(S)}}A[ee]=c,A[se]=g;e:for(F=c.child;F!==null;){if(F.tag===5||F.tag===6)A.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===c)break e;for(;F.sibling===null;){if(F.return===null||F.return===c)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}c.stateNode=A;e:switch(Ia(A,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&El(c)}}return En(c),Xw(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&El(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=ue.current,Hf(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,S=Da,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}o[ee]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||fM(o.nodeValue,h)),o||Tc(c,!0)}else o=qv(o).createTextNode(g),o[ee]=c,c.stateNode=o}return En(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=Hf(c),h!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ee]=c}else Yu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;En(c),o=!1}else h=sw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Ks(c),c):(Ks(c),null);if((c.flags&128)!==0)throw Error(n(558))}return En(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=Hf(c),g!==null&&g.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ee]=c}else Yu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;En(c),S=!1}else S=sw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(Ks(c),c):(Ks(c),null)}return Ks(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),Nv(c,c.updateQueue),En(c),null);case 4:return ye(),o===null&&v_(c.stateNode.containerInfo),En(c),null;case 10:return wl(c.type),En(c),null;case 19:if(L(Yn),g=c.memoizedState,g===null)return En(c),null;if(S=(c.flags&128)!==0,A=g.rendering,A===null)if(S)Sm(g,!1);else{if(Hn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=vv(o),A!==null){for(c.flags|=128,Sm(g,!1),o=A.updateQueue,c.updateQueue=o,Nv(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)$k(h,o),h=h.sibling;return Y(Yn,Yn.current&1|2),Or&&yl(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&Xe()>Pv&&(c.flags|=128,S=!0,Sm(g,!1),c.lanes=4194304)}else{if(!S)if(o=vv(A),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,Nv(c,o),Sm(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!Or)return En(c),null}else 2*Xe()-g.renderingStartTime>Pv&&h!==536870912&&(c.flags|=128,S=!0,Sm(g,!1),c.lanes=4194304);g.isBackwards?(A.sibling=c.child,c.child=A):(o=g.last,o!==null?o.sibling=A:c.child=A,g.last=A)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Xe(),o.sibling=null,h=Yn.current,Y(Yn,S?h&1|2:h&1),Or&&yl(c,g.treeForkCount),o):(En(c),null);case 22:case 23:return Ks(c),yw(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(En(c),c.subtreeFlags&6&&(c.flags|=8192)):En(c),h=c.updateQueue,h!==null&&Nv(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&L(Zu),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),wl(sa),En(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function g7(o,c){switch(nw(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return wl(sa),ye(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return st(c),null;case 31:if(c.memoizedState!==null){if(Ks(c),c.alternate===null)throw Error(n(340));Yu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Ks(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return L(Yn),null;case 4:return ye(),null;case 10:return wl(c.type),null;case 22:case 23:return Ks(c),yw(),o!==null&&L(Zu),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return wl(sa),null;case 25:return null;default:return null}}function vA(o,c){switch(nw(c),c.tag){case 3:wl(sa),ye();break;case 26:case 27:case 5:st(c);break;case 4:ye();break;case 31:c.memoizedState!==null&&Ks(c);break;case 13:Ks(c);break;case 19:L(Yn);break;case 10:wl(c.type);break;case 22:case 23:Ks(c),yw(),o!==null&&L(Zu);break;case 24:wl(sa)}}function Em(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var S=g.next;h=S;do{if((h.tag&o)===o){g=void 0;var A=h.create,F=h.inst;g=A(),F.destroy=g}h=h.next}while(h!==S)}}catch(q){en(c,c.return,q)}}function Rc(o,c,h){try{var g=c.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&o)===o){var F=g.inst,q=F.destroy;if(q!==void 0){F.destroy=void 0,S=c;var me=h,Fe=q;try{Fe()}catch(Ge){en(S,me,Ge)}}}g=g.next}while(g!==A)}}catch(Ge){en(c,c.return,Ge)}}function yA(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{lC(c,h)}catch(g){en(o,o.return,g)}}}function xA(o,c,h){h.props=ad(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){en(o,c,g)}}function Tm(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(S){en(o,c,S)}}function jo(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(S){en(o,c,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){en(o,c,S)}else h.current=null}function wA(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(S){en(o,o.return,S)}}function Yw(o,c,h){try{var g=o.stateNode;L7(g,o.type,h,c),g[se]=c}catch(S){en(o,o.return,S)}}function _A(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Bc(o.type)||o.tag===4}function Qw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_A(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Bc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Jw(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ts));else if(g!==4&&(g===27&&Bc(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(Jw(o,c,h),o=o.sibling;o!==null;)Jw(o,c,h),o=o.sibling}function jv(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Bc(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(jv(o,c,h),o=o.sibling;o!==null;)jv(o,c,h),o=o.sibling}function bA(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);Ia(c,g,h),c[ee]=o,c[se]=h}catch(A){en(o,o.return,A)}}var Tl=!1,la=!1,Zw=!1,SA=typeof WeakSet=="function"?WeakSet:Set,ka=null;function v7(o,c){if(o=o.containerInfo,w_=Jv,o=I(o),U(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var F=0,q=-1,me=-1,Fe=0,Ge=0,Qe=o,Be=null;t:for(;;){for(var Ve;Qe!==h||S!==0&&Qe.nodeType!==3||(q=F+S),Qe!==A||g!==0&&Qe.nodeType!==3||(me=F+g),Qe.nodeType===3&&(F+=Qe.nodeValue.length),(Ve=Qe.firstChild)!==null;)Be=Qe,Qe=Ve;for(;;){if(Qe===o)break t;if(Be===h&&++Fe===S&&(q=F),Be===A&&++Ge===g&&(me=F),(Ve=Qe.nextSibling)!==null)break;Qe=Be,Be=Qe.parentNode}Qe=Ve}h=q===-1||me===-1?null:{start:q,end:me}}else h=null}h=h||{start:0,end:0}}else h=null;for(__={focusedElem:o,selectionRange:h},Jv=!1,ka=c;ka!==null;)if(c=ka,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,ka=o;else for(;ka!==null;){switch(c=ka,A=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)S=o[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,h=c,S=A.memoizedProps,A=A.memoizedState,g=h.stateNode;try{var Ct=ad(h.type,S);o=g.getSnapshotBeforeUpdate(Ct,A),g.__reactInternalSnapshotBeforeUpdate=o}catch(Kt){en(h,h.return,Kt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)E_(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":E_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,ka=o;break}ka=c.return}}function EA(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Cl(o,h),g&4&&Em(5,h);break;case 1:if(Cl(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(F){en(h,h.return,F)}else{var S=ad(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(S,c,o.__reactInternalSnapshotBeforeUpdate)}catch(F){en(h,h.return,F)}}g&64&&yA(h),g&512&&Tm(h,h.return);break;case 3:if(Cl(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{lC(o,c)}catch(F){en(h,h.return,F)}}break;case 27:c===null&&g&4&&bA(h);case 26:case 5:Cl(o,h),c===null&&g&4&&wA(h),g&512&&Tm(h,h.return);break;case 12:Cl(o,h);break;case 31:Cl(o,h),g&4&&CA(o,h);break;case 13:Cl(o,h),g&4&&AA(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=k7.bind(null,h),G7(o,h))));break;case 22:if(g=h.memoizedState!==null||Tl,!g){c=c!==null&&c.memoizedState!==null||la,S=Tl;var A=la;Tl=g,(la=c)&&!A?Al(o,h,(h.subtreeFlags&8772)!==0):Cl(o,h),Tl=S,la=A}break;case 30:break;default:Cl(o,h)}}function TA(o){var c=o.alternate;c!==null&&(o.alternate=null,TA(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&et(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Rn=null,Cs=!1;function kl(o,c,h){for(h=h.child;h!==null;)kA(o,c,h),h=h.sibling}function kA(o,c,h){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Fr,h)}catch{}switch(h.tag){case 26:la||jo(h,c),kl(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:la||jo(h,c);var g=Rn,S=Cs;Bc(h.type)&&(Rn=h.stateNode,Cs=!1),kl(o,c,h),Dm(h.stateNode),Rn=g,Cs=S;break;case 5:la||jo(h,c);case 6:if(g=Rn,S=Cs,Rn=null,kl(o,c,h),Rn=g,Cs=S,Rn!==null)if(Cs)try{(Rn.nodeType===9?Rn.body:Rn.nodeName==="HTML"?Rn.ownerDocument.body:Rn).removeChild(h.stateNode)}catch(A){en(h,c,A)}else try{Rn.removeChild(h.stateNode)}catch(A){en(h,c,A)}break;case 18:Rn!==null&&(Cs?(o=Rn,yM(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),uh(o)):yM(Rn,h.stateNode));break;case 4:g=Rn,S=Cs,Rn=h.stateNode.containerInfo,Cs=!0,kl(o,c,h),Rn=g,Cs=S;break;case 0:case 11:case 14:case 15:Rc(2,h,c),la||Rc(4,h,c),kl(o,c,h);break;case 1:la||(jo(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&xA(h,c,g)),kl(o,c,h);break;case 21:kl(o,c,h);break;case 22:la=(g=la)||h.memoizedState!==null,kl(o,c,h),la=g;break;default:kl(o,c,h)}}function CA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{uh(o)}catch(h){en(c,c.return,h)}}}function AA(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{uh(o)}catch(h){en(c,c.return,h)}}function y7(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new SA),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new SA),c;default:throw Error(n(435,o.tag))}}function Rv(o,c){var h=y7(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var S=C7.bind(null,o,g);g.then(S,S)}})}function As(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g],A=o,F=c,q=F;e:for(;q!==null;){switch(q.tag){case 27:if(Bc(q.type)){Rn=q.stateNode,Cs=!1;break e}break;case 5:Rn=q.stateNode,Cs=!1;break e;case 3:case 4:Rn=q.stateNode.containerInfo,Cs=!0;break e}q=q.return}if(Rn===null)throw Error(n(160));kA(A,F,S),Rn=null,Cs=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)MA(c,o),c=c.sibling}var Ki=null;function MA(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:As(c,o),Ms(o),g&4&&(Rc(3,o,o.return),Em(3,o),Rc(5,o,o.return));break;case 1:As(c,o),Ms(o),g&512&&(la||h===null||jo(h,h.return)),g&64&&Tl&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var S=Ki;if(As(c,o),Ms(o),g&512&&(la||h===null||jo(h,h.return)),g&4){var A=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[De]||A[ee]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),Ia(A,g,h),A[ee]=o,kt(A),g=A;break e;case"link":var F=MM("link","href",S).get(g+(h.href||""));if(F){for(var q=0;q<F.length;q++)if(A=F[q],A.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&A.getAttribute("rel")===(h.rel==null?null:h.rel)&&A.getAttribute("title")===(h.title==null?null:h.title)&&A.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){F.splice(q,1);break t}}A=S.createElement(g),Ia(A,g,h),S.head.appendChild(A);break;case"meta":if(F=MM("meta","content",S).get(g+(h.content||""))){for(q=0;q<F.length;q++)if(A=F[q],A.getAttribute("content")===(h.content==null?null:""+h.content)&&A.getAttribute("name")===(h.name==null?null:h.name)&&A.getAttribute("property")===(h.property==null?null:h.property)&&A.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&A.getAttribute("charset")===(h.charSet==null?null:h.charSet)){F.splice(q,1);break t}}A=S.createElement(g),Ia(A,g,h),S.head.appendChild(A);break;default:throw Error(n(468,g))}A[ee]=o,kt(A),g=A}o.stateNode=g}else NM(S,o.type,o.stateNode);else o.stateNode=AM(S,g,o.memoizedProps);else A!==g?(A===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):A.count--,g===null?NM(S,o.type,o.stateNode):AM(S,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Yw(o,o.memoizedProps,h.memoizedProps)}break;case 27:As(c,o),Ms(o),g&512&&(la||h===null||jo(h,h.return)),h!==null&&g&4&&Yw(o,o.memoizedProps,h.memoizedProps);break;case 5:if(As(c,o),Ms(o),g&512&&(la||h===null||jo(h,h.return)),o.flags&32){S=o.stateNode;try{ll(S,"")}catch(Ct){en(o,o.return,Ct)}}g&4&&o.stateNode!=null&&(S=o.memoizedProps,Yw(o,S,h!==null?h.memoizedProps:S)),g&1024&&(Zw=!0);break;case 6:if(As(c,o),Ms(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Ct){en(o,o.return,Ct)}}break;case 3:if(Kv=null,S=Ki,Ki=Gv(c.containerInfo),As(c,o),Ki=S,Ms(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{uh(c.containerInfo)}catch(Ct){en(o,o.return,Ct)}Zw&&(Zw=!1,NA(o));break;case 4:g=Ki,Ki=Gv(o.stateNode.containerInfo),As(c,o),Ms(o),Ki=g;break;case 12:As(c,o),Ms(o);break;case 31:As(c,o),Ms(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Rv(o,g)));break;case 13:As(c,o),Ms(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Dv=Xe()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Rv(o,g)));break;case 22:S=o.memoizedState!==null;var me=h!==null&&h.memoizedState!==null,Fe=Tl,Ge=la;if(Tl=Fe||S,la=Ge||me,As(c,o),la=Ge,Tl=Fe,Ms(o),g&8192)e:for(c=o.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(h===null||me||Tl||la||sd(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){me=h=c;try{if(A=me.stateNode,S)F=A.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{q=me.stateNode;var Qe=me.memoizedProps.style,Be=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;q.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(Ct){en(me,me.return,Ct)}}}else if(c.tag===6){if(h===null){me=c;try{me.stateNode.nodeValue=S?"":me.memoizedProps}catch(Ct){en(me,me.return,Ct)}}}else if(c.tag===18){if(h===null){me=c;try{var Ve=me.stateNode;S?xM(Ve,!0):xM(me.stateNode,!1)}catch(Ct){en(me,me.return,Ct)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Rv(o,h))));break;case 19:As(c,o),Ms(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Rv(o,g)));break;case 30:break;case 21:break;default:As(c,o),Ms(o)}}function Ms(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(_A(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,A=Qw(o);jv(o,A,S);break;case 5:var F=h.stateNode;h.flags&32&&(ll(F,""),h.flags&=-33);var q=Qw(o);jv(o,q,F);break;case 3:case 4:var me=h.stateNode.containerInfo,Fe=Qw(o);Jw(o,Fe,me);break;default:throw Error(n(161))}}catch(Ge){en(o,o.return,Ge)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function NA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;NA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Cl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)EA(o,c.alternate,c),c=c.sibling}function sd(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Rc(4,c,c.return),sd(c);break;case 1:jo(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&xA(c,c.return,h),sd(c);break;case 27:Dm(c.stateNode);case 26:case 5:jo(c,c.return),sd(c);break;case 22:c.memoizedState===null&&sd(c);break;case 30:sd(c);break;default:sd(c)}o=o.sibling}}function Al(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,S=o,A=c,F=A.flags;switch(A.tag){case 0:case 11:case 15:Al(S,A,h),Em(4,A);break;case 1:if(Al(S,A,h),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Fe){en(g,g.return,Fe)}if(g=A,S=g.updateQueue,S!==null){var q=g.stateNode;try{var me=S.shared.hiddenCallbacks;if(me!==null)for(S.shared.hiddenCallbacks=null,S=0;S<me.length;S++)oC(me[S],q)}catch(Fe){en(g,g.return,Fe)}}h&&F&64&&yA(A),Tm(A,A.return);break;case 27:bA(A);case 26:case 5:Al(S,A,h),h&&g===null&&F&4&&wA(A),Tm(A,A.return);break;case 12:Al(S,A,h);break;case 31:Al(S,A,h),h&&F&4&&CA(S,A);break;case 13:Al(S,A,h),h&&F&4&&AA(S,A);break;case 22:A.memoizedState===null&&Al(S,A,h),Tm(A,A.return);break;case 30:break;default:Al(S,A,h)}c=c.sibling}}function e_(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&dm(h))}function t_(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dm(o))}function Xi(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jA(o,c,h,g),c=c.sibling}function jA(o,c,h,g){var S=c.flags;switch(c.tag){case 0:case 11:case 15:Xi(o,c,h,g),S&2048&&Em(9,c);break;case 1:Xi(o,c,h,g);break;case 3:Xi(o,c,h,g),S&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dm(o)));break;case 12:if(S&2048){Xi(o,c,h,g),o=c.stateNode;try{var A=c.memoizedProps,F=A.id,q=A.onPostCommit;typeof q=="function"&&q(F,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){en(c,c.return,me)}}else Xi(o,c,h,g);break;case 31:Xi(o,c,h,g);break;case 13:Xi(o,c,h,g);break;case 23:break;case 22:A=c.stateNode,F=c.alternate,c.memoizedState!==null?A._visibility&2?Xi(o,c,h,g):km(o,c):A._visibility&2?Xi(o,c,h,g):(A._visibility|=2,Zf(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),S&2048&&e_(F,c);break;case 24:Xi(o,c,h,g),S&2048&&t_(c.alternate,c);break;default:Xi(o,c,h,g)}}function Zf(o,c,h,g,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var A=o,F=c,q=h,me=g,Fe=F.flags;switch(F.tag){case 0:case 11:case 15:Zf(A,F,q,me,S),Em(8,F);break;case 23:break;case 22:var Ge=F.stateNode;F.memoizedState!==null?Ge._visibility&2?Zf(A,F,q,me,S):km(A,F):(Ge._visibility|=2,Zf(A,F,q,me,S)),S&&Fe&2048&&e_(F.alternate,F);break;case 24:Zf(A,F,q,me,S),S&&Fe&2048&&t_(F.alternate,F);break;default:Zf(A,F,q,me,S)}c=c.sibling}}function km(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,S=g.flags;switch(g.tag){case 22:km(h,g),S&2048&&e_(g.alternate,g);break;case 24:km(h,g),S&2048&&t_(g.alternate,g);break;default:km(h,g)}c=c.sibling}}var Cm=8192;function eh(o,c,h){if(o.subtreeFlags&Cm)for(o=o.child;o!==null;)RA(o,c,h),o=o.sibling}function RA(o,c,h){switch(o.tag){case 26:eh(o,c,h),o.flags&Cm&&o.memoizedState!==null&&a9(h,Ki,o.memoizedState,o.memoizedProps);break;case 5:eh(o,c,h);break;case 3:case 4:var g=Ki;Ki=Gv(o.stateNode.containerInfo),eh(o,c,h),Ki=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Cm,Cm=16777216,eh(o,c,h),Cm=g):eh(o,c,h));break;default:eh(o,c,h)}}function OA(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Am(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ka=g,PA(g,o)}OA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)DA(o),o=o.sibling}function DA(o){switch(o.tag){case 0:case 11:case 15:Am(o),o.flags&2048&&Rc(9,o,o.return);break;case 3:Am(o);break;case 12:Am(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ov(o)):Am(o);break;default:Am(o)}}function Ov(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];ka=g,PA(g,o)}OA(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Rc(8,c,c.return),Ov(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Ov(c));break;default:Ov(c)}o=o.sibling}}function PA(o,c){for(;ka!==null;){var h=ka;switch(h.tag){case 0:case 11:case 15:Rc(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dm(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,ka=g;else e:for(h=o;ka!==null;){g=ka;var S=g.sibling,A=g.return;if(TA(g),g===h){ka=null;break e}if(S!==null){S.return=A,ka=S;break e}ka=A}}}var x7={getCacheForType:function(o){var c=Pa(sa),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Pa(sa).controller.signal}},w7=typeof WeakMap=="function"?WeakMap:Map,Xr=0,pn=null,Er=null,Ar=0,Zr=0,Xs=null,Oc=!1,th=!1,r_=!1,Ml=0,Hn=0,Dc=0,id=0,n_=0,Ys=0,rh=0,Mm=null,Ns=null,a_=!1,Dv=0,FA=0,Pv=1/0,Fv=null,Pc=null,pa=0,Fc=null,nh=null,Nl=0,s_=0,i_=null,IA=null,Nm=0,o_=null;function Qs(){return(Xr&2)!==0&&Ar!==0?Ar&-Ar:K.T!==null?h_():z()}function LA(){if(Ys===0)if((Ar&536870912)===0||Or){var o=So;So<<=1,(So&3932160)===0&&(So=262144),Ys=o}else Ys=536870912;return o=Ws.current,o!==null&&(o.flags|=32),Ys}function js(o,c,h){(o===pn&&(Zr===2||Zr===9)||o.cancelPendingCommit!==null)&&(ah(o,0),Ic(o,Ar,Ys,!1)),Es(o,h),((Xr&2)===0||o!==pn)&&(o===pn&&((Xr&2)===0&&(id|=h),Hn===4&&Ic(o,Ar,Ys,!1)),Ro(o))}function BA(o,c,h){if((Xr&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||$i(o,c),S=g?S7(o,c):c_(o,c,!0),A=g;do{if(S===0){th&&!g&&Ic(o,c,0,!1);break}else{if(h=o.current.alternate,A&&!_7(h)){S=c_(o,c,!1),A=!1;continue}if(S===2){if(A=c,o.errorRecoveryDisabledLanes&A)var F=0;else F=o.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){c=F;e:{var q=o;S=Mm;var me=q.current.memoizedState.isDehydrated;if(me&&(ah(q,F).flags|=256),F=c_(q,F,!1),F!==2){if(r_&&!me){q.errorRecoveryDisabledLanes|=A,id|=A,S=4;break e}A=Ns,Ns=S,A!==null&&(Ns===null?Ns=A:Ns.push.apply(Ns,A))}S=F}if(A=!1,S!==2)continue}}if(S===1){ah(o,0),Ic(o,c,0,!0);break}e:{switch(g=o,A=S,A){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Ic(g,c,Ys,!Oc);break e;case 2:Ns=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(S=Dv+300-Xe(),10<S)){if(Ic(g,c,Ys,!Oc),il(g,0,!0)!==0)break e;Nl=c,g.timeoutHandle=gM(UA.bind(null,g,h,Ns,Fv,a_,c,Ys,id,rh,Oc,A,"Throttled",-0,0),S);break e}UA(g,h,Ns,Fv,a_,c,Ys,id,rh,Oc,A,null,-0,0)}}break}while(!0);Ro(o)}function UA(o,c,h,g,S,A,F,q,me,Fe,Ge,Qe,Be,Ve){if(o.timeoutHandle=-1,Qe=c.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},RA(c,A,Qe);var Ct=(A&62914560)===A?Dv-Xe():(A&4194048)===A?FA-Xe():0;if(Ct=s9(Qe,Ct),Ct!==null){Nl=A,o.cancelPendingCommit=Ct(KA.bind(null,o,c,A,h,g,S,F,q,me,Ge,Qe,null,Be,Ve)),Ic(o,A,F,!Fe);return}}KA(o,c,A,h,g,S,F,q,me)}function _7(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var S=h[g],A=S.getSnapshot;S=S.value;try{if(!Ya(A(),S))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ic(o,c,h,g){c&=~n_,c&=~id,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var S=c;0<S;){var A=31-vt(S),F=1<<A;g[A]=-1,S&=~F}h!==0&&ol(o,h,c)}function Iv(){return(Xr&6)===0?(jm(0),!1):!0}function l_(){if(Er!==null){if(Zr===0)var o=Er.return;else o=Er,xl=Qu=null,Ew(o),Kf=null,hm=0,o=Er;for(;o!==null;)vA(o.alternate,o),o=o.return;Er=null}}function ah(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,z7(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Nl=0,l_(),pn=o,Er=h=vl(o.current,null),Ar=c,Zr=0,Xs=null,Oc=!1,th=$i(o,c),r_=!1,rh=Ys=n_=id=Dc=Hn=0,Ns=Mm=null,a_=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var S=31-vt(g),A=1<<S;c|=o[S],g&=~A}return Ml=c,Ta(),h}function zA(o,c){ur=null,K.H=_m,c===Wf||c===fv?(c=nC(),Zr=3):c===fw?(c=nC(),Zr=4):Zr=c===Uw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Xs=c,Er===null&&(Hn=1,kv(o,hi(c,o.current)))}function VA(){var o=Ws.current;return o===null?!0:(Ar&4194048)===Ar?vi===null:(Ar&62914560)===Ar||(Ar&536870912)!==0?o===vi:!1}function HA(){var o=K.H;return K.H=_m,o===null?_m:o}function $A(){var o=K.A;return K.A=x7,o}function Lv(){Hn=4,Oc||(Ar&4194048)!==Ar&&Ws.current!==null||(th=!0),(Dc&134217727)===0&&(id&134217727)===0||pn===null||Ic(pn,Ar,Ys,!1)}function c_(o,c,h){var g=Xr;Xr|=2;var S=HA(),A=$A();(pn!==o||Ar!==c)&&(Fv=null,ah(o,c)),c=!1;var F=Hn;e:do try{if(Zr!==0&&Er!==null){var q=Er,me=Xs;switch(Zr){case 8:l_(),F=6;break e;case 3:case 2:case 9:case 6:Ws.current===null&&(c=!0);var Fe=Zr;if(Zr=0,Xs=null,sh(o,q,me,Fe),h&&th){F=0;break e}break;default:Fe=Zr,Zr=0,Xs=null,sh(o,q,me,Fe)}}b7(),F=Hn;break}catch(Ge){zA(o,Ge)}while(!0);return c&&o.shellSuspendCounter++,xl=Qu=null,Xr=g,K.H=S,K.A=A,Er===null&&(pn=null,Ar=0,Ta()),F}function b7(){for(;Er!==null;)qA(Er)}function S7(o,c){var h=Xr;Xr|=2;var g=HA(),S=$A();pn!==o||Ar!==c?(Fv=null,Pv=Xe()+500,ah(o,c)):th=$i(o,c);e:do try{if(Zr!==0&&Er!==null){c=Er;var A=Xs;t:switch(Zr){case 1:Zr=0,Xs=null,sh(o,c,A,1);break;case 2:case 9:if(tC(A)){Zr=0,Xs=null,GA(c);break}c=function(){Zr!==2&&Zr!==9||pn!==o||(Zr=7),Ro(o)},A.then(c,c);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:tC(A)?(Zr=0,Xs=null,GA(c)):(Zr=0,Xs=null,sh(o,c,A,7));break;case 5:var F=null;switch(Er.tag){case 26:F=Er.memoizedState;case 5:case 27:var q=Er;if(F?jM(F):q.stateNode.complete){Zr=0,Xs=null;var me=q.sibling;if(me!==null)Er=me;else{var Fe=q.return;Fe!==null?(Er=Fe,Bv(Fe)):Er=null}break t}}Zr=0,Xs=null,sh(o,c,A,5);break;case 6:Zr=0,Xs=null,sh(o,c,A,6);break;case 8:l_(),Hn=6;break e;default:throw Error(n(462))}}E7();break}catch(Ge){zA(o,Ge)}while(!0);return xl=Qu=null,K.H=g,K.A=S,Xr=h,Er!==null?0:(pn=null,Ar=0,Ta(),Hn)}function E7(){for(;Er!==null&&!jr();)qA(Er)}function qA(o){var c=pA(o.alternate,o,Ml);o.memoizedProps=o.pendingProps,c===null?Bv(o):Er=c}function GA(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=cA(h,c,c.pendingProps,c.type,void 0,Ar);break;case 11:c=cA(h,c,c.pendingProps,c.type.render,c.ref,Ar);break;case 5:Ew(c);default:vA(h,c),c=Er=$k(c,Ml),c=pA(h,c,Ml)}o.memoizedProps=o.pendingProps,c===null?Bv(o):Er=c}function sh(o,c,h,g){xl=Qu=null,Ew(c),Kf=null,hm=0;var S=c.return;try{if(f7(o,S,c,h,Ar)){Hn=1,kv(o,hi(h,o.current)),Er=null;return}}catch(A){if(S!==null)throw Er=S,A;Hn=1,kv(o,hi(h,o.current)),Er=null;return}c.flags&32768?(Or||g===1?o=!0:th||(Ar&536870912)!==0?o=!1:(Oc=o=!0,(g===2||g===9||g===3||g===6)&&(g=Ws.current,g!==null&&g.tag===13&&(g.flags|=16384))),WA(c,o)):Bv(c)}function Bv(o){var c=o;do{if((c.flags&32768)!==0){WA(c,Oc);return}o=c.return;var h=p7(c.alternate,c,Ml);if(h!==null){Er=h;return}if(c=c.sibling,c!==null){Er=c;return}Er=c=o}while(c!==null);Hn===0&&(Hn=5)}function WA(o,c){do{var h=g7(o.alternate,o);if(h!==null){h.flags&=32767,Er=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Er=o;return}Er=o=h}while(o!==null);Hn=6,Er=null}function KA(o,c,h,g,S,A,F,q,me){o.cancelPendingCommit=null;do Uv();while(pa!==0);if((Xr&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(A=c.lanes|c.childLanes,A|=cr,Pu(o,h,A,F,q,me),o===pn&&(Er=pn=null,Ar=0),nh=c,Fc=o,Nl=h,s_=A,i_=S,IA=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,A7(pr,function(){return ZA(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=K.T,K.T=null,S=re.p,re.p=2,F=Xr,Xr|=4;try{v7(o,c,h)}finally{Xr=F,re.p=S,K.T=g}}pa=1,XA(),YA(),QA()}}function XA(){if(pa===1){pa=0;var o=Fc,c=nh,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var g=re.p;re.p=2;var S=Xr;Xr|=4;try{MA(c,o);var A=__,F=I(o.containerInfo),q=A.focusedElem,me=A.selectionRange;if(F!==q&&q&&q.ownerDocument&&P(q.ownerDocument.documentElement,q)){if(me!==null&&U(q)){var Fe=me.start,Ge=me.end;if(Ge===void 0&&(Ge=Fe),"selectionStart"in q)q.selectionStart=Fe,q.selectionEnd=Math.min(Ge,q.value.length);else{var Qe=q.ownerDocument||document,Be=Qe&&Qe.defaultView||window;if(Be.getSelection){var Ve=Be.getSelection(),Ct=q.textContent.length,Kt=Math.min(me.start,Ct),hn=me.end===void 0?Kt:Math.min(me.end,Ct);!Ve.extend&&Kt>hn&&(F=hn,hn=Kt,Kt=F);var Ae=N(q,Kt),be=N(q,hn);if(Ae&&be&&(Ve.rangeCount!==1||Ve.anchorNode!==Ae.node||Ve.anchorOffset!==Ae.offset||Ve.focusNode!==be.node||Ve.focusOffset!==be.offset)){var Pe=Qe.createRange();Pe.setStart(Ae.node,Ae.offset),Ve.removeAllRanges(),Kt>hn?(Ve.addRange(Pe),Ve.extend(be.node,be.offset)):(Pe.setEnd(be.node,be.offset),Ve.addRange(Pe))}}}}for(Qe=[],Ve=q;Ve=Ve.parentNode;)Ve.nodeType===1&&Qe.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Qe.length;q++){var Ke=Qe[q];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Jv=!!w_,__=w_=null}finally{Xr=S,re.p=g,K.T=h}}o.current=c,pa=2}}function YA(){if(pa===2){pa=0;var o=Fc,c=nh,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var g=re.p;re.p=2;var S=Xr;Xr|=4;try{EA(o,c.alternate,c)}finally{Xr=S,re.p=g,K.T=h}}pa=3}}function QA(){if(pa===4||pa===3){pa=0,wr();var o=Fc,c=nh,h=Nl,g=IA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?pa=5:(pa=0,nh=Fc=null,JA(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(Pc=null),Eo(h),c=c.stateNode,Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Fr,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=K.T,S=re.p,re.p=2,K.T=null;try{for(var A=o.onRecoverableError,F=0;F<g.length;F++){var q=g[F];A(q.value,{componentStack:q.stack})}}finally{K.T=c,re.p=S}}(Nl&3)!==0&&Uv(),Ro(o),S=o.pendingLanes,(h&261930)!==0&&(S&42)!==0?o===o_?Nm++:(Nm=0,o_=o):Nm=0,jm(0)}}function JA(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,dm(c)))}function Uv(){return XA(),YA(),QA(),ZA()}function ZA(){if(pa!==5)return!1;var o=Fc,c=s_;s_=0;var h=Eo(Nl),g=K.T,S=re.p;try{re.p=32>h?32:h,K.T=null,h=i_,i_=null;var A=Fc,F=Nl;if(pa=0,nh=Fc=null,Nl=0,(Xr&6)!==0)throw Error(n(331));var q=Xr;if(Xr|=4,DA(A.current),jA(A,A.current,F,h),Xr=q,jm(0,!1),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Fr,A)}catch{}return!0}finally{re.p=S,K.T=g,JA(o,c)}}function eM(o,c,h){c=hi(h,c),c=Bw(o.stateNode,c,2),o=Mc(o,c,2),o!==null&&(Es(o,2),Ro(o))}function en(o,c,h){if(o.tag===3)eM(o,o,h);else for(;c!==null;){if(c.tag===3){eM(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Pc===null||!Pc.has(g))){o=hi(h,o),h=tA(2),g=Mc(c,h,2),g!==null&&(rA(h,g,c,o),Es(g,2),Ro(g));break}}c=c.return}}function u_(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new w7;var S=new Set;g.set(c,S)}else S=g.get(c),S===void 0&&(S=new Set,g.set(c,S));S.has(h)||(r_=!0,S.add(h),o=T7.bind(null,o,c,h),c.then(o,o))}function T7(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,pn===o&&(Ar&h)===h&&(Hn===4||Hn===3&&(Ar&62914560)===Ar&&300>Xe()-Dv?(Xr&2)===0&&ah(o,0):n_|=h,rh===Ar&&(rh=0)),Ro(o)}function tM(o,c){c===0&&(c=_f()),o=jn(o,c),o!==null&&(Es(o,c),Ro(o))}function k7(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),tM(o,h)}function C7(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,S=o.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),tM(o,h)}function A7(o,c){return Ft(o,c)}var zv=null,ih=null,d_=!1,Vv=!1,f_=!1,Lc=0;function Ro(o){o!==ih&&o.next===null&&(ih===null?zv=ih=o:ih=ih.next=o),Vv=!0,d_||(d_=!0,N7())}function jm(o,c){if(!f_&&Vv){f_=!0;do for(var h=!1,g=zv;g!==null;){if(o!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var F=g.suspendedLanes,q=g.pingedLanes;A=(1<<31-vt(42|o)+1)-1,A&=S&~(F&~q),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(h=!0,sM(g,A))}else A=Ar,A=il(g,g===pn?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||$i(g,A)||(h=!0,sM(g,A));g=g.next}while(h);f_=!1}}function M7(){rM()}function rM(){Vv=d_=!1;var o=0;Lc!==0&&U7()&&(o=Lc);for(var c=Xe(),h=null,g=zv;g!==null;){var S=g.next,A=nM(g,c);A===0?(g.next=null,h===null?zv=S:h.next=S,S===null&&(ih=h)):(h=g,(o!==0||(A&3)!==0)&&(Vv=!0)),g=S}pa!==0&&pa!==5||jm(o),Lc!==0&&(Lc=0)}function nM(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,S=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var F=31-vt(A),q=1<<F,me=S[F];me===-1?((q&h)===0||(q&g)!==0)&&(S[F]=H0(q,c)):me<=c&&(o.expiredLanes|=q),A&=~q}if(c=pn,h=Ar,h=il(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(Zr===2||Zr===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Pt(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||$i(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&Pt(g),Eo(h)){case 2:case 8:h=_r;break;case 32:h=pr;break;case 268435456:h=Gt;break;default:h=pr}return g=aM.bind(null,o),h=Ft(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&Pt(g),o.callbackPriority=2,o.callbackNode=null,2}function aM(o,c){if(pa!==0&&pa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Uv()&&o.callbackNode!==h)return null;var g=Ar;return g=il(o,o===pn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(BA(o,g,c),nM(o,Xe()),o.callbackNode!=null&&o.callbackNode===h?aM.bind(null,o):null)}function sM(o,c){if(Uv())return null;BA(o,c,!0)}function N7(){V7(function(){(Xr&6)!==0?Ft(lr,M7):rM()})}function h_(){if(Lc===0){var o=qf;o===0&&(o=mt,mt<<=1,(mt&261888)===0&&(mt=256)),Lc=o}return Lc}function iM(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Wi(""+o)}function oM(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function j7(o,c,h,g,S){if(c==="submit"&&h&&h.stateNode===S){var A=iM((S[se]||null).action),F=g.submitter;F&&(c=(c=F[se]||null)?iM(c.formAction):F.getAttribute("formAction"),c!==null&&(A=c,F=null));var q=new kf("action","action",null,g,S);o.push({event:q,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Lc!==0){var me=F?oM(S,F):new FormData(S);Ow(h,{pending:!0,data:me,method:S.method,action:A},null,me)}}else typeof A=="function"&&(q.preventDefault(),me=F?oM(S,F):new FormData(S),Ow(h,{pending:!0,data:me,method:S.method,action:A},A,me))},currentTarget:S}]})}}for(var m_=0;m_<pt.length;m_++){var p_=pt[m_],R7=p_.toLowerCase(),O7=p_[0].toUpperCase()+p_.slice(1);at(R7,"on"+O7)}at(Ne,"onAnimationEnd"),at(Le,"onAnimationIteration"),at(He,"onAnimationStart"),at("dblclick","onDoubleClick"),at("focusin","onFocus"),at("focusout","onBlur"),at(Ye,"onTransitionRun"),at(lt,"onTransitionStart"),at(gt,"onTransitionCancel"),at(nt,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rm));function lM(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],S=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var F=g.length-1;0<=F;F--){var q=g[F],me=q.instance,Fe=q.currentTarget;if(q=q.listener,me!==A&&S.isPropagationStopped())break e;A=q,S.currentTarget=Fe;try{A(S)}catch(Ge){bt(Ge)}S.currentTarget=null,A=me}else for(F=0;F<g.length;F++){if(q=g[F],me=q.instance,Fe=q.currentTarget,q=q.listener,me!==A&&S.isPropagationStopped())break e;A=q,S.currentTarget=Fe;try{A(S)}catch(Ge){bt(Ge)}S.currentTarget=null,A=me}}}}function Tr(o,c){var h=c[Oe];h===void 0&&(h=c[Oe]=new Set);var g=o+"__bubble";h.has(g)||(cM(c,o,2,!1),h.add(g))}function g_(o,c,h){var g=0;c&&(g|=4),cM(h,o,g,c)}var Hv="_reactListening"+Math.random().toString(36).slice(2);function v_(o){if(!o[Hv]){o[Hv]=!0,Lr.forEach(function(h){h!=="selectionchange"&&(D7.has(h)||g_(h,!1,o),g_(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Hv]||(c[Hv]=!0,g_("selectionchange",!1,c))}}function cM(o,c,h,g){switch(LM(c)){case 2:var S=l9;break;case 8:S=c9;break;default:S=R_}h=S.bind(null,c,h,o),S=void 0,!K0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),g?S!==void 0?o.addEventListener(c,h,{capture:!0,passive:S}):o.addEventListener(c,h,!0):S!==void 0?o.addEventListener(c,h,{passive:S}):o.addEventListener(c,h,!1)}function y_(o,c,h,g,S){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var q=g.stateNode.containerInfo;if(q===S)break;if(F===4)for(F=g.return;F!==null;){var me=F.tag;if((me===3||me===4)&&F.stateNode.containerInfo===S)return;F=F.return}for(;q!==null;){if(F=ot(q),F===null)return;if(me=F.tag,me===5||me===6||me===26||me===27){g=A=F;continue e}q=q.parentNode}}g=g.return}mc(function(){var Fe=A,Ge=Ef(h),Qe=[];e:{var Be=dt.get(o);if(Be!==void 0){var Ve=kf,Ct=o;switch(o){case"keypress":if(vc(h)===0)break e;case"keydown":case"keyup":Ve=Of;break;case"focusin":Ct="focus",Ve=yc;break;case"focusout":Ct="blur",Ve=yc;break;case"beforeblur":case"afterblur":Ve=yc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=tm;break;case Ne:case Le:case He:Ve=Qg;break;case nt:Ve=rm;break;case"scroll":case"scrollend":Ve=Cf;break;case"wheel":Ve=Pf;break;case"copy":case"cut":case"paste":Ve=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=em;break;case"toggle":case"beforetoggle":Ve=ev}var Kt=(c&4)!==0,hn=!Kt&&(o==="scroll"||o==="scrollend"),Ae=Kt?Be!==null?Be+"Capture":null:Be;Kt=[];for(var be=Fe,Pe;be!==null;){var Ke=be;if(Pe=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Pe===null||Ae===null||(Ke=dl(be,Ae),Ke!=null&&Kt.push(Om(be,Ke,Pe))),hn)break;be=be.return}0<Kt.length&&(Be=new Ve(Be,Ct,null,h,Ge),Qe.push({event:Be,listeners:Kt}))}}if((c&7)===0){e:{if(Be=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Be&&h!==ui&&(Ct=h.relatedTarget||h.fromElement)&&(ot(Ct)||Ct[ce]))break e;if((Ve||Be)&&(Be=Ge.window===Ge?Ge:(Be=Ge.ownerDocument)?Be.defaultView||Be.parentWindow:window,Ve?(Ct=h.relatedTarget||h.toElement,Ve=Fe,Ct=Ct?ot(Ct):null,Ct!==null&&(hn=s(Ct),Kt=Ct.tag,Ct!==hn||Kt!==5&&Kt!==27&&Kt!==6)&&(Ct=null)):(Ve=null,Ct=Fe),Ve!==Ct)){if(Kt=Mf,Ke="onMouseLeave",Ae="onMouseEnter",be="mouse",(o==="pointerout"||o==="pointerover")&&(Kt=em,Ke="onPointerLeave",Ae="onPointerEnter",be="pointer"),hn=Ve==null?Be:Ze(Ve),Pe=Ct==null?Be:Ze(Ct),Be=new Kt(Ke,be+"leave",Ve,h,Ge),Be.target=hn,Be.relatedTarget=Pe,Ke=null,ot(Ge)===Fe&&(Kt=new Kt(Ae,be+"enter",Ct,h,Ge),Kt.target=Pe,Kt.relatedTarget=hn,Ke=Kt),hn=Ke,Ve&&Ct)t:{for(Kt=P7,Ae=Ve,be=Ct,Pe=0,Ke=Ae;Ke;Ke=Kt(Ke))Pe++;Ke=0;for(var Ht=be;Ht;Ht=Kt(Ht))Ke++;for(;0<Pe-Ke;)Ae=Kt(Ae),Pe--;for(;0<Ke-Pe;)be=Kt(be),Ke--;for(;Pe--;){if(Ae===be||be!==null&&Ae===be.alternate){Kt=Ae;break t}Ae=Kt(Ae),be=Kt(be)}Kt=null}else Kt=null;Ve!==null&&uM(Qe,Be,Ve,Kt,!1),Ct!==null&&hn!==null&&uM(Qe,hn,Ct,Kt,!0)}}e:{if(Be=Fe?Ze(Fe):window,Ve=Be.nodeName&&Be.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Be.type==="file")var Hr=Wu;else if(Lf(Be))if(fi)Hr=bc;else{Hr=gl;var Dt=iv}else Ve=Be.nodeName,!Ve||Ve.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Fe&&W0(Fe.elementType)&&(Hr=Wu):Hr=om;if(Hr&&(Hr=Hr(o,Fe))){im(Qe,Hr,h,Ge);break e}Dt&&Dt(o,Be,Fe),o==="focusout"&&Fe&&Be.type==="number"&&Fe.memoizedProps.value!=null&&Bu(Be,"number",Be.value)}switch(Dt=Fe?Ze(Fe):window,o){case"focusin":(Lf(Dt)||Dt.contentEditable==="true")&&(de=Dt,xe=Fe,we=null);break;case"focusout":we=xe=de=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,pe(Qe,h,Ge);break;case"selectionchange":if(ae)break;case"keydown":case"keyup":pe(Qe,h,Ge)}var hr;if(qu)e:{switch(o){case"compositionstart":var Mr="onCompositionStart";break e;case"compositionend":Mr="onCompositionEnd";break e;case"compositionupdate":Mr="onCompositionUpdate";break e}Mr=void 0}else pl?sm(o,h)&&(Mr="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Mr="onCompositionStart");Mr&&(Ff&&h.locale!=="ko"&&(pl||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&pl&&(hr=gc()):(di=Ge,Tf="value"in di?di.value:di.textContent,pl=!0)),Dt=$v(Fe,Mr),0<Dt.length&&(Mr=new Rf(Mr,o,null,h,Ge),Qe.push({event:Mr,listeners:Dt}),hr?Mr.data=hr:(hr=rv(h),hr!==null&&(Mr.data=hr)))),(hr=Y1?nv(o,h):Q1(o,h))&&(Mr=$v(Fe,"onBeforeInput"),0<Mr.length&&(Dt=new Rf("onBeforeInput","beforeinput",null,h,Ge),Qe.push({event:Dt,listeners:Mr}),Dt.data=hr)),j7(Qe,o,Fe,h,Ge)}lM(Qe,c)})}function Om(o,c,h){return{instance:o,listener:c,currentTarget:h}}function $v(o,c){for(var h=c+"Capture",g=[];o!==null;){var S=o,A=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=dl(o,h),S!=null&&g.unshift(Om(o,S,A)),S=dl(o,c),S!=null&&g.push(Om(o,S,A))),o.tag===3)return g;o=o.return}return[]}function P7(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function uM(o,c,h,g,S){for(var A=c._reactName,F=[];h!==null&&h!==g;){var q=h,me=q.alternate,Fe=q.stateNode;if(q=q.tag,me!==null&&me===g)break;q!==5&&q!==26&&q!==27||Fe===null||(me=Fe,S?(Fe=dl(h,A),Fe!=null&&F.unshift(Om(h,Fe,me))):S||(Fe=dl(h,A),Fe!=null&&F.push(Om(h,Fe,me)))),h=h.return}F.length!==0&&o.push({event:c,listeners:F})}var F7=/\r\n?/g,I7=/\u0000|\uFFFD/g;function dM(o){return(typeof o=="string"?o:""+o).replace(F7,`
`).replace(I7,"")}function fM(o,c){return c=dM(c),dM(o)===c}function fn(o,c,h,g,S,A){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ll(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ll(o,""+g);break;case"className":Iu(o,"class",g);break;case"tabIndex":Iu(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Iu(o,h,g);break;case"style":G0(o,g,A);break;case"data":if(c!=="object"){Iu(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Wi(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(h==="formAction"?(c!=="input"&&fn(o,c,"name",S.name,S,null),fn(o,c,"formEncType",S.formEncType,S,null),fn(o,c,"formMethod",S.formMethod,S,null),fn(o,c,"formTarget",S.formTarget,S,null)):(fn(o,c,"encType",S.encType,S,null),fn(o,c,"method",S.method,S,null),fn(o,c,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Wi(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Ts);break;case"onScroll":g!=null&&Tr("scroll",o);break;case"onScrollEnd":g!=null&&Tr("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Wi(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Tr("beforetoggle",o),Tr("toggle",o),Yt(o,"popover",g);break;case"xlinkActuate":ci(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ci(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ci(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ci(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ci(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ci(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ci(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ci(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ci(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Yt(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=W1.get(h)||h,Yt(o,h,g))}}function x_(o,c,h,g,S,A){switch(h){case"style":G0(o,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof g=="string"?ll(o,g):(typeof g=="number"||typeof g=="bigint")&&ll(o,""+g);break;case"onScroll":g!=null&&Tr("scroll",o);break;case"onScrollEnd":g!=null&&Tr("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),c=h.slice(2,S?h.length-7:void 0),A=o[se]||null,A=A!=null?A[h]:null,typeof A=="function"&&o.removeEventListener(c,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,S);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Yt(o,h,g)}}}function Ia(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tr("error",o),Tr("load",o);var g=!1,S=!1,A;for(A in h)if(h.hasOwnProperty(A)){var F=h[A];if(F!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fn(o,c,A,F,h,null)}}S&&fn(o,c,"srcSet",h.srcSet,h,null),g&&fn(o,c,"src",h.src,h,null);return;case"input":Tr("invalid",o);var q=A=F=S=null,me=null,Fe=null;for(g in h)if(h.hasOwnProperty(g)){var Ge=h[g];if(Ge!=null)switch(g){case"name":S=Ge;break;case"type":F=Ge;break;case"checked":me=Ge;break;case"defaultChecked":Fe=Ge;break;case"value":A=Ge;break;case"defaultValue":q=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,c));break;default:fn(o,c,g,Ge,h,null)}}Sf(o,A,q,me,Fe,F,S,!1);return;case"select":Tr("invalid",o),g=F=A=null;for(S in h)if(h.hasOwnProperty(S)&&(q=h[S],q!=null))switch(S){case"value":A=q;break;case"defaultValue":F=q;break;case"multiple":g=q;default:fn(o,c,S,q,h,null)}c=A,h=F,o.multiple=!!g,c!=null?Gi(o,!!g,c,!1):h!=null&&Gi(o,!!g,h,!0);return;case"textarea":Tr("invalid",o),A=S=g=null;for(F in h)if(h.hasOwnProperty(F)&&(q=h[F],q!=null))switch(F){case"value":g=q;break;case"defaultValue":S=q;break;case"children":A=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:fn(o,c,F,q,h,null)}Uu(o,g,S,A);return;case"option":for(me in h)if(h.hasOwnProperty(me)&&(g=h[me],g!=null))switch(me){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:fn(o,c,me,g,h,null)}return;case"dialog":Tr("beforetoggle",o),Tr("toggle",o),Tr("cancel",o),Tr("close",o);break;case"iframe":case"object":Tr("load",o);break;case"video":case"audio":for(g=0;g<Rm.length;g++)Tr(Rm[g],o);break;case"image":Tr("error",o),Tr("load",o);break;case"details":Tr("toggle",o);break;case"embed":case"source":case"link":Tr("error",o),Tr("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in h)if(h.hasOwnProperty(Fe)&&(g=h[Fe],g!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fn(o,c,Fe,g,h,null)}return;default:if(W0(c)){for(Ge in h)h.hasOwnProperty(Ge)&&(g=h[Ge],g!==void 0&&x_(o,c,Ge,g,h,void 0));return}}for(q in h)h.hasOwnProperty(q)&&(g=h[q],g!=null&&fn(o,c,q,g,h,null))}function L7(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,F=null,q=null,me=null,Fe=null,Ge=null;for(Ve in h){var Qe=h[Ve];if(h.hasOwnProperty(Ve)&&Qe!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":me=Qe;default:g.hasOwnProperty(Ve)||fn(o,c,Ve,null,g,Qe)}}for(var Be in g){var Ve=g[Be];if(Qe=h[Be],g.hasOwnProperty(Be)&&(Ve!=null||Qe!=null))switch(Be){case"type":A=Ve;break;case"name":S=Ve;break;case"checked":Fe=Ve;break;case"defaultChecked":Ge=Ve;break;case"value":F=Ve;break;case"defaultValue":q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,c));break;default:Ve!==Qe&&fn(o,c,Be,Ve,g,Qe)}}To(o,F,q,me,Fe,Ge,A,S);return;case"select":Ve=F=q=Be=null;for(A in h)if(me=h[A],h.hasOwnProperty(A)&&me!=null)switch(A){case"value":break;case"multiple":Ve=me;default:g.hasOwnProperty(A)||fn(o,c,A,null,g,me)}for(S in g)if(A=g[S],me=h[S],g.hasOwnProperty(S)&&(A!=null||me!=null))switch(S){case"value":Be=A;break;case"defaultValue":q=A;break;case"multiple":F=A;default:A!==me&&fn(o,c,S,A,g,me)}c=q,h=F,g=Ve,Be!=null?Gi(o,!!h,Be,!1):!!g!=!!h&&(c!=null?Gi(o,!!h,c,!0):Gi(o,!!h,h?[]:"",!1));return;case"textarea":Ve=Be=null;for(q in h)if(S=h[q],h.hasOwnProperty(q)&&S!=null&&!g.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:fn(o,c,q,null,g,S)}for(F in g)if(S=g[F],A=h[F],g.hasOwnProperty(F)&&(S!=null||A!=null))switch(F){case"value":Be=S;break;case"defaultValue":Ve=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==A&&fn(o,c,F,S,g,A)}q0(o,Be,Ve);return;case"option":for(var Ct in h)if(Be=h[Ct],h.hasOwnProperty(Ct)&&Be!=null&&!g.hasOwnProperty(Ct))switch(Ct){case"selected":o.selected=!1;break;default:fn(o,c,Ct,null,g,Be)}for(me in g)if(Be=g[me],Ve=h[me],g.hasOwnProperty(me)&&Be!==Ve&&(Be!=null||Ve!=null))switch(me){case"selected":o.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:fn(o,c,me,Be,g,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in h)Be=h[Kt],h.hasOwnProperty(Kt)&&Be!=null&&!g.hasOwnProperty(Kt)&&fn(o,c,Kt,null,g,Be);for(Fe in g)if(Be=g[Fe],Ve=h[Fe],g.hasOwnProperty(Fe)&&Be!==Ve&&(Be!=null||Ve!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,c));break;default:fn(o,c,Fe,Be,g,Ve)}return;default:if(W0(c)){for(var hn in h)Be=h[hn],h.hasOwnProperty(hn)&&Be!==void 0&&!g.hasOwnProperty(hn)&&x_(o,c,hn,void 0,g,Be);for(Ge in g)Be=g[Ge],Ve=h[Ge],!g.hasOwnProperty(Ge)||Be===Ve||Be===void 0&&Ve===void 0||x_(o,c,Ge,Be,g,Ve);return}}for(var Ae in h)Be=h[Ae],h.hasOwnProperty(Ae)&&Be!=null&&!g.hasOwnProperty(Ae)&&fn(o,c,Ae,null,g,Be);for(Qe in g)Be=g[Qe],Ve=h[Qe],!g.hasOwnProperty(Qe)||Be===Ve||Be==null&&Ve==null||fn(o,c,Qe,Be,g,Ve)}function hM(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B7(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var S=h[g],A=S.transferSize,F=S.initiatorType,q=S.duration;if(A&&q&&hM(F)){for(F=0,q=S.responseEnd,g+=1;g<h.length;g++){var me=h[g],Fe=me.startTime;if(Fe>q)break;var Ge=me.transferSize,Qe=me.initiatorType;Ge&&hM(Qe)&&(me=me.responseEnd,F+=Ge*(me<q?1:(q-Fe)/(me-Fe)))}if(--g,c+=8*(A+F)/(S.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var w_=null,__=null;function qv(o){return o.nodeType===9?o:o.ownerDocument}function mM(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pM(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function b_(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var S_=null;function U7(){var o=window.event;return o&&o.type==="popstate"?o===S_?!1:(S_=o,!0):(S_=null,!1)}var gM=typeof setTimeout=="function"?setTimeout:void 0,z7=typeof clearTimeout=="function"?clearTimeout:void 0,vM=typeof Promise=="function"?Promise:void 0,V7=typeof queueMicrotask=="function"?queueMicrotask:typeof vM<"u"?function(o){return vM.resolve(null).then(o).catch(H7)}:gM;function H7(o){setTimeout(function(){throw o})}function Bc(o){return o==="head"}function yM(o,c){var h=c,g=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(S),uh(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Dm(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Dm(h);for(var A=h.firstChild;A;){var F=A.nextSibling,q=A.nodeName;A[De]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=F}}else h==="body"&&Dm(o.ownerDocument.body);h=S}while(h);uh(c)}function xM(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function E_(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":E_(h),et(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function $7(o,c,h,g){for(;o.nodeType===1;){var S=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[De])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=yi(o.nextSibling),o===null)break}return null}function q7(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=yi(o.nextSibling),o===null))return null;return o}function wM(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=yi(o.nextSibling),o===null))return null;return o}function T_(o){return o.data==="$?"||o.data==="$~"}function k_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function G7(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function yi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var C_=null;function _M(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return yi(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function bM(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function SM(o,c,h){switch(c=qv(h),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Dm(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);et(o)}var xi=new Map,EM=new Set;function Gv(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var jl=re.d;re.d={f:W7,r:K7,D:X7,C:Y7,L:Q7,m:J7,X:e9,S:Z7,M:t9};function W7(){var o=jl.f(),c=Iv();return o||c}function K7(o){var c=rt(o);c!==null&&c.tag===5&&c.type==="form"?zC(c):jl.r(o)}var oh=typeof document>"u"?null:document;function TM(o,c,h){var g=oh;if(g&&typeof c=="string"&&c){var S=ba(c);S='link[rel="'+o+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),EM.has(S)||(EM.add(S),o={rel:o,crossOrigin:h,href:c},g.querySelector(S)===null&&(c=g.createElement("link"),Ia(c,"link",o),kt(c),g.head.appendChild(c)))}}function X7(o){jl.D(o),TM("dns-prefetch",o,null)}function Y7(o,c){jl.C(o,c),TM("preconnect",o,c)}function Q7(o,c,h){jl.L(o,c,h);var g=oh;if(g&&o&&c){var S='link[rel="preload"][as="'+ba(c)+'"]';c==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+ba(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+ba(h.imageSizes)+'"]')):S+='[href="'+ba(o)+'"]';var A=S;switch(c){case"style":A=lh(o);break;case"script":A=ch(o)}xi.has(A)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),xi.set(A,o),g.querySelector(S)!==null||c==="style"&&g.querySelector(Pm(A))||c==="script"&&g.querySelector(Fm(A))||(c=g.createElement("link"),Ia(c,"link",o),kt(c),g.head.appendChild(c)))}}function J7(o,c){jl.m(o,c);var h=oh;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+ba(g)+'"][href="'+ba(o)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=ch(o)}if(!xi.has(A)&&(o=p({rel:"modulepreload",href:o},c),xi.set(A,o),h.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Fm(A)))return}g=h.createElement("link"),Ia(g,"link",o),kt(g),h.head.appendChild(g)}}}function Z7(o,c,h){jl.S(o,c,h);var g=oh;if(g&&o){var S=ct(g).hoistableStyles,A=lh(o);c=c||"default";var F=S.get(A);if(!F){var q={loading:0,preload:null};if(F=g.querySelector(Pm(A)))q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=xi.get(A))&&A_(o,h);var me=F=g.createElement("link");kt(me),Ia(me,"link",o),me._p=new Promise(function(Fe,Ge){me.onload=Fe,me.onerror=Ge}),me.addEventListener("load",function(){q.loading|=1}),me.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Wv(F,c,g)}F={type:"stylesheet",instance:F,count:1,state:q},S.set(A,F)}}}function e9(o,c){jl.X(o,c);var h=oh;if(h&&o){var g=ct(h).hoistableScripts,S=ch(o),A=g.get(S);A||(A=h.querySelector(Fm(S)),A||(o=p({src:o,async:!0},c),(c=xi.get(S))&&M_(o,c),A=h.createElement("script"),kt(A),Ia(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function t9(o,c){jl.M(o,c);var h=oh;if(h&&o){var g=ct(h).hoistableScripts,S=ch(o),A=g.get(S);A||(A=h.querySelector(Fm(S)),A||(o=p({src:o,async:!0,type:"module"},c),(c=xi.get(S))&&M_(o,c),A=h.createElement("script"),kt(A),Ia(A,"link",o),h.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function kM(o,c,h,g){var S=(S=ue.current)?Gv(S):null;if(!S)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=lh(h.href),h=ct(S).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=lh(h.href);var A=ct(S).hoistableStyles,F=A.get(o);if(F||(S=S.ownerDocument||S,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,F),(A=S.querySelector(Pm(o)))&&!A._p&&(F.instance=A,F.state.loading=5),xi.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},xi.set(o,h),A||r9(S,o,h,F.state))),c&&g===null)throw Error(n(528,""));return F}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ch(h),h=ct(S).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function lh(o){return'href="'+ba(o)+'"'}function Pm(o){return'link[rel="stylesheet"]['+o+"]"}function CM(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function r9(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Ia(c,"link",h),kt(c),o.head.appendChild(c))}function ch(o){return'[src="'+ba(o)+'"]'}function Fm(o){return"script[async]"+o}function AM(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ba(h.href)+'"]');if(g)return c.instance=g,kt(g),g;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),kt(g),Ia(g,"style",S),Wv(g,h.precedence,o),c.instance=g;case"stylesheet":S=lh(h.href);var A=o.querySelector(Pm(S));if(A)return c.state.loading|=4,c.instance=A,kt(A),A;g=CM(h),(S=xi.get(S))&&A_(g,S),A=(o.ownerDocument||o).createElement("link"),kt(A);var F=A;return F._p=new Promise(function(q,me){F.onload=q,F.onerror=me}),Ia(A,"link",g),c.state.loading|=4,Wv(A,h.precedence,o),c.instance=A;case"script":return A=ch(h.src),(S=o.querySelector(Fm(A)))?(c.instance=S,kt(S),S):(g=h,(S=xi.get(A))&&(g=p({},h),M_(g,S)),o=o.ownerDocument||o,S=o.createElement("script"),kt(S),Ia(S,"link",g),o.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Wv(g,h.precedence,o));return c.instance}function Wv(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,F=0;F<g.length;F++){var q=g[F];if(q.dataset.precedence===c)A=q;else if(A!==S)break}A?A.parentNode.insertBefore(o,A.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function A_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function M_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Kv=null;function MM(o,c,h){if(Kv===null){var g=new Map,S=Kv=new Map;S.set(h,g)}else S=Kv,g=S.get(h),g||(g=new Map,S.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),S=0;S<h.length;S++){var A=h[S];if(!(A[De]||A[ee]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var F=A.getAttribute(c)||"";F=o+F;var q=g.get(F);q?q.push(A):g.set(F,[A])}}return g}function NM(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function n9(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function jM(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function a9(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=lh(g.href),A=c.querySelector(Pm(S));if(A){c=A._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Xv.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=A,kt(A);return}A=c.ownerDocument||c,g=CM(g),(S=xi.get(S))&&A_(g,S),A=A.createElement("link"),kt(A);var F=A;F._p=new Promise(function(q,me){F.onload=q,F.onerror=me}),Ia(A,"link",g),h.instance=A}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Xv.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var N_=0;function s9(o,c){return o.stylesheets&&o.count===0&&Qv(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&Qv(o,o.stylesheets),o.unsuspend){var A=o.unsuspend;o.unsuspend=null,A()}},6e4+c);0<o.imgBytes&&N_===0&&(N_=62500*B7());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Qv(o,o.stylesheets),o.unsuspend)){var A=o.unsuspend;o.unsuspend=null,A()}},(o.imgBytes>N_?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Xv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Yv=null;function Qv(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Yv=new Map,c.forEach(i9,o),Yv=null,Xv.call(o))}function i9(o,c){if(!(c.state.loading&4)){var h=Yv.get(o);if(h)var g=h.get(null);else{h=new Map,Yv.set(o,h);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var F=S[A];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(h.set(F.dataset.precedence,F),g=F)}g&&h.set(null,g)}S=c.instance,F=S.getAttribute("data-precedence"),A=h.get(F)||g,A===g&&h.set(null,S),h.set(F,S),this.count++,g=Xv.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),c.state.loading|=4}}var Im={$$typeof:k,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function o9(o,c,h,g,S,A,F,q,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function RM(o,c,h,g,S,A,F,q,me,Fe,Ge,Qe){return o=new o9(o,c,h,F,me,Fe,Ge,Qe,q),c=1,A===!0&&(c|=24),A=Gs(3,null,null,c),o.current=A,A.stateNode=o,c=cw(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:g,isDehydrated:h,cache:c},hw(A),o}function OM(o){return o?(o=ks,o):ks}function DM(o,c,h,g,S,A){S=OM(S),g.context===null?g.context=S:g.pendingContext=S,g=Ac(c),g.payload={element:h},A=A===void 0?null:A,A!==null&&(g.callback=A),h=Mc(o,g,c),h!==null&&(js(h,o,c),pm(h,o,c))}function PM(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function j_(o,c){PM(o,c),(o=o.alternate)&&PM(o,c)}function FM(o){if(o.tag===13||o.tag===31){var c=jn(o,67108864);c!==null&&js(c,o,67108864),j_(o,67108864)}}function IM(o){if(o.tag===13||o.tag===31){var c=Qs();c=Fu(c);var h=jn(o,c);h!==null&&js(h,o,c),j_(o,c)}}var Jv=!0;function l9(o,c,h,g){var S=K.T;K.T=null;var A=re.p;try{re.p=2,R_(o,c,h,g)}finally{re.p=A,K.T=S}}function c9(o,c,h,g){var S=K.T;K.T=null;var A=re.p;try{re.p=8,R_(o,c,h,g)}finally{re.p=A,K.T=S}}function R_(o,c,h,g){if(Jv){var S=O_(g);if(S===null)y_(o,c,g,Zv,h),BM(o,g);else if(d9(S,o,c,h,g))g.stopPropagation();else if(BM(o,g),c&4&&-1<u9.indexOf(o)){for(;S!==null;){var A=rt(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var F=Wa(A.pendingLanes);if(F!==0){var q=A;for(q.pendingLanes|=2,q.entangledLanes|=2;F;){var me=1<<31-vt(F);q.entanglements[1]|=me,F&=~me}Ro(A),(Xr&6)===0&&(Pv=Xe()+500,jm(0))}}break;case 31:case 13:q=jn(A,2),q!==null&&js(q,A,2),Iv(),j_(A,2)}if(A=O_(g),A===null&&y_(o,c,g,Zv,h),A===S)break;S=A}S!==null&&g.stopPropagation()}else y_(o,c,g,null,h)}}function O_(o){return o=Ef(o),D_(o)}var Zv=null;function D_(o){if(Zv=null,o=ot(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=i(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Zv=o,null}function LM(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case lr:return 2;case _r:return 8;case pr:case Mn:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var P_=!1,Uc=null,zc=null,Vc=null,Lm=new Map,Bm=new Map,Hc=[],u9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BM(o,c){switch(o){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":Lm.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bm.delete(c.pointerId)}}function Um(o,c,h,g,S,A){return o===null||o.nativeEvent!==A?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},c!==null&&(c=rt(c),c!==null&&FM(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function d9(o,c,h,g,S){switch(c){case"focusin":return Uc=Um(Uc,o,c,h,g,S),!0;case"dragenter":return zc=Um(zc,o,c,h,g,S),!0;case"mouseover":return Vc=Um(Vc,o,c,h,g,S),!0;case"pointerover":var A=S.pointerId;return Lm.set(A,Um(Lm.get(A)||null,o,c,h,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Bm.set(A,Um(Bm.get(A)||null,o,c,h,g,S)),!0}return!1}function UM(o){var c=ot(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=i(h),c!==null){o.blockedOn=c,oe(o.priority,function(){IM(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,oe(o.priority,function(){IM(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ey(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=O_(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);ui=g,h.target.dispatchEvent(g),ui=null}else return c=rt(h),c!==null&&FM(c),o.blockedOn=h,!1;c.shift()}return!0}function zM(o,c,h){ey(o)&&h.delete(c)}function f9(){P_=!1,Uc!==null&&ey(Uc)&&(Uc=null),zc!==null&&ey(zc)&&(zc=null),Vc!==null&&ey(Vc)&&(Vc=null),Lm.forEach(zM),Bm.forEach(zM)}function ty(o,c){o.blockedOn===c&&(o.blockedOn=null,P_||(P_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f9)))}var ry=null;function VM(o){ry!==o&&(ry=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ry===o&&(ry=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],S=o[c+2];if(typeof g!="function"){if(D_(g||h)===null)continue;break}var A=rt(h);A!==null&&(o.splice(c,3),c-=3,Ow(A,{pending:!0,data:S,method:h.method,action:g},g,S))}}))}function uh(o){function c(me){return ty(me,o)}Uc!==null&&ty(Uc,o),zc!==null&&ty(zc,o),Vc!==null&&ty(Vc,o),Lm.forEach(c),Bm.forEach(c);for(var h=0;h<Hc.length;h++){var g=Hc[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Hc.length&&(h=Hc[0],h.blockedOn===null);)UM(h),h.blockedOn===null&&Hc.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var S=h[g],A=h[g+1],F=S[se]||null;if(typeof A=="function")F||VM(h);else if(F){var q=null;if(A&&A.hasAttribute("formAction")){if(S=A,F=A[se]||null)q=F.formAction;else if(D_(S)!==null)continue}else q=F.action;typeof q=="function"?h[g+1]=q:(h.splice(g,3),g-=3),VM(h)}}}function HM(){function o(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(F){return S=F})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function F_(o){this._internalRoot=o}ny.prototype.render=F_.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=Qs();DM(h,g,o,c,null,null)},ny.prototype.unmount=F_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;DM(o.current,2,null,o,null,null),Iv(),c[ce]=null}};function ny(o){this._internalRoot=o}ny.prototype.unstable_scheduleHydration=function(o){if(o){var c=z();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Hc.length&&c!==0&&c<Hc[h].priority;h++);Hc.splice(h,0,o),h===0&&UM(o)}};var $M=t.version;if($M!=="19.2.0")throw Error(n(527,$M,"19.2.0"));re.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var h9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ay.isDisabled&&ay.supportsFiber)try{Fr=ay.inject(h9),Yr=ay}catch{}}return Vm.createRoot=function(o,c){if(!a(o))throw Error(n(299));var h=!1,g="",S=QC,A=JC,F=ZC;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(F=c.onRecoverableError)),c=RM(o,1,!1,null,null,h,g,null,S,A,F,HM),o[ce]=c.current,v_(o),new F_(c)},Vm.hydrateRoot=function(o,c,h){if(!a(o))throw Error(n(299));var g=!1,S="",A=QC,F=JC,q=ZC,me=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(q=h.onRecoverableError),h.formState!==void 0&&(me=h.formState)),c=RM(o,1,!0,c,h??null,g,S,me,A,F,q,HM),c.context=OM(null),h=c.current,g=Qs(),g=Fu(g),S=Ac(g),S.callback=null,Mc(h,S,g),h=g,c.current.lanes=h,Es(c,h),Ro(c),o[ce]=c.current,v_(o),new ny(c)},Vm.version="19.2.0",Vm}var tN;function k9(){if(tN)return U_.exports;tN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U_.exports=T9(),U_.exports}var C9=k9();const A9=Tu(C9),M9="modulepreload",N9=function(e,t){return new URL(e,t).href},rN={},gS=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let i=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=i(r.map(m=>{if(m=N9(m,n),m in rN)return;rN[m]=!0;const p=m.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let x=l.length-1;x>=0;x--){const b=l[x];if(b.href===m&&(!p||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":M9,p||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((x,b)=>{w.addEventListener("load",x),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nN="popstate";function j9(e={}){function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return vS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kp(a)}return O9(t,r,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Li(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R9(){return Math.random().toString(36).substring(2,10)}function aN(e,t){return{usr:e.state,key:e.key,idx:t}}function vS(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?m0(t):t,state:r,key:t&&t.key||n||R9()}}function kp({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function m0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function O9(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",u=null,d=m();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function m(){return(i.state||{idx:null}).idx}function p(){l="POP";let b=m(),T=b==null?null:b-d;d=b,u&&u({action:l,location:x.location,delta:T})}function v(b,T){l="PUSH";let M=vS(x.location,b,T);d=m()+1;let k=aN(M,d),j=x.createHref(M);try{i.pushState(k,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(j)}s&&u&&u({action:l,location:x.location,delta:1})}function y(b,T){l="REPLACE";let M=vS(x.location,b,T);d=m();let k=aN(M,d),j=x.createHref(M);i.replaceState(k,"",j),s&&u&&u({action:l,location:x.location,delta:0})}function w(b){return D9(b)}let x={get action(){return l},get location(){return e(a,i)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(nN,p),u=b,()=>{a.removeEventListener(nN,p),u=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let T=w(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:y,go(b){return i.go(b)}};return x}function D9(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:kp(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _D(e,t,r="/"){return P9(e,t,r,!1)}function P9(e,t,r,n){let a=typeof t=="string"?m0(t):t,s=Kl(a.pathname||"/",r);if(s==null)return null;let i=bD(e);F9(i);let l=null;for(let u=0;l==null&&u<i.length;++u){let d=W9(s);l=q9(i[u],d,n)}return l}function bD(e,t=[],r=[],n="",a=!1){let s=(i,l,u=a,d)=>{let m={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&u)return;Dn(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=Vl([n,m.relativePath]),v=r.concat(m);i.children&&i.children.length>0&&(Dn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),bD(i.children,t,v,p,u)),!(i.path==null&&!i.index)&&t.push({path:p,score:H9(p,i.index),routesMeta:v})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let d of SD(i.path))s(i,l,!0,d)}),t}function SD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=SD(n.join("/")),l=[];return l.push(...i.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...i),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function F9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var I9=/^:[\w-]+$/,L9=3,B9=2,U9=1,z9=10,V9=-2,sN=e=>e==="*";function H9(e,t){let r=e.split("/"),n=r.length;return r.some(sN)&&(n+=V9),t&&(n+=B9),r.filter(a=>!sN(a)).reduce((a,s)=>a+(I9.test(s)?L9:s===""?U9:z9),n)}function $9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function q9(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",p=dx({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),v=u.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=dx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:Vl([s,p.pathname]),pathnameBase:J9(Vl([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=Vl([s,p.pathnameBase]))}return i}function dx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=G9(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:m,isOptional:p},v)=>{if(m==="*"){let w=l[v]||"";i=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[v];return p&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:i,pattern:e}}function G9(e,t=!1,r=!0){Li(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function W9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Li(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Kl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var K9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X9=e=>K9.test(e);function Y9(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?m0(e):e,s;if(r)if(X9(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Li(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?s=iN(r.substring(1),"/"):s=iN(r,t)}else s=t;return{pathname:s,search:Z9(n),hash:ez(a)}}function iN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dE(e){let t=Q9(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function fE(e,t,r,n=!1){let a;typeof e=="string"?a=m0(e):(a={...e},Dn(!a.pathname||!a.pathname.includes("?"),$_("?","pathname","search",a)),Dn(!a.pathname||!a.pathname.includes("#"),$_("#","pathname","hash",a)),Dn(!a.search||!a.search.includes("#"),$_("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let p=t.length-1;if(!n&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),p-=1;a.pathname=v.join("/")}l=p>=0?t[p]:"/"}let u=Y9(a,l),d=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var Vl=e=>e.join("/").replace(/\/\/+/g,"/"),J9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ez=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ED=["POST","PUT","PATCH","DELETE"];new Set(ED);var rz=["GET",...ED];new Set(rz);var p0=E.createContext(null);p0.displayName="DataRouter";var n1=E.createContext(null);n1.displayName="DataRouterState";E.createContext(!1);var TD=E.createContext({isTransitioning:!1});TD.displayName="ViewTransition";var nz=E.createContext(new Map);nz.displayName="Fetchers";var az=E.createContext(null);az.displayName="Await";var yo=E.createContext(null);yo.displayName="Navigation";var hg=E.createContext(null);hg.displayName="Location";var tl=E.createContext({outlet:null,matches:[],isDataRoute:!1});tl.displayName="Route";var hE=E.createContext(null);hE.displayName="RouteError";function sz(e,{relative:t}={}){Dn(g0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(yo),{hash:a,pathname:s,search:i}=mg(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Vl([r,s])),n.createHref({pathname:l,search:i,hash:a})}function g0(){return E.useContext(hg)!=null}function ku(){return Dn(g0(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(hg).location}var kD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CD(e){E.useContext(yo).static||E.useLayoutEffect(e)}function xo(){let{isDataRoute:e}=E.useContext(tl);return e?yz():iz()}function iz(){Dn(g0(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(p0),{basename:t,navigator:r}=E.useContext(yo),{matches:n}=E.useContext(tl),{pathname:a}=ku(),s=JSON.stringify(dE(n)),i=E.useRef(!1);return CD(()=>{i.current=!0}),E.useCallback((u,d={})=>{if(Li(i.current,kD),!i.current)return;if(typeof u=="number"){r.go(u);return}let m=fE(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Vl([t,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[t,r,s,a,e])}E.createContext(null);function mg(e,{relative:t}={}){let{matches:r}=E.useContext(tl),{pathname:n}=ku(),a=JSON.stringify(dE(r));return E.useMemo(()=>fE(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function oz(e,t){return AD(e,t)}function AD(e,t,r,n,a){var M;Dn(g0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(yo),{matches:i}=E.useContext(tl),l=i[i.length-1],u=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let k=p&&p.path||"";MD(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=ku(),y;if(t){let k=typeof t=="string"?m0(t):t;Dn(m==="/"||((M=k.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),y=k}else y=v;let w=y.pathname||"/",x=w;if(m!=="/"){let k=m.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=_D(e,{pathname:x});Li(p||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Li(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=fz(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Vl([m,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Vl([m,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),i,r,n,a);return t&&T?E.createElement(hg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function lz(){let e=vz(),t=tz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:a},r):null,i)}var cz=E.createElement(lz,null),uz=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(tl.Provider,{value:this.props.routeContext},E.createElement(hE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dz({routeContext:e,match:t,children:r}){let n=E.useContext(p0);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(tl.Provider,{value:e},r)}function fz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let m=s.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);Dn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let l=!1,u=-1;if(r)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:v,errors:y}=r,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=r&&n?(m,p)=>{var v,y;n(m,{location:r.location,params:((y=(v=r.matches)==null?void 0:v[0])==null?void 0:y.params)??{},errorInfo:p})}:void 0;return s.reduceRight((m,p,v)=>{let y,w=!1,x=null,b=null;r&&(y=i&&p.route.id?i[p.route.id]:void 0,x=p.route.errorElement||cz,l&&(u<0&&v===0?(MD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):u===v&&(w=!0,b=p.route.hydrateFallbackElement||null)));let T=t.concat(s.slice(0,v+1)),M=()=>{let k;return y?k=x:w?k=b:p.route.Component?k=E.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,E.createElement(dz,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?E.createElement(uz,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):M()},null)}function mE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hz(e){let t=E.useContext(p0);return Dn(t,mE(e)),t}function mz(e){let t=E.useContext(n1);return Dn(t,mE(e)),t}function pz(e){let t=E.useContext(tl);return Dn(t,mE(e)),t}function pE(e){let t=pz(e),r=t.matches[t.matches.length-1];return Dn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function gz(){return pE("useRouteId")}function vz(){var n;let e=E.useContext(hE),t=mz("useRouteError"),r=pE("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function yz(){let{router:e}=hz("useNavigate"),t=pE("useNavigate"),r=E.useRef(!1);return CD(()=>{r.current=!0}),E.useCallback(async(a,s={})=>{Li(r.current,kD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var oN={};function MD(e,t,r){!t&&!oN[e]&&(oN[e]=!0,Li(!1,r))}E.memo(xz);function xz({routes:e,future:t,state:r,unstable_onError:n}){return AD(e,void 0,r,n,t)}function ND({to:e,replace:t,state:r,relative:n}){Dn(g0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(yo);Li(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(tl),{pathname:i}=ku(),l=xo(),u=fE(e,dE(s),i,n==="path"),d=JSON.stringify(u);return E.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function es(e){Dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){Dn(!g0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);typeof r=="string"&&(r=m0(r));let{pathname:u="/",search:d="",hash:m="",state:p=null,key:v="default"}=r,y=E.useMemo(()=>{let w=Kl(u,i);return w==null?null:{location:{pathname:w,search:d,hash:m,state:p,key:v},navigationType:n}},[i,u,d,m,p,v,n]);return Li(y!=null,`<Router basename="${i}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(yo.Provider,{value:l},E.createElement(hg.Provider,{children:t,value:y}))}function jD({children:e,location:t}){return oz(yS(e),t)}function yS(e,t=[]){let r=[];return E.Children.forEach(e,(n,a)=>{if(!E.isValidElement(n))return;let s=[...t,a];if(n.type===E.Fragment){r.push.apply(r,yS(n.props.children,s));return}Dn(n.type===es,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=yS(n.props.children,s)),r.push(i)}),r}var Yy="get",Qy="application/x-www-form-urlencoded";function a1(e){return e!=null&&typeof e.tagName=="string"}function _z(e){return a1(e)&&e.tagName.toLowerCase()==="button"}function bz(e){return a1(e)&&e.tagName.toLowerCase()==="form"}function Sz(e){return a1(e)&&e.tagName.toLowerCase()==="input"}function Ez(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tz(e,t){return e.button===0&&(!t||t==="_self")&&!Ez(e)}var iy=null;function kz(){if(iy===null)try{new FormData(document.createElement("form"),0),iy=!1}catch{iy=!0}return iy}var Cz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q_(e){return e!=null&&!Cz.has(e)?(Li(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qy}"`),null):e}function Az(e,t){let r,n,a,s,i;if(bz(e)){let l=e.getAttribute("action");n=l?Kl(l,t):null,r=e.getAttribute("method")||Yy,a=q_(e.getAttribute("enctype"))||Qy,s=new FormData(e)}else if(_z(e)||Sz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Kl(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Yy,a=q_(e.getAttribute("formenctype"))||q_(l.getAttribute("enctype"))||Qy,s=new FormData(l,e),!kz()){let{name:d,type:m,value:p}=e;if(m==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,p)}}else{if(a1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Yy,n=null,a=Qy,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Kl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Nz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Rz(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await Nz(s,r);return i.links?i.links():[]}return[]}));return Fz(n.flat(1).filter(jz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lN(e,t,r,n,a,s){let i=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var m;return r[d].pathname!==u.pathname||((m=r[d].route.path)==null?void 0:m.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>i(u,d)||l(u,d)):s==="data"?t.filter((u,d)=>{var p;let m=n.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(i(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Oz(e,t,{includeHydrateFallback:r}={}){return Dz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Dz(e){return[...new Set(e)]}function Pz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Fz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(Pz(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function RD(){let e=E.useContext(p0);return gE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Iz(){let e=E.useContext(n1);return gE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vE=E.createContext(void 0);vE.displayName="FrameworkContext";function OD(){let e=E.useContext(vE);return gE(e,"You must render this element inside a <HydratedRouter> element"),e}function Lz(e,t){let r=E.useContext(vE),[n,a]=E.useState(!1),[s,i]=E.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=T=>{T.forEach(M=>{i(M.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),E.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{a(!0)},w=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Hm(l,y),onBlur:Hm(u,w),onMouseEnter:Hm(d,y),onMouseLeave:Hm(m,w),onTouchStart:Hm(p,y)}]:[!1,v,{}]}function Hm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Bz({page:e,...t}){let{router:r}=RD(),n=E.useMemo(()=>_D(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(zz,{page:e,matches:n,...t}):null}function Uz(e){let{manifest:t,routeModules:r}=OD(),[n,a]=E.useState([]);return E.useEffect(()=>{let s=!1;return Rz(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function zz({page:e,matches:t,...r}){let n=ku(),{manifest:a,routeModules:s}=OD(),{basename:i}=RD(),{loaderData:l,matches:u}=Iz(),d=E.useMemo(()=>lN(e,t,u,a,n,"data"),[e,t,u,a,n]),m=E.useMemo(()=>lN(e,t,u,a,n,"assets"),[e,t,u,a,n]),p=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(t.forEach(T=>{var k;let M=a.routes[T.route.id];!M||!M.hasLoader||(!d.some(j=>j.route.id===T.route.id)&&T.route.id in l&&((k=s[T.route.id])!=null&&k.shouldRevalidate)||M.hasClientLoader?x=!0:w.add(T.route.id))}),w.size===0)return[];let b=Mz(e,i,"data");return x&&w.size>0&&b.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[b.pathname+b.search]},[i,l,n,a,d,t,e,s]),v=E.useMemo(()=>Oz(m,a),[m,a]),y=Uz(m);return E.createElement(E.Fragment,null,p.map(w=>E.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>E.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:x})=>E.createElement("link",{key:w,nonce:r.nonce,...x})))}function Vz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DD&&(window.__reactRouterVersion="7.9.6")}catch{}function Hz({basename:e,children:t,window:r}){let n=E.useRef();n.current==null&&(n.current=j9({window:r,v5Compat:!0}));let a=n.current,[s,i]=E.useState({action:a.action,location:a.location}),l=E.useCallback(u=>{E.startTransition(()=>i(u))},[i]);return E.useLayoutEffect(()=>a.listen(l),[a,l]),E.createElement(wz,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var PD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FD=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:u,to:d,preventScrollReset:m,viewTransition:p,...v},y){let{basename:w}=E.useContext(yo),x=typeof d=="string"&&PD.test(d),b,T=!1;if(typeof d=="string"&&x&&(b=d,DD))try{let V=new URL(window.location.href),ne=d.startsWith("//")?new URL(V.protocol+d):new URL(d),ie=Kl(ne.pathname,w);ne.origin===V.origin&&ie!=null?d=ie+ne.search+ne.hash:T=!0}catch{Li(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=sz(d,{relative:a}),[k,j,R]=Lz(n,v),D=Wz(d,{replace:i,state:l,target:u,preventScrollReset:m,relative:a,viewTransition:p});function O(V){t&&t(V),V.defaultPrevented||D(V)}let B=E.createElement("a",{...v,...R,href:b||M,onClick:T||s?t:O,ref:Vz(y,j),target:u,"data-discover":!x&&r==="render"?"true":void 0});return k&&!x?E.createElement(E.Fragment,null,B,E.createElement(Bz,{page:M})):B});FD.displayName="Link";var $z=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:u,...d},m){let p=mg(i,{relative:d.relative}),v=ku(),y=E.useContext(n1),{navigator:w,basename:x}=E.useContext(yo),b=y!=null&&Jz(p)&&l===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=v.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(M=M.toLowerCase(),k=k?k.toLowerCase():null,T=T.toLowerCase()),k&&x&&(k=Kl(k,x)||k);const j=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=M===T||!a&&M.startsWith(T)&&M.charAt(j)==="/",D=k!=null&&(k===T||!a&&k.startsWith(T)&&k.charAt(T.length)==="/"),O={isActive:R,isPending:D,isTransitioning:b},B=R?t:void 0,V;typeof n=="function"?V=n(O):V=[n,R?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let ne=typeof s=="function"?s(O):s;return E.createElement(FD,{...d,"aria-current":B,className:V,ref:m,style:ne,to:i,viewTransition:l},typeof u=="function"?u(O):u)});$z.displayName="NavLink";var qz=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=Yy,action:l,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:p,...v},y)=>{let w=Yz(),x=Qz(l,{relative:d}),b=i.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&PD.test(l),M=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,R=(j==null?void 0:j.getAttribute("formmethod"))||i;w(j||k.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:a,state:s,relative:d,preventScrollReset:m,viewTransition:p})};return E.createElement("form",{ref:y,method:b,action:x,onSubmit:n?u:M,...v,"data-discover":!T&&e==="render"?"true":void 0})});qz.displayName="Form";function Gz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ID(e){let t=E.useContext(p0);return Dn(t,Gz(e)),t}function Wz(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=xo(),u=ku(),d=mg(e,{relative:s});return E.useCallback(m=>{if(Tz(m,t)){m.preventDefault();let p=r!==void 0?r:kp(u)===kp(d);l(e,{replace:p,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[u,l,d,r,n,t,e,a,s,i])}var Kz=0,Xz=()=>`__${String(++Kz)}__`;function Yz(){let{router:e}=ID("useSubmit"),{basename:t}=E.useContext(yo),r=gz();return E.useCallback(async(n,a={})=>{let{action:s,method:i,encType:l,formData:u,body:d}=Az(n,t);if(a.navigate===!1){let m=a.fetcherKey||Xz();await e.fetch(m,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function Qz(e,{relative:t}={}){let{basename:r}=E.useContext(yo),n=E.useContext(tl);Dn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...mg(e||".",{relative:t})},i=ku();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(m=>m==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let m=l.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Vl([r,s.pathname])),kp(s)}function Jz(e,{relative:t}={}){let r=E.useContext(TD);Dn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ID("useViewTransitionState"),a=mg(e,{relative:t});if(!r.isTransitioning)return!1;let s=Kl(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Kl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return dx(a.pathname,i)!=null||dx(a.pathname,s)!=null}var v0=wD();const Zz=Tu(v0),yE=E.createContext({});function pg(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const xE=typeof window<"u",wE=xE?E.useLayoutEffect:E.useEffect,s1=E.createContext(null);function _E(e,t){e.indexOf(t)===-1&&e.push(t)}function bE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Xl=(e,t,r)=>r>t?t:r<e?e:r;let SE=()=>{};const Yl={},LD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BD(e){return typeof e=="object"&&e!==null}const UD=e=>/^0[^.\s]+$/u.test(e);function EE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pi=e=>e,eV=(e,t)=>r=>t(e(r)),gg=(...e)=>e.reduce(eV),Cp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class TE{constructor(){this.subscriptions=[]}add(t){return _E(this.subscriptions,t),()=>bE(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wo=e=>e*1e3,Ri=e=>e/1e3;function zD(e,t){return t?e*(1e3/t):0}const VD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,tV=1e-7,rV=12;function nV(e,t,r,n,a){let s,i,l=0;do i=t+(r-t)/2,s=VD(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>tV&&++l<rV);return i}function vg(e,t,r,n){if(e===t&&r===n)return Pi;const a=s=>nV(s,0,1,e,r);return s=>s===0||s===1?s:VD(a(s),t,n)}const HD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$D=e=>t=>1-e(1-t),qD=vg(.33,1.53,.69,.99),kE=$D(qD),GD=HD(kE),WD=e=>(e*=2)<1?.5*kE(e):.5*(2-Math.pow(2,-10*(e-1))),CE=e=>1-Math.sin(Math.acos(e)),KD=$D(CE),XD=HD(CE),aV=vg(.42,0,1,1),sV=vg(0,0,.58,1),YD=vg(.42,0,.58,1),iV=e=>Array.isArray(e)&&typeof e[0]!="number",QD=e=>Array.isArray(e)&&typeof e[0]=="number",oV={linear:Pi,easeIn:aV,easeInOut:YD,easeOut:sV,circIn:CE,circInOut:XD,circOut:KD,backIn:kE,backInOut:GD,backOut:qD,anticipate:WD},lV=e=>typeof e=="string",cN=e=>{if(QD(e)){SE(e.length===4);const[t,r,n,a]=e;return vg(t,r,n,a)}else if(lV(e))return oV[e];return e},oy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cV(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){i.has(m)&&(d.schedule(m),e()),m(l)}const d={schedule:(m,p=!1,v=!1)=>{const w=v&&a?r:n;return p&&i.add(m),w.has(m)||w.add(m),m},cancel:m=>{n.delete(m),i.delete(m)},process:m=>{if(l=m,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),r.clear(),a=!1,s&&(s=!1,d.process(m))}};return d}const uV=40;function JD(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=oy.reduce((k,j)=>(k[j]=cV(s),k),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:m,update:p,preRender:v,render:y,postRender:w}=i,x=()=>{const k=Yl.useManualTiming?a.timestamp:performance.now();r=!1,Yl.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,uV),1)),a.timestamp=k,a.isProcessing=!0,l.process(a),u.process(a),d.process(a),m.process(a),p.process(a),v.process(a),y.process(a),w.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(x))},b=()=>{r=!0,n=!0,a.isProcessing||e(x)};return{schedule:oy.reduce((k,j)=>{const R=i[j];return k[j]=(D,O=!1,B=!1)=>(r||b(),R.schedule(D,O,B)),k},{}),cancel:k=>{for(let j=0;j<oy.length;j++)i[oy[j]].cancel(k)},state:a,steps:i}}const{schedule:wn,cancel:Ql,state:Ua,steps:G_}=JD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pi,!0);let Jy;function dV(){Jy=void 0}const Fs={now:()=>(Jy===void 0&&Fs.set(Ua.isProcessing||Yl.useManualTiming?Ua.timestamp:performance.now()),Jy),set:e=>{Jy=e,queueMicrotask(dV)}},ZD=e=>t=>typeof t=="string"&&t.startsWith(e),AE=ZD("--"),fV=ZD("var(--"),ME=e=>fV(e)?hV.test(e.split("/*")[0].trim()):!1,hV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,y0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ap={...y0,transform:e=>Xl(0,1,e)},ly={...y0,default:1},ap=e=>Math.round(e*1e5)/1e5,NE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mV(e){return e==null}const pV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jE=(e,t)=>r=>!!(typeof r=="string"&&pV.test(r)&&r.startsWith(e)||t&&!mV(r)&&Object.prototype.hasOwnProperty.call(r,t)),e3=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,l]=n.match(NE);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},gV=e=>Xl(0,255,e),W_={...y0,transform:e=>Math.round(gV(e))},Sd={test:jE("rgb","red"),parse:e3("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+W_.transform(e)+", "+W_.transform(t)+", "+W_.transform(r)+", "+ap(Ap.transform(n))+")"};function vV(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const xS={test:jE("#"),parse:vV,transform:Sd.transform},yg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xc=yg("deg"),Ko=yg("%"),rr=yg("px"),yV=yg("vh"),xV=yg("vw"),uN={...Ko,parse:e=>Ko.parse(e)/100,transform:e=>Ko.transform(e*100)},Mh={test:jE("hsl","hue"),parse:e3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ko.transform(ap(t))+", "+Ko.transform(ap(r))+", "+ap(Ap.transform(n))+")"},ha={test:e=>Sd.test(e)||xS.test(e)||Mh.test(e),parse:e=>Sd.test(e)?Sd.parse(e):Mh.test(e)?Mh.parse(e):xS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sd.transform(e):Mh.transform(e),getAnimatableNone:e=>{const t=ha.parse(e);return t.alpha=0,ha.transform(t)}},wV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _V(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(NE))==null?void 0:t.length)||0)+(((r=e.match(wV))==null?void 0:r.length)||0)>0}const t3="number",r3="color",bV="var",SV="var(",dN="${}",EV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mp(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(EV,u=>(ha.test(u)?(n.color.push(s),a.push(r3),r.push(ha.parse(u))):u.startsWith(SV)?(n.var.push(s),a.push(bV),r.push(u)):(n.number.push(s),a.push(t3),r.push(parseFloat(u))),++s,dN)).split(dN);return{values:r,split:l,indexes:n,types:a}}function n3(e){return Mp(e).values}function a3(e){const{split:t,types:r}=Mp(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const l=r[i];l===t3?s+=ap(a[i]):l===r3?s+=ha.transform(a[i]):s+=a[i]}return s}}const TV=e=>typeof e=="number"?0:ha.test(e)?ha.getAnimatableNone(e):e;function kV(e){const t=n3(e);return a3(e)(t.map(TV))}const gu={test:_V,parse:n3,createTransformer:a3,getAnimatableNone:kV};function K_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function CV({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=K_(u,l,e+1/3),s=K_(u,l,e),i=K_(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function fx(e,t){return r=>r>0?t:e}const Ln=(e,t,r)=>e+(t-e)*r,X_=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},AV=[xS,Sd,Mh],MV=e=>AV.find(t=>t.test(e));function fN(e){const t=MV(e);if(!t)return!1;let r=t.parse(e);return t===Mh&&(r=CV(r)),r}const hN=(e,t)=>{const r=fN(e),n=fN(t);if(!r||!n)return fx(e,t);const a={...r};return s=>(a.red=X_(r.red,n.red,s),a.green=X_(r.green,n.green,s),a.blue=X_(r.blue,n.blue,s),a.alpha=Ln(r.alpha,n.alpha,s),Sd.transform(a))},wS=new Set(["none","hidden"]);function NV(e,t){return wS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function jV(e,t){return r=>Ln(e,t,r)}function RE(e){return typeof e=="number"?jV:typeof e=="string"?ME(e)?fx:ha.test(e)?hN:DV:Array.isArray(e)?s3:typeof e=="object"?ha.test(e)?hN:RV:fx}function s3(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>RE(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function RV(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=RE(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function OV(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],l=e.values[i]??0;r[a]=l,n[s]++}return r}const DV=(e,t)=>{const r=gu.createTransformer(t),n=Mp(e),a=Mp(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?wS.has(e)&&!a.values.length||wS.has(t)&&!n.values.length?NV(e,t):gg(s3(OV(n,a),a.values),r):fx(e,t)};function i3(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ln(e,t,r):RE(e)(e,t)}const PV=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>wn.update(t,r),stop:()=>Ql(t),now:()=>Ua.isProcessing?Ua.timestamp:Fs.now()}},o3=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},hx=2e4;function OE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<hx;)t+=r,n=e.next(t);return t>=hx?1/0:t}function FV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(OE(n),hx);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:Ri(a)}}const IV=5;function l3(e,t,r){const n=Math.max(t-IV,0);return zD(r-e(n),t-n)}const qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y_=.001;function LV({duration:e=qn.duration,bounce:t=qn.bounce,velocity:r=qn.velocity,mass:n=qn.mass}){let a,s,i=1-t;i=Xl(qn.minDamping,qn.maxDamping,i),e=Xl(qn.minDuration,qn.maxDuration,Ri(e)),i<1?(a=d=>{const m=d*i,p=m*e,v=m-r,y=_S(d,i),w=Math.exp(-p);return Y_-v/y*w},s=d=>{const p=d*i*e,v=p*r+r,y=Math.pow(i,2)*Math.pow(d,2)*e,w=Math.exp(-p),x=_S(Math.pow(d,2),i);return(-a(d)+Y_>0?-1:1)*((v-y)*w)/x}):(a=d=>{const m=Math.exp(-d*e),p=(d-r)*e+1;return-Y_+m*p},s=d=>{const m=Math.exp(-d*e),p=(r-d)*(e*e);return m*p});const l=5/e,u=UV(a,s,l);if(e=Wo(e),isNaN(u))return{stiffness:qn.stiffness,damping:qn.damping,duration:e};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:i*2*Math.sqrt(n*d),duration:e}}}const BV=12;function UV(e,t,r){let n=r;for(let a=1;a<BV;a++)n=n-e(n)/t(n);return n}function _S(e,t){return e*Math.sqrt(1-t*t)}const zV=["duration","bounce"],VV=["stiffness","damping","mass"];function mN(e,t){return t.some(r=>e[r]!==void 0)}function HV(e){let t={velocity:qn.velocity,stiffness:qn.stiffness,damping:qn.damping,mass:qn.mass,isResolvedFromDuration:!1,...e};if(!mN(e,VV)&&mN(e,zV))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Xl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:qn.mass,stiffness:a,damping:s}}else{const r=LV(e);t={...t,...r,mass:qn.mass},t.isResolvedFromDuration=!0}return t}function mx(e=qn.visualDuration,t=qn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:m,duration:p,velocity:v,isResolvedFromDuration:y}=HV({...r,velocity:-Ri(r.velocity||0)}),w=v||0,x=d/(2*Math.sqrt(u*m)),b=i-s,T=Ri(Math.sqrt(u/m)),M=Math.abs(b)<5;n||(n=M?qn.restSpeed.granular:qn.restSpeed.default),a||(a=M?qn.restDelta.granular:qn.restDelta.default);let k;if(x<1){const R=_S(T,x);k=D=>{const O=Math.exp(-x*T*D);return i-O*((w+x*T*b)/R*Math.sin(R*D)+b*Math.cos(R*D))}}else if(x===1)k=R=>i-Math.exp(-T*R)*(b+(w+T*b)*R);else{const R=T*Math.sqrt(x*x-1);k=D=>{const O=Math.exp(-x*T*D),B=Math.min(R*D,300);return i-O*((w+x*T*b)*Math.sinh(B)+R*b*Math.cosh(B))/R}}const j={calculatedDuration:y&&p||null,next:R=>{const D=k(R);if(y)l.done=R>=p;else{let O=R===0?w:0;x<1&&(O=R===0?Wo(w):l3(k,R,D));const B=Math.abs(O)<=n,V=Math.abs(i-D)<=a;l.done=B&&V}return l.value=l.done?i:D,l},toString:()=>{const R=Math.min(OE(j),hx),D=o3(O=>j.next(R*O).value,R,30);return R+"ms "+D},toTransition:()=>{}};return j}mx.applyToOptions=e=>{const t=FV(e,100,mx);return e.ease=t.ease,e.duration=Wo(t.duration),e.type="keyframes",e};function bS({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:l,max:u,restDelta:d=.5,restSpeed:m}){const p=e[0],v={done:!1,value:p},y=B=>l!==void 0&&B<l||u!==void 0&&B>u,w=B=>l===void 0?u:u===void 0||Math.abs(l-B)<Math.abs(u-B)?l:u;let x=r*t;const b=p+x,T=i===void 0?b:i(b);T!==b&&(x=T-p);const M=B=>-x*Math.exp(-B/n),k=B=>T+M(B),j=B=>{const V=M(B),ne=k(B);v.done=Math.abs(V)<=d,v.value=v.done?T:ne};let R,D;const O=B=>{y(v.value)&&(R=B,D=mx({keyframes:[v.value,w(v.value)],velocity:l3(k,B,v.value),damping:a,stiffness:s,restDelta:d,restSpeed:m}))};return O(0),{calculatedDuration:null,next:B=>{let V=!1;return!D&&R===void 0&&(V=!0,j(B),O(B)),R!==void 0&&B>=R?D.next(B-R):(!V&&j(B),v)}}}function $V(e,t,r){const n=[],a=r||Yl.mix||i3,s=e.length-1;for(let i=0;i<s;i++){let l=a(e[i],e[i+1]);if(t){const u=Array.isArray(t)?t[i]||Pi:t;l=gg(u,l)}n.push(l)}return n}function c3(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(SE(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=$V(t,n,a),u=l.length,d=m=>{if(i&&m<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const v=Cp(e[p],e[p+1],m);return l[p](v)};return r?m=>d(Xl(e[0],e[s-1],m)):d}function qV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Cp(0,t,n);e.push(Ln(r,1,a))}}function GV(e){const t=[0];return qV(t,e.length-1),t}function WV(e,t){return e.map(r=>r*t)}function KV(e,t){return e.map(()=>t||YD).splice(0,e.length-1)}function sp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=iV(n)?n.map(cN):cN(n),s={done:!1,value:t[0]},i=WV(r&&r.length===t.length?r:GV(t),e),l=c3(i,t,{ease:Array.isArray(a)?a:KV(t,a)});return{calculatedDuration:e,next:u=>(s.value=l(u),s.done=u>=e,s)}}const XV=e=>e!==null;function DE(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(XV),l=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const YV={decay:bS,inertia:bS,tween:sp,keyframes:sp,spring:mx};function u3(e){typeof e.type=="string"&&(e.type=YV[e.type])}class PE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const QV=e=>e/100;class i1 extends PE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Fs.now()&&this.tick(Fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;u3(t);const{type:r=sp,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:l}=t;const u=r||sp;u!==sp&&typeof l[0]!="number"&&(this.mixKeyframes=gg(QV,i3(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=OE(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:m,repeat:p,repeatType:v,repeatDelay:y,type:w,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,j=n;if(p){const B=Math.min(this.currentTime,a)/l;let V=Math.floor(B),ne=B%1;!ne&&B>=1&&(ne=1),ne===1&&V--,V=Math.min(V,p+1),!!(V%2)&&(v==="reverse"?(ne=1-ne,y&&(ne-=y/l)):v==="mirror"&&(j=i)),k=Xl(0,1,ne)*l}const R=M?{done:!1,value:m[0]}:j.next(k);s&&(R.value=s(R.value));let{done:D}=R;!M&&u!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return O&&w!==bS&&(R.value=DE(m,this.options,b,this.speed)),x&&x(R.value),O&&this.finish(),R}then(t,r){return this.finished.then(t,r)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(this.currentTime)}set time(t){var r;t=Wo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ri(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=PV,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function JV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ed=e=>e*180/Math.PI,SS=e=>{const t=Ed(Math.atan2(e[1],e[0]));return ES(t)},ZV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:SS,rotateZ:SS,skewX:e=>Ed(Math.atan(e[1])),skewY:e=>Ed(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ES=e=>(e=e%360,e<0&&(e+=360),e),pN=SS,gN=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vN=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gN,scaleY:vN,scale:e=>(gN(e)+vN(e))/2,rotateX:e=>ES(Ed(Math.atan2(e[6],e[5]))),rotateY:e=>ES(Ed(Math.atan2(-e[2],e[0]))),rotateZ:pN,rotate:pN,skewX:e=>Ed(Math.atan(e[4])),skewY:e=>Ed(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function TS(e){return e.includes("scale")?1:0}function kS(e,t){if(!e||e==="none")return TS(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=eH,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ZV,a=l}if(!a)return TS(t);const s=n[t],i=a[1].split(",").map(rH);return typeof s=="function"?s(i):i[s]}const tH=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return kS(r,t)};function rH(e){return parseFloat(e.trim())}const x0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],w0=new Set(x0),yN=e=>e===y0||e===rr,nH=new Set(["x","y","z"]),aH=x0.filter(e=>!nH.has(e));function sH(e){const t=[];return aH.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Bd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kS(t,"x"),y:(e,{transform:t})=>kS(t,"y")};Bd.translateX=Bd.x;Bd.translateY=Bd.y;const Ud=new Set;let CS=!1,AS=!1,MS=!1;function d3(){if(AS){const e=Array.from(Ud).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=sH(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var l;(l=n.getValue(s))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}AS=!1,CS=!1,Ud.forEach(e=>e.complete(MS)),Ud.clear()}function f3(){Ud.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AS=!0)})}function iH(){MS=!0,f3(),d3(),MS=!1}class FE{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ud.add(this),CS||(CS=!0,wn.read(f3),wn.resolveKeyframes(d3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}JV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ud.delete(this)}cancel(){this.state==="scheduled"&&(Ud.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oH=e=>e.startsWith("--");function lH(e,t,r){oH(t)?e.style.setProperty(t,r):e.style[t]=r}const cH=EE(()=>window.ScrollTimeline!==void 0),uH={};function dH(e,t){const r=EE(e);return()=>uH[t]??r()}const h3=dH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,xN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xm([0,.65,.55,1]),circOut:Xm([.55,0,1,.45]),backIn:Xm([.31,.01,.66,-.59]),backOut:Xm([.33,1.53,.69,.99])};function m3(e,t){if(e)return typeof e=="function"?h3()?o3(e,t):"ease-out":QD(e)?Xm(e):Array.isArray(e)?e.map(r=>m3(r,t)||xN.easeOut):xN[e]}function fH(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:l="easeOut",times:u}={},d=void 0){const m={[t]:r};u&&(m.offset=u);const p=m3(l,a);Array.isArray(p)&&(m.easing=p);const v={delay:n,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),e.animate(m,v)}function p3(e){return typeof e=="function"&&"applyToOptions"in e}function hH({type:e,...t}){return p3(e)&&h3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mH extends PE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,SE(typeof t.type!="string");const d=hH(t);this.animation=fH(r,n,a,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=DE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):lH(r,n,m),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ri(t)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&cH()?(this.animation.timeline=t,Pi):r(this)}}const g3={anticipate:WD,backInOut:GD,circInOut:XD};function pH(e){return e in g3}function gH(e){typeof e.ease=="string"&&pH(e.ease)&&(e.ease=g3[e.ease])}const wN=10;class vH extends mH{constructor(t){gH(t),u3(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new i1({...i,autoplay:!1}),u=Wo(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-wN).value,l.sample(u).value,wN),l.stop()}}const _N=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gu.test(e)||e==="0")&&!e.startsWith("url("));function yH(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function xH(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=_N(a,t),l=_N(s,t);return!i||!l?!1:yH(e)||(r==="spring"||p3(r))&&n}function NS(e){e.duration=0,e.type="keyframes"}const wH=new Set(["opacity","clipPath","filter","transform"]),_H=EE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bH(e){var m;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return _H()&&r&&wH.has(r)&&(r!=="transform"||!d)&&!u&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const SH=40;class EH extends PE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:l,name:u,motionValue:d,element:m,...p}){var w;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Fs.now();const v={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:u,motionValue:d,element:m,...p},y=(m==null?void 0:m.KeyframeResolver)||FE;this.keyframeResolver=new y(l,(x,b,T)=>this.onKeyframesResolved(x,b,v,!T),u,d,m),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:i,velocity:l,delay:u,isHandoff:d,onUpdate:m}=n;this.resolvedAt=Fs.now(),xH(t,s,i,l)||((Yl.instantAnimations||!u)&&(m==null||m(DE(t,n,r))),t[0]=t[t.length-1],NS(n),n.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>SH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!d&&bH(v)?new vH({...v,element:v.motionValue.owner.current}):new i1(v);y.finished.then(()=>this.notifyFinished()).catch(Pi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),iH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const TH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kH(e){const t=TH.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function v3(e,t,r=1){const[n,a]=kH(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return LD(i)?parseFloat(i):i}return ME(a)?v3(a,t,r+1):a}function IE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const y3=new Set(["width","height","top","left","right","bottom",...x0]),CH={test:e=>e==="auto",parse:e=>e},x3=e=>t=>t.test(e),w3=[y0,rr,Ko,Xc,xV,yV,CH],bN=e=>w3.find(x3(e));function AH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||UD(e):!0}const MH=new Set(["brightness","contrast","saturate","opacity"]);function NH(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(NE)||[];if(!n)return e;const a=r.replace(n,"");let s=MH.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const jH=/\b([a-z-]*)\(.*?\)/gu,jS={...gu,getAnimatableNone:e=>{const t=e.match(jH);return t?t.map(NH).join(" "):e}},SN={...y0,transform:Math.round},RH={rotate:Xc,rotateX:Xc,rotateY:Xc,rotateZ:Xc,scale:ly,scaleX:ly,scaleY:ly,scaleZ:ly,skew:Xc,skewX:Xc,skewY:Xc,distance:rr,translateX:rr,translateY:rr,translateZ:rr,x:rr,y:rr,z:rr,perspective:rr,transformPerspective:rr,opacity:Ap,originX:uN,originY:uN,originZ:rr},LE={borderWidth:rr,borderTopWidth:rr,borderRightWidth:rr,borderBottomWidth:rr,borderLeftWidth:rr,borderRadius:rr,radius:rr,borderTopLeftRadius:rr,borderTopRightRadius:rr,borderBottomRightRadius:rr,borderBottomLeftRadius:rr,width:rr,maxWidth:rr,height:rr,maxHeight:rr,top:rr,right:rr,bottom:rr,left:rr,padding:rr,paddingTop:rr,paddingRight:rr,paddingBottom:rr,paddingLeft:rr,margin:rr,marginTop:rr,marginRight:rr,marginBottom:rr,marginLeft:rr,backgroundPositionX:rr,backgroundPositionY:rr,...RH,zIndex:SN,fillOpacity:Ap,strokeOpacity:Ap,numOctaves:SN},OH={...LE,color:ha,backgroundColor:ha,outlineColor:ha,fill:ha,stroke:ha,borderColor:ha,borderTopColor:ha,borderRightColor:ha,borderBottomColor:ha,borderLeftColor:ha,filter:jS,WebkitFilter:jS},_3=e=>OH[e];function b3(e,t){let r=_3(e);return r!==jS&&(r=gu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const DH=new Set(["auto","none","0"]);function PH(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!DH.has(s)&&Mp(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=b3(r,a)}class FH extends FE{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),ME(d))){const m=v3(d,r.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!y3.has(n)||t.length!==2)return;const[a,s]=t,i=bN(a),l=bN(s);if(i!==l)if(yN(i)&&yN(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else Bd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||AH(t[a]))&&n.push(a);n.length&&PH(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=Bd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function IH(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const S3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function E3(e){return BD(e)&&"offsetHeight"in e}const EN=30,LH=e=>!isNaN(parseFloat(e)),ip={current:void 0};class BH{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Fs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LH(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new TE);const n=this.events[t].add(r);return t==="change"?()=>{n(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ip.current&&ip.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>EN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,EN);return zD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qd(e,t){return new BH(e,t)}const{schedule:BE}=JD(queueMicrotask,!1),Zi={x:!1,y:!1};function T3(){return Zi.x||Zi.y}function UH(e){return e==="x"||e==="y"?Zi[e]?null:(Zi[e]=!0,()=>{Zi[e]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function k3(e,t){const r=IH(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function TN(e){return!(e.pointerType==="touch"||T3())}function zH(e,t,r={}){const[n,a,s]=k3(e,r),i=l=>{if(!TN(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const m=p=>{TN(p)&&(d(p),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,a)};return n.forEach(l=>{l.addEventListener("pointerenter",i,a)}),s}const C3=(e,t)=>t?e===t?!0:C3(e,t.parentElement):!1,UE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HH(e){return VH.has(e.tagName)||e.tabIndex!==-1}const Zy=new WeakSet;function kN(e){return t=>{t.key==="Enter"&&e(t)}}function Q_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $H=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=kN(()=>{if(Zy.has(r))return;Q_(r,"down");const a=kN(()=>{Q_(r,"up")}),s=()=>Q_(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function CN(e){return UE(e)&&!T3()}function qH(e,t,r={}){const[n,a,s]=k3(e,r),i=l=>{const u=l.currentTarget;if(!CN(l))return;Zy.add(u);const d=t(u,l),m=(y,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),Zy.has(u)&&Zy.delete(u),CN(y)&&typeof d=="function"&&d(y,{success:w})},p=y=>{m(y,u===window||u===document||r.useGlobalTarget||C3(u,y.target))},v=y=>{m(y,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",v,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),E3(l)&&(l.addEventListener("focus",d=>$H(d,a)),!HH(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function A3(e){return BD(e)&&"ownerSVGElement"in e}function GH(e){return A3(e)&&e.tagName==="svg"}function WH(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],s=e[2+r],i=e[3+r],l=c3(a,s,i);return t?l(n):l}const ja=e=>!!(e&&e.getVelocity);function KH(e,t,r){const n=e.get();let a=null,s=n,i;const l=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{a&&(a.stop(),a=null)},d=()=>{u(),a=new i1({keyframes:[MN(e.get()),MN(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:i})};if(e.attach((m,p)=>{s=m,i=v=>p(AN(v,l)),wn.postRender(d)},u),ja(t)){const m=t.on("change",v=>e.set(AN(v,l))),p=e.on("destroy",m);return()=>{m(),p()}}return u}function AN(e,t){return t?e+t:e}function MN(e){return typeof e=="number"?e:parseFloat(e)}const XH=[...w3,ha,gu],YH=e=>XH.find(x3(e)),xg=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function NN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function QH(...e){return t=>{let r=!1;const n=e.map(a=>{const s=NN(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():NN(e[a],null)}}}}function JH(...e){return E.useCallback(QH(...e),e)}class ZH extends E.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=E3(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e$({children:e,isPresent:t,anchorX:r,root:n}){const a=E.useId(),s=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(xg),u=JH(s,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:v,right:y}=i.current;if(t||!s.current||!d||!m)return;const w=r==="left"?`left: ${v}`:`right: ${y}`;s.current.dataset.motionPopId=a;const x=document.createElement("style");l&&(x.nonce=l);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[t]),f.jsx(ZH,{isPresent:t,childRef:s,sizeRef:i,children:E.cloneElement(e,{ref:u})})}const t$=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:l,root:u})=>{const d=pg(r$),m=E.useId();let p=!0,v=E.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:r,custom:a,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return s&&p&&(v={...v}),E.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[r]),E.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),i==="popLayout"&&(e=f.jsx(e$,{isPresent:r,anchorX:l,root:u,children:e})),f.jsx(s1.Provider,{value:v,children:e})};function r$(){return new Map}function M3(e=!0){const t=E.useContext(s1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=E.useId();E.useEffect(()=>{if(e)return a(s)},[e]);const i=E.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const cy=e=>e.key||"";function jN(e){const t=[];return E.Children.forEach(e,r=>{E.isValidElement(r)&&t.push(r)}),t}const n$=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:l="left",root:u})=>{const[d,m]=M3(i),p=E.useMemo(()=>jN(e),[e]),v=i&&!d?[]:p.map(cy),y=E.useRef(!0),w=E.useRef(p),x=pg(()=>new Map),[b,T]=E.useState(p),[M,k]=E.useState(p);wE(()=>{y.current=!1,w.current=p;for(let D=0;D<M.length;D++){const O=cy(M[D]);v.includes(O)?x.delete(O):x.get(O)!==!0&&x.set(O,!1)}},[M,v.length,v.join("-")]);const j=[];if(p!==b){let D=[...p];for(let O=0;O<M.length;O++){const B=M[O],V=cy(B);v.includes(V)||(D.splice(O,0,B),j.push(B))}return s==="wait"&&j.length&&(D=j),k(jN(D)),T(p),null}const{forceRender:R}=E.useContext(yE);return f.jsx(f.Fragment,{children:M.map(D=>{const O=cy(D),B=i&&!d?!1:p===M||v.includes(O),V=()=>{if(x.has(O))x.set(O,!0);else return;let ne=!0;x.forEach(ie=>{ie||(ne=!1)}),ne&&(R==null||R(),k(w.current),i&&(m==null||m()),n&&n())};return f.jsx(t$,{isPresent:B,initial:!y.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:u,onExitComplete:B?void 0:V,anchorX:l,children:D},O)})})},N3=E.createContext({strict:!1}),RN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},n0={};for(const e in RN)n0[e]={isEnabled:t=>RN[e].some(r=>!!t[r])};function a$(e){for(const t in e)n0[t]={...n0[t],...e[t]}}const s$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function px(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s$.has(e)}let j3=e=>!px(e);function i$(e){typeof e=="function"&&(j3=t=>t.startsWith("on")?!px(t):e(t))}try{i$(require("@emotion/is-prop-valid").default)}catch{}function o$(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(j3(a)||r===!0&&px(a)||!t&&!px(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const o1=E.createContext({});function l1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Np(e){return typeof e=="string"||Array.isArray(e)}const zE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VE=["initial",...zE];function c1(e){return l1(e.animate)||VE.some(t=>Np(e[t]))}function R3(e){return!!(c1(e)||e.variants)}function l$(e,t){if(c1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Np(r)?r:void 0,animate:Np(n)?n:void 0}}return e.inherit!==!1?t:{}}function c$(e){const{initial:t,animate:r}=l$(e,E.useContext(o1));return E.useMemo(()=>({initial:t,animate:r}),[ON(t),ON(r)])}function ON(e){return Array.isArray(e)?e.join(" "):e}const jp={};function u$(e){for(const t in e)jp[t]=e[t],AE(t)&&(jp[t].isCSSVariable=!0)}function O3(e,{layout:t,layoutId:r}){return w0.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!jp[e]||e==="opacity")}const d$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f$=x0.length;function h$(e,t,r){let n="",a=!0;for(let s=0;s<f$;s++){const i=x0[s],l=e[i];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(i.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const d=S3(l,LE[i]);if(!u){a=!1;const m=d$[i]||i;n+=`${m}(${d}) `}r&&(t[i]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function HE(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,l=!1;for(const u in t){const d=t[u];if(w0.has(u)){i=!0;continue}else if(AE(u)){a[u]=d;continue}else{const m=S3(d,LE[u]);u.startsWith("origin")?(l=!0,s[u]=m):n[u]=m}}if(t.transform||(i||r?n.transform=h$(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:m=0}=s;n.transformOrigin=`${u} ${d} ${m}`}}const $E=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D3(e,t,r){for(const n in t)!ja(t[n])&&!O3(n,r)&&(e[n]=t[n])}function m$({transformTemplate:e},t){return E.useMemo(()=>{const r=$E();return HE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function p$(e,t){const r=e.style||{},n={};return D3(n,r,e),Object.assign(n,m$(e,t)),n}function g$(e,t){const r={},n=p$(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const v$={offset:"stroke-dashoffset",array:"stroke-dasharray"},y$={offset:"strokeDashoffset",array:"strokeDasharray"};function x$(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?v$:y$;e[s.offset]=rr.transform(-n);const i=rr.transform(t),l=rr.transform(r);e[s.array]=`${i} ${l}`}function P3(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...l},u,d,m){if(HE(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v}=e;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&x$(p,a,s,i,!1)}const F3=()=>({...$E(),attrs:{}}),I3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function w$(e,t,r,n){const a=E.useMemo(()=>{const s=F3();return P3(s,t,I3(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};D3(s,e.style,e),a.style={...s,...a.style}}return a}const _$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qE(e){return typeof e!="string"||e.includes("-")?!1:!!(_$.indexOf(e)>-1||/[A-Z]/u.test(e))}function b$(e,t,r,{latestValues:n},a,s=!1){const l=(qE(e)?w$:g$)(t,n,a,e),u=o$(t,typeof e=="string",s),d=e!==E.Fragment?{...u,...l,ref:r}:{},{children:m}=t,p=E.useMemo(()=>ja(m)?m.get():m,[m]);return E.createElement(e,{...d,children:p})}function DN(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function GE(e,t,r,n){if(typeof t=="function"){const[a,s]=DN(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=DN(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function ex(e){return ja(e)?e.get():e}function S$({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:E$(r,n,a,e),renderState:t()}}function E$(e,t,r,n){const a={},s=n(e,{});for(const v in s)a[v]=ex(s[v]);let{initial:i,animate:l}=e;const u=c1(e),d=R3(e);t&&d&&!u&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let m=r?r.initial===!1:!1;m=m||i===!1;const p=m?l:i;if(p&&typeof p!="boolean"&&!l1(p)){const v=Array.isArray(p)?p:[p];for(let y=0;y<v.length;y++){const w=GE(e,v[y]);if(w){const{transitionEnd:x,transition:b,...T}=w;for(const M in T){let k=T[M];if(Array.isArray(k)){const j=m?k.length-1:0;k=k[j]}k!==null&&(a[M]=k)}for(const M in x)a[M]=x[M]}}}return a}const L3=e=>(t,r)=>{const n=E.useContext(o1),a=E.useContext(s1),s=()=>S$(e,t,n,a);return r?s():pg(s)};function WE(e,t,r){var s;const{style:n}=e,a={};for(const i in n)(ja(n[i])||t.style&&ja(t.style[i])||O3(i,e)||((s=r==null?void 0:r.getValue(i))==null?void 0:s.liveStyle)!==void 0)&&(a[i]=n[i]);return a}const T$=L3({scrapeMotionValuesFromProps:WE,createRenderState:$E});function B3(e,t,r){const n=WE(e,t,r);for(const a in e)if(ja(e[a])||ja(t[a])){const s=x0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const k$=L3({scrapeMotionValuesFromProps:B3,createRenderState:F3}),C$=Symbol.for("motionComponentSymbol");function Nh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function A$(e,t,r){return E.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Nh(r)&&(r.current=n))},[t])}const KE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M$="framerAppearId",U3="data-"+KE(M$),z3=E.createContext({});function N$(e,t,r,n,a){var x,b;const{visualElement:s}=E.useContext(o1),i=E.useContext(N3),l=E.useContext(s1),u=E.useContext(xg).reducedMotion,d=E.useRef(null);n=n||i.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=d.current,p=E.useContext(z3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&j$(d.current,r,a,p);const v=E.useRef(!1);E.useInsertionEffect(()=>{m&&v.current&&m.update(r,l)});const y=r[U3],w=E.useRef(!!y&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return wE(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),w.current&&m.animationState&&m.animationState.animateChanges())}),E.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,y)}),w.current=!1),m.enteringChildren=void 0)}),m}function j$(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:V3(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||l&&Nh(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:u,layoutRoot:d})}function V3(e){if(e)return e.options.allowProjection!==!1?e.projection:V3(e.parent)}function J_(e,{forwardMotionProps:t=!1}={},r,n){r&&a$(r);const a=qE(e)?k$:T$;function s(l,u){let d;const m={...E.useContext(xg),...l,layoutId:R$(l)},{isStatic:p}=m,v=c$(l),y=a(l,p);if(!p&&xE){O$();const w=D$(m);d=w.MeasureLayout,v.visualElement=N$(e,y,m,n,w.ProjectionNode)}return f.jsxs(o1.Provider,{value:v,children:[d&&v.visualElement?f.jsx(d,{visualElement:v.visualElement,...m}):null,b$(e,l,A$(y,v.visualElement,u),y,p,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=E.forwardRef(s);return i[C$]=e,i}function R$({layoutId:e}){const t=E.useContext(yE).id;return t&&e!==void 0?t+"-"+e:e}function O$(e,t){E.useContext(N3).strict}function D$(e){const{drag:t,layout:r}=n0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function P$(e,t){if(typeof Proxy>"u")return J_;const r=new Map,n=(s,i)=>J_(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,J_(i,void 0,e,t)),r.get(i))})}function H3({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function F$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function I$(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Z_(e){return e===void 0||e===1}function RS({scale:e,scaleX:t,scaleY:r}){return!Z_(e)||!Z_(t)||!Z_(r)}function hd(e){return RS(e)||$3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $3(e){return PN(e.x)||PN(e.y)}function PN(e){return e&&e!=="0%"}function gx(e,t,r){const n=e-r,a=t*n;return r+a}function FN(e,t,r,n,a){return a!==void 0&&(e=gx(e,a,n)),gx(e,r,n)+t}function OS(e,t=0,r=1,n,a){e.min=FN(e.min,t,r,n,a),e.max=FN(e.max,t,r,n,a)}function q3(e,{x:t,y:r}){OS(e.x,t.translate,t.scale,t.originPoint),OS(e.y,r.translate,r.scale,r.originPoint)}const IN=.999999999999,LN=1.0000000000001;function L$(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let l=0;l<a;l++){s=r[l],i=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,q3(e,i)),n&&hd(s.latestValues)&&Rh(e,s.latestValues))}t.x<LN&&t.x>IN&&(t.x=1),t.y<LN&&t.y>IN&&(t.y=1)}function jh(e,t){e.min=e.min+t,e.max=e.max+t}function BN(e,t,r,n,a=.5){const s=Ln(e.min,e.max,a);OS(e,t,r,s,n)}function Rh(e,t){BN(e.x,t.x,t.scaleX,t.scale,t.originX),BN(e.y,t.y,t.scaleY,t.scale,t.originY)}function G3(e,t){return H3(I$(e.getBoundingClientRect(),t))}function B$(e,t,r){const n=G3(e,r),{scroll:a}=t;return a&&(jh(n.x,a.offset.x),jh(n.y,a.offset.y)),n}const UN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oh=()=>({x:UN(),y:UN()}),zN=()=>({min:0,max:0}),Zn=()=>({x:zN(),y:zN()}),DS={current:null},W3={current:!1};function U$(){if(W3.current=!0,!!xE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>DS.current=e.matches;e.addEventListener("change",t),t()}else DS.current=!1}const z$=new WeakMap;function V$(e,t,r){for(const n in t){const a=t[n],s=r[n];if(ja(a))e.addValue(n,a);else if(ja(s))e.addValue(n,Qd(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Qd(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const VN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H${scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,wn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=i;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=c1(r),this.isVariantNode=R3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in p){const y=p[v];u[v]!==void 0&&ja(y)&&y.set(u[v])}}mount(t){var r;this.current=t,z$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),W3.current||U$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:DS.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ql(this.notifyUpdate),Ql(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=w0.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&wn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in n0){const r=n0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<VN.length;n++){const a=VN[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=V$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Qd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(LD(n)||UD(n))?n=parseFloat(n):!YH(n)&&gu.test(r)&&(n=b3(t,r)),this.setBaseTarget(t,ja(n)?n.get():n)),ja(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=GE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ja(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new TE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){BE.render(this.render)}}class K3 extends H${constructor(){super(...arguments),this.KeyframeResolver=FH}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ja(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function X3(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function $$(e){return window.getComputedStyle(e)}class q$ extends K3{constructor(){super(...arguments),this.type="html",this.renderInstance=X3}readValueFromInstance(t,r){var n;if(w0.has(r))return(n=this.projection)!=null&&n.isProjecting?TS(r):tH(t,r);{const a=$$(t),s=(AE(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return G3(t,r)}build(t,r,n){HE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return WE(t,r,n)}}const Y3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G$(e,t,r,n){X3(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Y3.has(a)?a:KE(a),t.attrs[a])}class W$ extends K3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(w0.has(r)){const n=_3(r);return n&&n.default||0}return r=Y3.has(r)?r:KE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return B3(t,r,n)}build(t,r,n){P3(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){G$(t,r,n,a)}mount(t){this.isSVGTag=I3(t.tagName),super.mount(t)}}const K$=(e,t)=>qE(e)?new W$(t):new q$(t,{allowProjection:e!==E.Fragment});function Fh(e,t,r){const n=e.getProps();return GE(n,t,r!==void 0?r:n.custom,e)}const PS=e=>Array.isArray(e);function X$(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qd(r))}function Y$(e){return PS(e)?e[e.length-1]||0:e}function Q$(e,t){const r=Fh(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const l=Y$(s[i]);X$(e,i,l)}}function J$(e){return!!(ja(e)&&e.add)}function FS(e,t){const r=e.getValue("willChange");if(J$(r))return r.add(t);if(!r&&Yl.WillChange){const n=new Yl.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Q3(e){return e.props[U3]}const Z$=e=>e!==null;function eq(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Z$),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const tq={type:"spring",stiffness:500,damping:25,restSpeed:10},rq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nq={type:"keyframes",duration:.8},aq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sq=(e,{keyframes:t})=>t.length>2?nq:w0.has(e)?e.startsWith("scale")?rq(t[1]):tq:aq;function iq({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:l,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const XE=(e,t,r,n={},a,s)=>i=>{const l=IE(n,e)||{},u=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Wo(u);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};iq(l)||Object.assign(m,sq(e,m)),m.duration&&(m.duration=Wo(m.duration)),m.repeatDelay&&(m.repeatDelay=Wo(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(NS(m),m.delay===0&&(p=!0)),(Yl.instantAnimations||Yl.skipAnimations)&&(p=!0,NS(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,p&&!s&&t.get()!==void 0){const v=eq(m.keyframes,l);if(v!==void 0){wn.update(()=>{m.onUpdate(v),m.onComplete()});return}}return l.isSync?new i1(m):new EH(m)};function oq({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function J3(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(s=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const m in l){const p=e.getValue(m,e.latestValues[m]??null),v=l[m];if(v===void 0||d&&oq(d,m))continue;const y={delay:r,...IE(s||{},m)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=Q3(e);if(T){const M=window.MotionHandoffAnimation(T,m,wn);M!==null&&(y.startTime=M,x=!0)}}FS(e,m),p.start(XE(m,p,v,e.shouldReduceMotion&&y3.has(m)?{type:!1}:y,e,x));const b=p.animation;b&&u.push(b)}return i&&Promise.all(u).then(()=>{wn.update(()=>{i&&Q$(e,i)})}),u}function Z3(e,t,r,n=0,a=1){const s=Array.from(e).sort((d,m)=>d.sortNodePosition(m)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:l-s*n}function IS(e,t,r={}){var u;const n=Fh(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(J3(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:v}=a;return lq(e,t,d,m,p,v,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,m]=l==="beforeChildren"?[s,i]:[i,s];return d().then(()=>m())}else return Promise.all([s(),i(r.delay)])}function lq(e,t,r=0,n=0,a=0,s=1,i){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(IS(u,t,{...i,delay:r+(typeof n=="function"?0:n)+Z3(e.variantChildren,u,n,a,s)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function cq(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>IS(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=IS(e,t,r);else{const a=typeof t=="function"?Fh(e,t,r.custom):t;n=Promise.all(J3(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function eP(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const uq=VE.length;function tP(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?tP(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uq;r++){const n=VE[r],a=e.props[n];(Np(a)||a===!1)&&(t[n]=a)}return t}const dq=[...zE].reverse(),fq=zE.length;function hq(e){return t=>Promise.all(t.map(({animation:r,options:n})=>cq(e,r,n)))}function mq(e){let t=hq(e),r=HN(),n=!0;const a=u=>(d,m)=>{var v;const p=Fh(e,m,u==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(p){const{transition:y,transitionEnd:w,...x}=p;d={...d,...x,...w}}return d};function s(u){t=u(e)}function i(u){const{props:d}=e,m=tP(e.parent)||{},p=[],v=new Set;let y={},w=1/0;for(let b=0;b<fq;b++){const T=dq[b],M=r[T],k=d[T]!==void 0?d[T]:m[T],j=Np(k),R=T===u?M.isActive:null;R===!1&&(w=b);let D=k===m[T]&&k!==d[T]&&j;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),M.protectedKeys={...y},!M.isActive&&R===null||!k&&!M.prevProp||l1(k)||typeof k=="boolean")continue;const O=pq(M.prevProp,k);let B=O||T===u&&M.isActive&&!D&&j||b>w&&j,V=!1;const ne=Array.isArray(k)?k:[k];let ie=ne.reduce(a(T),{});R===!1&&(ie={});const{prevResolvedValues:Q={}}=M,ve={...Q,...ie},G=re=>{B=!0,v.has(re)&&(V=!0,v.delete(re)),M.needsAnimating[re]=!0;const le=e.getValue(re);le&&(le.liveStyle=!1)};for(const re in ve){const le=ie[re],J=Q[re];if(y.hasOwnProperty(re))continue;let Me=!1;PS(le)&&PS(J)?Me=!eP(le,J):Me=le!==J,Me?le!=null?G(re):v.add(re):le!==void 0&&v.has(re)?G(re):M.protectedKeys[re]=!0}M.prevProp=k,M.prevResolvedValues=ie,M.isActive&&(y={...y,...ie}),n&&e.blockInitialAnimation&&(B=!1);const fe=D&&O;B&&(!fe||V)&&p.push(...ne.map(re=>{const le={type:T};if(typeof re=="string"&&n&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,Me=Fh(J,re);if(J.enteringChildren&&Me){const{delayChildren:H}=Me.transition||{};le.delay=Z3(J.enteringChildren,e,H)}}return{animation:re,options:le}}))}if(v.size){const b={};if(typeof d.initial!="boolean"){const T=Fh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(b.transition=T.transition)}v.forEach(T=>{const M=e.getBaseTarget(T),k=e.getValue(T);k&&(k.liveStyle=!0),b[T]=M??null}),p.push({animation:b})}let x=!!p.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(p):Promise.resolve()}function l(u,d){var p;if(r[u].isActive===d)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(u,d)}),r[u].isActive=d;const m=i(u);for(const v in r)r[v].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=HN()}}}function pq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eP(t,e):!1}function od(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HN(){return{animate:od(!0),whileInView:od(),whileHover:od(),whileTap:od(),whileDrag:od(),whileFocus:od(),exit:od()}}class Cu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gq extends Cu{constructor(t){super(t),t.animationState||(t.animationState=mq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();l1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let vq=0;class yq extends Cu{constructor(){super(...arguments),this.id=vq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xq={animation:{Feature:gq},exit:{Feature:yq}};function Rp(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function wg(e){return{point:{x:e.pageX,y:e.pageY}}}const wq=e=>t=>UE(t)&&e(t,wg(t));function op(e,t,r,n){return Rp(e,t,wq(r),n)}const rP=1e-4,_q=1-rP,bq=1+rP,nP=.01,Sq=0-nP,Eq=0+nP;function ws(e){return e.max-e.min}function Tq(e,t,r){return Math.abs(e-t)<=r}function $N(e,t,r,n=.5){e.origin=n,e.originPoint=Ln(t.min,t.max,e.origin),e.scale=ws(r)/ws(t),e.translate=Ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=_q&&e.scale<=bq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Sq&&e.translate<=Eq||isNaN(e.translate))&&(e.translate=0)}function lp(e,t,r,n){$N(e.x,t.x,r.x,n?n.originX:void 0),$N(e.y,t.y,r.y,n?n.originY:void 0)}function qN(e,t,r){e.min=r.min+t.min,e.max=e.min+ws(t)}function kq(e,t,r){qN(e.x,t.x,r.x),qN(e.y,t.y,r.y)}function GN(e,t,r){e.min=t.min-r.min,e.max=e.min+ws(t)}function cp(e,t,r){GN(e.x,t.x,r.x),GN(e.y,t.y,r.y)}function Ti(e){return[e("x"),e("y")]}const aP=({current:e})=>e?e.ownerDocument.defaultView:null,WN=(e,t)=>Math.abs(e-t);function Cq(e,t){const r=WN(e.x,t.x),n=WN(e.y,t.y);return Math.sqrt(r**2+n**2)}class sP{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=tb(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=Cq(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:x}=v,{timestamp:b}=Ua;this.history.push({...x,timestamp:b});const{onStart:T,onMove:M}=this.handlers;y||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=eb(y,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=tb(v.type==="pointercancel"?this.lastMoveEventInfo:eb(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,T),x&&x(v,T)},!UE(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=wg(t),u=eb(l,this.transformPagePoint),{point:d}=u,{timestamp:m}=Ua;this.history=[{...d,timestamp:m}];const{onSessionStart:p}=r;p&&p(t,tb(u,this.history)),this.removeListeners=gg(op(this.contextWindow,"pointermove",this.handlePointerMove),op(this.contextWindow,"pointerup",this.handlePointerUp),op(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ql(this.updatePoint)}}function eb(e,t){return t?{point:t(e.point)}:e}function KN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tb({point:e},t){return{point:e,delta:KN(e,iP(t)),offset:KN(e,Aq(t)),velocity:Mq(t,.1)}}function Aq(e){return e[0]}function iP(e){return e[e.length-1]}function Mq(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=iP(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Wo(t)));)r--;if(!n)return{x:0,y:0};const s=Ri(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Nq(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ln(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ln(r,e,n.max):Math.min(e,r)),e}function XN(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jq(e,{top:t,left:r,bottom:n,right:a}){return{x:XN(e.x,r,a),y:XN(e.y,t,n)}}function YN(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Rq(e,t){return{x:YN(e.x,t.x),y:YN(e.y,t.y)}}function Oq(e,t){let r=.5;const n=ws(e),a=ws(t);return a>n?r=Cp(t.min,t.max-n,e.min):n>a&&(r=Cp(e.min,e.max-a,t.min)),Xl(0,1,r)}function Dq(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const LS=.35;function Pq(e=LS){return e===!1?e=0:e===!0&&(e=LS),{x:QN(e,"left","right"),y:QN(e,"top","bottom")}}function QN(e,t,r){return{min:JN(e,t),max:JN(e,r)}}function JN(e,t){return typeof e=="number"?e:e[t]||0}const Fq=new WeakMap;class Iq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(wg(p).point)},i=(p,v)=>{const{drag:y,dragPropagation:w,onDragStart:x}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UH(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(T=>{let M=this.getAxisMotionValue(T).get()||0;if(Ko.test(M)){const{projection:k}=this.visualElement;if(k&&k.layout){const j=k.layout.layoutBox[T];j&&(M=ws(j)*(parseFloat(M)/100))}}this.originPoint[T]=M}),x&&wn.postRender(()=>x(p,v)),FS(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:x,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=v;if(w&&this.currentDirection===null){this.currentDirection=Lq(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),b&&b(p,v)},u=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ti(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new sP(t,{onSessionStart:s,onStart:i,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:aP(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&wn.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!uy(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=Nq(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&Nh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=jq(n.layoutBox,t):this.constraints=!1,this.elastic=Pq(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ti(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Dq(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Nh(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=B$(n,a.root,this.visualElement.getTransformPagePoint());let i=Rq(a.layout.layoutBox,s);if(r){const l=r(F$(i));this.hasMutatedConstraints=!!l,l&&(i=H3(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Ti(m=>{if(!uy(m,r,this.currentDirection))return;let p=u&&u[m]||{};i&&(p={min:0,max:0});const v=a?200:1e6,y=a?40:1e7,w={type:"inertia",velocity:n?t[m]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(m,w)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return FS(this.visualElement,t),n.start(XE(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ti(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ti(r=>{const{drag:n}=this.getProps();if(!uy(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[r];s.set(t[r]-Ln(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Nh(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ti(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const u=l.get();a[i]=Oq({min:u,max:u},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ti(i=>{if(!uy(i,t,null))return;const l=this.getAxisMotionValue(i),{min:u,max:d}=this.constraints[i];l.set(Ln(u,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;Fq.set(this.visualElement,this);const t=this.visualElement.current,r=op(t,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Nh(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wn.read(n);const i=Rp(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ti(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=u[m].translate,p.set(p.get()+u[m].translate))}),this.visualElement.render())}));return()=>{i(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=LS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:l}}}function uy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Lq(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Bq extends Cu{constructor(t){super(t),this.removeGroupControls=Pi,this.removeListeners=Pi,this.controls=new Iq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZN=e=>(t,r)=>{e&&wn.postRender(()=>e(t,r))};class Uq extends Cu{constructor(){super(...arguments),this.removePointerDownListener=Pi}onPointerDown(t){this.session=new sP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:ZN(t),onStart:ZN(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&wn.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=op(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $m={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rr.test(e))e=parseFloat(e);else return e;const r=e4(e,t.target.x),n=e4(e,t.target.y);return`${r}% ${n}%`}},zq={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=gu.parse(e);if(a.length>5)return n;const s=gu.createTransformer(e),i=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+i]/=l,a[1+i]/=u;const d=Ln(l,u,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),s(a)}};let rb=!1;class Vq extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;u$(Hq),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),rb&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,rb=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||wn.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),BE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;rb=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oP(e){const[t,r]=M3(),n=E.useContext(yE);return f.jsx(Vq,{...e,layoutGroup:n,switchLayoutGroup:E.useContext(z3),isPresent:t,safeToRemove:r})}const Hq={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:zq};function $q(e,t,r){const n=ja(e)?e:Qd(e);return n.start(XE("",n,t,r)),n.animation}const qq=(e,t)=>e.depth-t.depth;class Gq{constructor(){this.children=[],this.isDirty=!1}add(t){_E(this.children,t),this.isDirty=!0}remove(t){bE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qq),this.isDirty=!1,this.children.forEach(t)}}function Wq(e,t){const r=Fs.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Ql(n),e(s-t))};return wn.setup(n,!0),()=>Ql(n)}const lP=["TopLeft","TopRight","BottomLeft","BottomRight"],Kq=lP.length,t4=e=>typeof e=="string"?parseFloat(e):e,r4=e=>typeof e=="number"||rr.test(e);function Xq(e,t,r,n,a,s){a?(e.opacity=Ln(0,r.opacity??1,Yq(n)),e.opacityExit=Ln(t.opacity??1,0,Qq(n))):s&&(e.opacity=Ln(t.opacity??1,r.opacity??1,n));for(let i=0;i<Kq;i++){const l=`border${lP[i]}Radius`;let u=n4(t,l),d=n4(r,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||r4(u)===r4(d)?(e[l]=Math.max(Ln(t4(u),t4(d),n),0),(Ko.test(d)||Ko.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Ln(t.rotate||0,r.rotate||0,n))}function n4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Yq=cP(0,.5,KD),Qq=cP(.5,.95,Pi);function cP(e,t,r){return n=>n<e?0:n>t?1:r(Cp(e,t,n))}function a4(e,t){e.min=t.min,e.max=t.max}function wi(e,t){a4(e.x,t.x),a4(e.y,t.y)}function s4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function i4(e,t,r,n,a){return e-=t,e=gx(e,1/r,n),a!==void 0&&(e=gx(e,1/a,n)),e}function Jq(e,t=0,r=1,n=.5,a,s=e,i=e){if(Ko.test(t)&&(t=parseFloat(t),t=Ln(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Ln(s.min,s.max,n);e===s&&(l-=t),e.min=i4(e.min,t,r,l,a),e.max=i4(e.max,t,r,l,a)}function o4(e,t,[r,n,a],s,i){Jq(e,t[r],t[n],t[a],t.scale,s,i)}const Zq=["x","scaleX","originX"],eG=["y","scaleY","originY"];function l4(e,t,r,n){o4(e.x,t,Zq,r?r.x:void 0,n?n.x:void 0),o4(e.y,t,eG,r?r.y:void 0,n?n.y:void 0)}function c4(e){return e.translate===0&&e.scale===1}function uP(e){return c4(e.x)&&c4(e.y)}function u4(e,t){return e.min===t.min&&e.max===t.max}function tG(e,t){return u4(e.x,t.x)&&u4(e.y,t.y)}function d4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dP(e,t){return d4(e.x,t.x)&&d4(e.y,t.y)}function f4(e){return ws(e.x)/ws(e.y)}function h4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rG{constructor(){this.members=[]}add(t){_E(this.members,t),t.scheduleRender()}remove(t){if(bE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nG(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:m,rotateX:p,rotateY:v,skewX:y,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),m&&(n+=`rotate(${m}deg) `),p&&(n+=`rotateX(${p}deg) `),v&&(n+=`rotateY(${v}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const nb=["","X","Y","Z"],aG=1e3;let sG=0;function ab(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function fP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Q3(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",wn,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&fP(n)}function hP({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=sG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lG),this.nodes.forEach(fG),this.nodes.forEach(hG),this.nodes.forEach(cG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gq)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new TE),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const u=this.eventHandlers.get(i);u&&u.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=A3(i)&&!GH(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let m,p=0;const v=()=>this.root.updateBlockedByResize=!1;wn.read(()=>{p=window.innerWidth}),e(i,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,m&&m(),m=Wq(v,250),tx.hasAnimatedSinceResize&&(tx.hasAnimatedSinceResize=!1,this.nodes.forEach(g4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||yG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),T=!this.targetLayout||!dP(this.targetLayout,y),M=!p&&v;if(this.options.layoutRoot||this.resumeFrom||M||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...IE(w,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,M)}else p||g4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ql(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mG),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dG),this.nodes.forEach(iG),this.nodes.forEach(oG)):this.nodes.forEach(p4),this.clearAllSnapshots();const l=Fs.now();Ua.delta=Xl(0,1e3/60,l-Ua.timestamp),Ua.timestamp=l,Ua.isProcessing=!0,G_.update.process(Ua),G_.preRender.process(Ua),G_.render.process(Ua),Ua.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,BE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uG),this.sharedNodes.forEach(pG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ws(this.snapshot.measuredBox.x)&&!ws(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uP(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;i&&this.instance&&(l||hd(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return i&&(u=this.removeTransform(u)),xG(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:i}=this.options;if(!i)return Zn();const l=i.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(wG))){const{scroll:m}=this.root;m&&(jh(l.x,m.offset.x),jh(l.y,m.offset.y))}return l}removeElementScroll(i){var u;const l=Zn();if(wi(l,i),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:p,options:v}=m;m!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&wi(l,i),jh(l.x,p.offset.x),jh(l.y,p.offset.y))}return l}applyTransform(i,l=!1){const u=Zn();wi(u,i);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Rh(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),hd(m.latestValues)&&Rh(u,m.latestValues)}return hd(this.latestValues)&&Rh(u,this.latestValues),u}removeTransform(i){const l=Zn();wi(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!hd(d.latestValues))continue;RS(d.latestValues)&&d.updateSnapshot();const m=Zn(),p=d.measurePageBox();wi(m,p),l4(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return hd(this.latestValues)&&l4(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ua.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=Ua.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zn(),this.relativeTargetOrigin=Zn(),cp(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zn(),this.targetWithTransforms=Zn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),q3(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zn(),this.relativeTargetOrigin=Zn(),cp(this.relativeTargetOrigin,this.target,y.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||RS(this.parent.latestValues)||$3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ua.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;wi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;L$(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Zn());const{target:y}=i;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s4(this.prevProjectionDelta.x,this.projectionDelta.x),s4(this.prevProjectionDelta.y,this.projectionDelta.y)),lp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!h4(this.projectionDelta.x,this.prevProjectionDelta.x)||!h4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oh(),this.projectionDelta=Oh(),this.projectionDeltaWithTransform=Oh()}setAnimationOrigin(i,l=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},p=Oh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Zn(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,x=y!==w,b=this.getStack(),T=!b||b.members.length<=1,M=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(vG));this.animationProgress=0;let k;this.mixTargetDelta=j=>{const R=j/1e3;v4(p.x,i.x,R),v4(p.y,i.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cp(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gG(this.relativeTarget,this.relativeTargetOrigin,v,R),k&&tG(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Zn()),wi(k,this.relativeTarget)),x&&(this.animationValues=m,Xq(m,d,this.latestValues,R,M,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ql(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{tx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qd(0)),this.currentAnimation=$q(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),i.onUpdate&&i.onUpdate(m)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:m}=i;if(!(!l||!u||!d)){if(this!==i&&this.layout&&d&&mP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Zn();const p=ws(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const v=ws(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+v}wi(l,u),Rh(l,m),lp(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new rG),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&ab("z",i,d,this.animationValues);for(let m=0;m<nb.length;m++)ab(`rotate${nb[m]}`,i,d,this.animationValues),ab(`skew${nb[m]}`,i,d,this.animationValues);i.render();for(const m in d)i.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=ex(l==null?void 0:l.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=ex(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hd(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=nG(this.projectionDeltaWithTransform,this.treeScale,m);u&&(p=u(m,p)),i.transform=p;const{x:v,y}=this.projectionDelta;i.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,d.animationValues?i.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:i.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in jp){if(m[w]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:T}=jp[w],M=p==="none"?m[w]:x(m[w],d);if(b){const k=b.length;for(let j=0;j<k;j++)i[b[j]]=M}else T?this.options.visualElement.renderState.vars[w]=M:i[w]=M}this.options.layoutId&&(i.pointerEvents=d===this?ex(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(m4),this.root.sharedNodes.clear()}}}function iG(e){e.updateLayout()}function oG(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Ti(p=>{const v=i?t.measuredBox[p]:t.layoutBox[p],y=ws(v);v.min=n[p].min,v.max=v.min+y}):mP(s,t.layoutBox,n)&&Ti(p=>{const v=i?t.measuredBox[p]:t.layoutBox[p],y=ws(n[p]);v.max=v.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const l=Oh();lp(l,n,t.layoutBox);const u=Oh();i?lp(u,e.applyTransform(a,!0),t.measuredBox):lp(u,n,t.layoutBox);const d=!uP(l);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:y}=p;if(v&&y){const w=Zn();cp(w,t.layoutBox,v.layoutBox);const x=Zn();cp(x,n,y.layoutBox),dP(w,x)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lG(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uG(e){e.clearSnapshot()}function m4(e){e.clearMeasurements()}function p4(e){e.isLayoutDirty=!1}function dG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function g4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fG(e){e.resolveTargetDelta()}function hG(e){e.calcProjection()}function mG(e){e.resetSkewAndRotation()}function pG(e){e.removeLeadSnapshot()}function v4(e,t,r){e.translate=Ln(t.translate,0,r),e.scale=Ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function y4(e,t,r,n){e.min=Ln(t.min,r.min,n),e.max=Ln(t.max,r.max,n)}function gG(e,t,r,n){y4(e.x,t.x,r.x,n),y4(e.y,t.y,r.y,n)}function vG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yG={duration:.45,ease:[.4,0,.1,1]},x4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w4=x4("applewebkit/")&&!x4("chrome/")?Math.round:Pi;function _4(e){e.min=w4(e.min),e.max=w4(e.max)}function xG(e){_4(e.x),_4(e.y)}function mP(e,t,r){return e==="position"||e==="preserve-aspect"&&!Tq(f4(t),f4(r),.2)}function wG(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _G=hP({attachResizeListener:(e,t)=>Rp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sb={current:void 0},pP=hP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sb.current){const e=new _G({});e.mount(window),e.setOptions({layoutScroll:!0}),sb.current=e}return sb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bG={pan:{Feature:Uq},drag:{Feature:Bq,ProjectionNode:pP,MeasureLayout:oP}};function b4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&wn.postRender(()=>s(t,wg(t)))}class SG extends Cu{mount(){const{current:t}=this.node;t&&(this.unmount=zH(t,(r,n)=>(b4(this.node,n,"Start"),a=>b4(this.node,a,"End"))))}unmount(){}}class EG extends Cu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gg(Rp(this.node.current,"focus",()=>this.onFocus()),Rp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S4(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&wn.postRender(()=>s(t,wg(t)))}class TG extends Cu{mount(){const{current:t}=this.node;t&&(this.unmount=qH(t,(r,n)=>(S4(this.node,n,"Start"),(a,{success:s})=>S4(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BS=new WeakMap,ib=new WeakMap,kG=e=>{const t=BS.get(e.target);t&&t(e)},CG=e=>{e.forEach(kG)};function AG({root:e,...t}){const r=e||document;ib.has(r)||ib.set(r,{});const n=ib.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(CG,{root:e,...t})),n[a]}function MG(e,t,r){const n=AG(t);return BS.set(e,r),n.observe(e),()=>{BS.delete(e),n.unobserve(e)}}const NG={some:0,all:1};class jG extends Cu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:NG[a]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),v=d?m:p;v&&v(u)};return MG(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(RG(t,r))&&this.startObserver()}unmount(){}}function RG({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const OG={inView:{Feature:jG},tap:{Feature:TG},focus:{Feature:EG},hover:{Feature:SG}},DG={layout:{ProjectionNode:pP,MeasureLayout:oP}},PG={...xq,...OG,...bG,...DG},Ps=P$(PG,K$);function vx(e){const t=pg(()=>Qd(e)),{isStatic:r}=E.useContext(xg);if(r){const[,n]=E.useState(e);E.useEffect(()=>t.on("change",n),[])}return t}function gP(e,t){const r=vx(t()),n=()=>r.set(t());return n(),wE(()=>{const a=()=>wn.preRender(n,!1,!0),s=e.map(i=>i.on("change",a));return()=>{s.forEach(i=>i()),Ql(n)}}),r}function FG(e){ip.current=[],e();const t=gP(ip.current,e);return ip.current=void 0,t}function IG(e,t,r,n){if(typeof e=="function")return FG(e);const a=WH(t,r,n);return Array.isArray(e)?E4(e,a):E4([e],([s])=>a(s))}function E4(e,t){const r=pg(()=>[]);return gP(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function T4(e,t={}){const{isStatic:r}=E.useContext(xg),n=()=>ja(e)?e.get():e;if(r)return IG(n);const a=vx(n());return E.useInsertionEffect(()=>KH(a,e,t),[a,JSON.stringify(t)]),a}function k4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ac(...e){return t=>{let r=!1;const n=e.map(a=>{const s=k4(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():k4(e[a],null)}}}}function xr(...e){return E.useCallback(ac(...e),e)}var LG=Symbol.for("react.lazy"),yx=uE[" use ".trim().toString()];function BG(e){return typeof e=="object"&&e!==null&&"then"in e}function vP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===LG&&"_payload"in e&&BG(e._payload)}function YE(e){const t=UG(e),r=E.forwardRef((n,a)=>{let{children:s,...i}=n;vP(s)&&typeof yx=="function"&&(s=yx(s._payload));const l=E.Children.toArray(s),u=l.find(VG);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var yP=YE("Slot");function UG(e){const t=E.forwardRef((r,n)=>{let{children:a,...s}=r;if(vP(a)&&typeof yx=="function"&&(a=yx(a._payload)),E.isValidElement(a)){const i=$G(a),l=HG(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zG=Symbol("radix.slottable");function VG(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zG}function HG(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function $G(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=xP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function wP(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=xP(e))&&(n&&(n+=" "),n+=t);return n}const C4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,A4=wP,u1=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return A4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(d=>{const m=r==null?void 0:r[d],p=s==null?void 0:s[d];if(m===null)return null;const v=C4(m)||C4(p);return a[d][v]}),l=r&&Object.entries(r).reduce((d,m)=>{let[p,v]=m;return v===void 0||(d[p]=v),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,m)=>{let{class:p,className:v,...y}=m;return Object.entries(y).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...s,...l}[x]):{...s,...l}[x]===b})?[...d,p,v]:d},[]);return A4(e,i,u,r==null?void 0:r.class,r==null?void 0:r.className)},qG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},GG=(e,t)=>({classGroupId:e,validator:t}),_P=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),xx="-",M4=[],WG="arbitrary..",KG=e=>{const t=YG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return XG(i);const l=i.split(xx),u=l[0]===""&&l.length>1?1:0;return bP(l,u,t)},getConflictingClassGroupIds:(i,l)=>{if(l){const u=n[i],d=r[i];return u?d?qG(d,u):u:d||M4}return r[i]||M4}}},bP=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],s=r.nextPart.get(a);if(s){const d=bP(e,t+1,s);if(d)return d}const i=r.validators;if(i===null)return;const l=t===0?e.join(xx):e.slice(t).join(xx),u=i.length;for(let d=0;d<u;d++){const m=i[d];if(m.validator(l))return m.classGroupId}},XG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?WG+n:void 0})(),YG=e=>{const{theme:t,classGroups:r}=e;return QG(r,t)},QG=(e,t)=>{const r=_P();for(const n in e){const a=e[n];QE(a,r,n,t)}return r},QE=(e,t,r,n)=>{const a=e.length;for(let s=0;s<a;s++){const i=e[s];JG(i,t,r,n)}},JG=(e,t,r,n)=>{if(typeof e=="string"){ZG(e,t,r);return}if(typeof e=="function"){eW(e,t,r,n);return}tW(e,t,r,n)},ZG=(e,t,r)=>{const n=e===""?t:SP(t,e);n.classGroupId=r},eW=(e,t,r,n)=>{if(rW(e)){QE(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(GG(r,e))},tW=(e,t,r,n)=>{const a=Object.entries(e),s=a.length;for(let i=0;i<s;i++){const[l,u]=a[i];QE(u,SP(t,l),r,n)}},SP=(e,t)=>{let r=e;const n=t.split(xx),a=n.length;for(let s=0;s<a;s++){const i=n[s];let l=r.nextPart.get(i);l||(l=_P(),r.nextPart.set(i,l)),r=l}return r},rW=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,nW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(s,i)=>{r[s]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let i=r[s];if(i!==void 0)return i;if((i=n[s])!==void 0)return a(s,i),i},set(s,i){s in r?r[s]=i:a(s,i)}}},US="!",N4=":",aW=[],j4=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),sW=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let i=0,l=0,u=0,d;const m=a.length;for(let x=0;x<m;x++){const b=a[x];if(i===0&&l===0){if(b===N4){s.push(a.slice(u,x)),u=x+1;continue}if(b==="/"){d=x;continue}}b==="["?i++:b==="]"?i--:b==="("?l++:b===")"&&l--}const p=s.length===0?a:a.slice(u);let v=p,y=!1;p.endsWith(US)?(v=p.slice(0,-1),y=!0):p.startsWith(US)&&(v=p.slice(1),y=!0);const w=d&&d>u?d-u:void 0;return j4(s,y,v,w)};if(t){const a=t+N4,s=n;n=i=>i.startsWith(a)?s(i.slice(a.length)):j4(aW,!1,i,void 0,!0)}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},iW=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let s=0;s<r.length;s++){const i=r[s],l=i[0]==="[",u=t.has(i);l||u?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(i)):a.push(i)}return a.length>0&&(a.sort(),n.push(...a)),n}},oW=e=>({cache:nW(e.cacheSize),parseClassName:sW(e),sortModifiers:iW(e),...KG(e)}),lW=/\s+/,cW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,i=[],l=e.trim().split(lW);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{isExternal:p,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}=r(m);if(p){u=m+(u.length>0?" "+u:u);continue}let b=!!x,T=n(b?w.substring(0,x):w);if(!T){if(!b){u=m+(u.length>0?" "+u:u);continue}if(T=n(w),!T){u=m+(u.length>0?" "+u:u);continue}b=!1}const M=v.length===0?"":v.length===1?v[0]:s(v).join(":"),k=y?M+US:M,j=k+T;if(i.indexOf(j)>-1)continue;i.push(j);const R=a(T,b);for(let D=0;D<R.length;++D){const O=R[D];i.push(k+O)}u=m+(u.length>0?" "+u:u)}return u},uW=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=EP(r))&&(a&&(a+=" "),a+=n);return a},EP=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=EP(e[n]))&&(r&&(r+=" "),r+=t);return r},dW=(e,...t)=>{let r,n,a,s;const i=u=>{const d=t.reduce((m,p)=>p(m),e());return r=oW(d),n=r.cache.get,a=r.cache.set,s=l,l(u)},l=u=>{const d=n(u);if(d)return d;const m=cW(u,r);return a(u,m),m};return s=i,(...u)=>s(uW(...u))},fW=[],ga=e=>{const t=r=>r[e]||fW;return t.isThemeGetter=!0,t},TP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hW=/^\d+\/\d+$/,mW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dh=e=>hW.test(e),vr=e=>!!e&&!Number.isNaN(Number(e)),qc=e=>!!e&&Number.isInteger(Number(e)),ob=e=>e.endsWith("%")&&vr(e.slice(0,-1)),Rl=e=>mW.test(e),xW=()=>!0,wW=e=>pW.test(e)&&!gW.test(e),CP=()=>!1,_W=e=>vW.test(e),bW=e=>yW.test(e),SW=e=>!Mt(e)&&!Nt(e),EW=e=>_0(e,NP,CP),Mt=e=>TP.test(e),ld=e=>_0(e,jP,wW),lb=e=>_0(e,MW,vr),R4=e=>_0(e,AP,CP),TW=e=>_0(e,MP,bW),dy=e=>_0(e,RP,_W),Nt=e=>kP.test(e),qm=e=>b0(e,jP),kW=e=>b0(e,NW),O4=e=>b0(e,AP),CW=e=>b0(e,NP),AW=e=>b0(e,MP),fy=e=>b0(e,RP,!0),_0=(e,t,r)=>{const n=TP.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},b0=(e,t,r=!1)=>{const n=kP.exec(e);return n?n[1]?t(n[1]):r:!1},AP=e=>e==="position"||e==="percentage",MP=e=>e==="image"||e==="url",NP=e=>e==="length"||e==="size"||e==="bg-size",jP=e=>e==="length",MW=e=>e==="number",NW=e=>e==="family-name",RP=e=>e==="shadow",jW=()=>{const e=ga("color"),t=ga("font"),r=ga("text"),n=ga("font-weight"),a=ga("tracking"),s=ga("leading"),i=ga("breakpoint"),l=ga("container"),u=ga("spacing"),d=ga("radius"),m=ga("shadow"),p=ga("inset-shadow"),v=ga("text-shadow"),y=ga("drop-shadow"),w=ga("blur"),x=ga("perspective"),b=ga("aspect"),T=ga("ease"),M=ga("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...j(),Nt,Mt],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],B=()=>[Nt,Mt,u],V=()=>[dh,"full","auto",...B()],ne=()=>[qc,"none","subgrid",Nt,Mt],ie=()=>["auto",{span:["full",qc,Nt,Mt]},qc,Nt,Mt],Q=()=>[qc,"auto",Nt,Mt],ve=()=>["auto","min","max","fr",Nt,Mt],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...B()],re=()=>[dh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],le=()=>[e,Nt,Mt],J=()=>[...j(),O4,R4,{position:[Nt,Mt]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",CW,EW,{size:[Nt,Mt]}],L=()=>[ob,qm,ld],Y=()=>["","none","full",d,Nt,Mt],Z=()=>["",vr,qm,ld],W=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[vr,ob,O4,R4],Re=()=>["","none",w,Nt,Mt],ye=()=>["none",vr,Nt,Mt],Ue=()=>["none",vr,Nt,Mt],st=()=>[vr,Nt,Mt],X=()=>[dh,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rl],breakpoint:[Rl],color:[xW],container:[Rl],"drop-shadow":[Rl],ease:["in","out","in-out"],font:[SW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rl],shadow:[Rl],spacing:["px",vr],text:[Rl],"text-shadow":[Rl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dh,Mt,Nt,b]}],container:["container"],columns:[{columns:[vr,Mt,Nt,l]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[qc,"auto",Nt,Mt]}],basis:[{basis:[dh,"full","auto",l,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vr,dh,"auto","initial","none",Mt]}],grow:[{grow:["",vr,Nt,Mt]}],shrink:[{shrink:["",vr,Nt,Mt]}],order:[{order:[qc,"first","last","none",Nt,Mt]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[l,"screen",...re()]}],"min-w":[{"min-w":[l,"screen","none",...re()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",r,qm,ld]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Nt,lb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ob,Mt]}],"font-family":[{font:[kW,Mt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Nt,Mt]}],"line-clamp":[{"line-clamp":[vr,"none",Nt,lb]}],leading:[{leading:[s,...B()]}],"list-image":[{"list-image":["none",Nt,Mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,Mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:le()}],"text-color":[{text:le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[vr,"from-font","auto",Nt,ld]}],"text-decoration-color":[{decoration:le()}],"underline-offset":[{"underline-offset":[vr,"auto",Nt,Mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qc,Nt,Mt],radial:["",Nt,Mt],conic:[qc,Nt,Mt]},AW,TW]}],"bg-color":[{bg:le()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:le()}],"gradient-via":[{via:le()}],"gradient-to":[{to:le()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:le()}],"border-color-x":[{"border-x":le()}],"border-color-y":[{"border-y":le()}],"border-color-s":[{"border-s":le()}],"border-color-e":[{"border-e":le()}],"border-color-t":[{"border-t":le()}],"border-color-r":[{"border-r":le()}],"border-color-b":[{"border-b":le()}],"border-color-l":[{"border-l":le()}],"divide-color":[{divide:le()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vr,Nt,Mt]}],"outline-w":[{outline:["",vr,qm,ld]}],"outline-color":[{outline:le()}],shadow:[{shadow:["","none",m,fy,dy]}],"shadow-color":[{shadow:le()}],"inset-shadow":[{"inset-shadow":["none",p,fy,dy]}],"inset-shadow-color":[{"inset-shadow":le()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:le()}],"ring-offset-w":[{"ring-offset":[vr,ld]}],"ring-offset-color":[{"ring-offset":le()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":le()}],"text-shadow":[{"text-shadow":["none",v,fy,dy]}],"text-shadow-color":[{"text-shadow":le()}],opacity:[{opacity:[vr,Nt,Mt]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vr]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":le()}],"mask-image-linear-to-color":[{"mask-linear-to":le()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":le()}],"mask-image-t-to-color":[{"mask-t-to":le()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":le()}],"mask-image-r-to-color":[{"mask-r-to":le()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":le()}],"mask-image-b-to-color":[{"mask-b-to":le()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":le()}],"mask-image-l-to-color":[{"mask-l-to":le()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":le()}],"mask-image-x-to-color":[{"mask-x-to":le()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":le()}],"mask-image-y-to-color":[{"mask-y-to":le()}],"mask-image-radial":[{"mask-radial":[Nt,Mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":le()}],"mask-image-radial-to-color":[{"mask-radial-to":le()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[vr]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":le()}],"mask-image-conic-to-color":[{"mask-conic-to":le()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Nt,Mt]}],filter:[{filter:["","none",Nt,Mt]}],blur:[{blur:Re()}],brightness:[{brightness:[vr,Nt,Mt]}],contrast:[{contrast:[vr,Nt,Mt]}],"drop-shadow":[{"drop-shadow":["","none",y,fy,dy]}],"drop-shadow-color":[{"drop-shadow":le()}],grayscale:[{grayscale:["",vr,Nt,Mt]}],"hue-rotate":[{"hue-rotate":[vr,Nt,Mt]}],invert:[{invert:["",vr,Nt,Mt]}],saturate:[{saturate:[vr,Nt,Mt]}],sepia:[{sepia:["",vr,Nt,Mt]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,Mt]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[vr,Nt,Mt]}],"backdrop-contrast":[{"backdrop-contrast":[vr,Nt,Mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vr,Nt,Mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vr,Nt,Mt]}],"backdrop-invert":[{"backdrop-invert":["",vr,Nt,Mt]}],"backdrop-opacity":[{"backdrop-opacity":[vr,Nt,Mt]}],"backdrop-saturate":[{"backdrop-saturate":[vr,Nt,Mt]}],"backdrop-sepia":[{"backdrop-sepia":["",vr,Nt,Mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,Mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vr,"initial",Nt,Mt]}],ease:[{ease:["linear","initial",T,Nt,Mt]}],delay:[{delay:[vr,Nt,Mt]}],animate:[{animate:["none",M,Nt,Mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Nt,Mt]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:st()}],"skew-x":[{"skew-x":st()}],"skew-y":[{"skew-y":st()}],transform:[{transform:[Nt,Mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,Mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,Mt]}],fill:[{fill:["none",...le()]}],"stroke-w":[{stroke:[vr,qm,ld,lb]}],stroke:[{stroke:["none",...le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RW=dW(jW);function jt(...e){return RW(wP(e))}const JE=u1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function xt({className:e,variant:t,size:r,asChild:n=!1,...a}){const s=n?yP:"button";return f.jsx(s,{"data-slot":"button",className:jt(JE({variant:t,size:r,className:e})),...a})}function Cr({className:e,type:t,...r}){return f.jsx("input",{type:t,"data-slot":"input",className:jt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var OW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DW=OW.reduce((e,t)=>{const r=YE(`Primitive.${t}`),n=E.forwardRef((a,s)=>{const{asChild:i,...l}=a,u=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),PW="Label",OP=E.forwardRef((e,t)=>f.jsx(DW.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OP.displayName=PW;var FW=OP;function Xt({className:e,...t}){return f.jsx(FW,{"data-slot":"label",className:jt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const IW=u1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function du({className:e,variant:t,...r}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:jt(IW({variant:t}),e),...r})}function LW({className:e,...t}){return f.jsx("div",{"data-slot":"alert-title",className:jt("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function fu({className:e,...t}){return f.jsx("div",{"data-slot":"alert-description",className:jt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function vn({className:e,...t}){return f.jsx("div",{"data-slot":"card",className:jt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function It({className:e,...t}){return f.jsx("div",{"data-slot":"card-header",className:jt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Lt({className:e,...t}){return f.jsx("div",{"data-slot":"card-title",className:jt("leading-none font-semibold",e),...t})}function ln({className:e,...t}){return f.jsx("div",{"data-slot":"card-description",className:jt("text-muted-foreground text-sm",e),...t})}function Rt({className:e,...t}){return f.jsx("div",{"data-slot":"card-content",className:jt("px-6",e),...t})}function DP({className:e,...t}){return f.jsx("div",{"data-slot":"card-footer",className:jt("flex items-center px-6 [.border-t]:pt-6",e),...t})}function BW({ref:e,className:t,children:r,interactive:n=!1,transition:a={stiffness:100,damping:20},colors:s={first:"18,113,255",second:"221,74,255",third:"0,220,255",fourth:"200,50,50",fifth:"180,180,50",sixth:"140,100,255"},...i}){const l=E.useRef(null);E.useImperativeHandle(e,()=>l.current);const u=vx(0),d=vx(0),m=T4(u,a),p=T4(d,a),v=E.useRef(null),y=E.useRef(null);return E.useLayoutEffect(()=>{const w=()=>{l.current&&(v.current=l.current.getBoundingClientRect())};w();const x=l.current,b=new ResizeObserver(w);return x&&b.observe(x),window.addEventListener("resize",w),window.addEventListener("scroll",w,{passive:!0}),()=>{b.disconnect(),window.removeEventListener("resize",w),window.removeEventListener("scroll",w)}},[]),E.useEffect(()=>{if(!n)return;const w=l.current;if(!w)return;const x=b=>{const T=v.current;if(!T)return;const M=T.left+T.width/2,k=T.top+T.height/2;y.current!=null&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(()=>{u.set(b.clientX-M),d.set(b.clientY-k)})};return w.addEventListener("mousemove",x,{passive:!0}),()=>{w.removeEventListener("mousemove",x),y.current!=null&&cancelAnimationFrame(y.current)}},[n,u,d]),f.jsxs("div",{ref:l,"data-slot":"bubble-background",className:jt("relative size-full overflow-hidden bg-gradient-to-br from-violet-900 to-blue-900",t),...i,children:[f.jsx("style",{children:`
            :root {
              --first-color: ${s.first};
              --second-color: ${s.second};
              --third-color: ${s.third};
              --fourth-color: ${s.fourth};
              --fifth-color: ${s.fifth};
              --sixth-color: ${s.sixth};
            }
          `}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute top-0 left-0 w-0 h-0",children:f.jsx("defs",{children:f.jsxs("filter",{id:"goo",children:[f.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"16",result:"blur"}),f.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"}),f.jsx("feBlend",{in:"SourceGraphic",in2:"goo"})]})})}),f.jsxs("div",{className:"absolute inset-0",style:{filter:"url(#goo) blur(40px)"},children:[f.jsx(Ps.div,{className:"absolute rounded-full size-[80%] top-[10%] left-[10%] mix-blend-hard-light bg-[radial-gradient(circle_at_center,rgba(var(--first-color),0.8)_0%,rgba(var(--first-color),0)_50%)]",animate:{y:[-50,50,-50]},transition:{duration:30,ease:"easeInOut",repeat:1/0},style:{transform:"translateZ(0)",willChange:"transform"}}),f.jsx(Ps.div,{className:"absolute inset-0 flex justify-center items-center origin-[calc(50%-400px)]",animate:{rotate:360},transition:{duration:20,ease:"linear",repeat:1/0,repeatType:"loop"},style:{transform:"translateZ(0)",willChange:"transform"},children:f.jsx("div",{className:"rounded-full size-[80%] top-[10%] left-[10%] mix-blend-hard-light bg-[radial-gradient(circle_at_center,rgba(var(--second-color),0.8)_0%,rgba(var(--second-color),0)_50%)]"})}),f.jsx(Ps.div,{className:"absolute inset-0 flex justify-center items-center origin-[calc(50%+400px)]",animate:{rotate:360},transition:{duration:40,ease:"linear",repeat:1/0},style:{transform:"translateZ(0)",willChange:"transform"},children:f.jsx("div",{className:"absolute rounded-full size-[80%] bg-[radial-gradient(circle_at_center,rgba(var(--third-color),0.8)_0%,rgba(var(--third-color),0)_50%)] mix-blend-hard-light top-[calc(50%+200px)] left-[calc(50%-500px)]"})}),f.jsx(Ps.div,{className:"absolute rounded-full size-[80%] top-[10%] left-[10%] mix-blend-hard-light bg-[radial-gradient(circle_at_center,rgba(var(--fourth-color),0.8)_0%,rgba(var(--fourth-color),0)_50%)] opacity-70",animate:{x:[-50,50,-50]},transition:{duration:40,ease:"easeInOut",repeat:1/0},style:{transform:"translateZ(0)",willChange:"transform"}}),f.jsx(Ps.div,{className:"absolute inset-0 flex justify-center items-center origin-[calc(50%_-_800px)_calc(50%_+_200px)]",animate:{rotate:360},transition:{duration:20,ease:"linear",repeat:1/0},style:{transform:"translateZ(0)",willChange:"transform"},children:f.jsx("div",{className:"absolute rounded-full size-[160%] mix-blend-hard-light bg-[radial-gradient(circle_at_center,rgba(var(--fifth-color),0.8)_0%,rgba(var(--fifth-color),0)_50%)] top-[calc(50%-80%)] left-[calc(50%-80%)]"})}),n&&f.jsx(Ps.div,{className:"absolute rounded-full size-full mix-blend-hard-light bg-[radial-gradient(circle_at_center,rgba(var(--sixth-color),0.8)_0%,rgba(var(--sixth-color),0)_50%)] opacity-70",style:{x:m,y:p,transform:"translateZ(0)",willChange:"transform"}})]}),r]})}var zS=function(e,t){return zS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},zS(e,t)};function Vs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Et=function(){return Et=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Et.apply(this,arguments)};function Bs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PP(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function FP(e,t){return function(r,n){t(r,n,e)}}function IP(e,t,r,n,a,s){function i(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,m=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,v=!1,y=r.length-1;y>=0;y--){var w={};for(var x in n)w[x]=x==="access"?{}:n[x];for(var x in n.access)w.access[x]=n.access[x];w.addInitializer=function(T){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(T||null))};var b=(0,r[y])(l==="accessor"?{get:m.get,set:m.set}:m[u],w);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(p=i(b.get))&&(m.get=p),(p=i(b.set))&&(m.set=p),(p=i(b.init))&&a.unshift(p)}else(p=i(b))&&(l==="field"?a.unshift(p):m[u]=p)}d&&Object.defineProperty(d,n.name,m),v=!0}function LP(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function BP(e){return typeof e=="symbol"?e:"".concat(e)}function UP(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function zP(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Tt(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(m){try{d(n.next(m))}catch(p){i(p)}}function u(m){try{d(n.throw(m))}catch(p){i(p)}}function d(m){m.done?s(m.value):a(m.value).then(l,u)}d((n=n.apply(e,t||[])).next())})}function VP(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(d){return function(m){return u([d,m])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,a&&(s=d[0]&2?a.return:d[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,d[1])).done)return s;switch(a=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(m){d=[6,m],a=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var d1=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function HP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&d1(t,e,r)}function wx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZE(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function $P(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ZE(arguments[t]));return e}function qP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function Js(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function a0(e){return this instanceof a0?(this.v=e,this):new a0(e)}function GP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(y){return function(w){return Promise.resolve(w).then(y,p)}}function l(y,w){n[y]&&(a[y]=function(x){return new Promise(function(b,T){s.push([y,x,b,T])>1||u(y,x)})},w&&(a[y]=w(a[y])))}function u(y,w){try{d(n[y](w))}catch(x){v(s[0][3],x)}}function d(y){y.value instanceof a0?Promise.resolve(y.value.v).then(m,p):v(s[0][2],y)}function m(y){u("next",y)}function p(y){u("throw",y)}function v(y,w){y(w),s.shift(),s.length&&u(s[0][0],s[0][1])}}function WP(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:a0(e[a](i)),done:!1}:s?s(i):i}:s}}function KP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wx=="function"?wx(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,u){i=e[s](i),a(l,u,i.done,i.value)})}}function a(s,i,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},i)}}function XP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var UW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},VS=function(e){return VS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},VS(e)};function YP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=VS(e),n=0;n<r.length;n++)r[n]!=="default"&&d1(t,e,r[n]);return UW(t,e),t}function QP(e){return e&&e.__esModule?e:{default:e}}function JP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ZP(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function eF(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function tF(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var zW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function rF(e){function t(s){e.error=e.hasError?new zW(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function nF(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const VW={__extends:Vs,__assign:Et,__rest:Bs,__decorate:PP,__param:FP,__esDecorate:IP,__runInitializers:LP,__propKey:BP,__setFunctionName:UP,__metadata:zP,__awaiter:Tt,__generator:VP,__createBinding:d1,__exportStar:HP,__values:wx,__read:ZE,__spread:$P,__spreadArrays:qP,__spreadArray:Js,__await:a0,__asyncGenerator:GP,__asyncDelegator:WP,__asyncValues:KP,__makeTemplateObject:XP,__importStar:YP,__importDefault:QP,__classPrivateFieldGet:JP,__classPrivateFieldSet:ZP,__classPrivateFieldIn:eF,__addDisposableResource:tF,__disposeResources:rF,__rewriteRelativeImportExtension:nF},HW=Object.defineProperty({__proto__:null,__addDisposableResource:tF,get __assign(){return Et},__asyncDelegator:WP,__asyncGenerator:GP,__asyncValues:KP,__await:a0,__awaiter:Tt,__classPrivateFieldGet:JP,__classPrivateFieldIn:eF,__classPrivateFieldSet:ZP,__createBinding:d1,__decorate:PP,__disposeResources:rF,__esDecorate:IP,__exportStar:HP,__extends:Vs,__generator:VP,__importDefault:QP,__importStar:YP,__makeTemplateObject:XP,__metadata:zP,__param:FP,__propKey:BP,__read:ZE,__rest:Bs,__rewriteRelativeImportExtension:nF,__runInitializers:LP,__setFunctionName:UP,__spread:$P,__spreadArray:Js,__spreadArrays:qP,__values:wx,default:VW},Symbol.toStringTag,{value:"Module"}),$W=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class eT extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qW extends eT{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D4 extends eT{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class P4 extends eT{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var HS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(HS||(HS={}));class GW{constructor(t,{headers:r={},customFetch:n,region:a=HS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=$W(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tt(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:l,method:u,body:d,signal:m,timeout:p}=n;let v={},{region:y}=n;y||(y=this.region);const w=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(v["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(v["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;let b=m;p&&(i=new AbortController,s=setTimeout(()=>i.abort(),p),m?(b=i.signal,m.addEventListener("abort",()=>i.abort())):b=i.signal);const T=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:x,signal:b}).catch(R=>{throw new qW(R)}),M=T.headers.get("x-relay-error");if(M&&M==="true")throw new D4(T);if(!T.ok)throw new P4(T);let k=((a=T.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return k==="application/json"?j=yield T.json():k==="application/octet-stream"||k==="application/pdf"?j=yield T.blob():k==="text/event-stream"?j=T:k==="multipart/form-data"?j=yield T.formData():j=yield T.text(),{data:j,error:null,response:T}}catch(l){return{data:null,error:l,response:l instanceof P4||l instanceof D4?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var Ja={};const S0=y9(HW);var hy={},my={},py={},gy={},vy={},yy={},F4;function aF(){if(F4)return yy;F4=1,Object.defineProperty(yy,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yy.default=e,yy}var I4;function sF(){if(I4)return vy;I4=1,Object.defineProperty(vy,"__esModule",{value:!0});const t=S0.__importDefault(aF());class r{constructor(a){var s,i;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,m,p,v;let y=null,w=null,x=null,b=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=R:w=JSON.parse(R))}const k=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),j=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,x=null,b=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const k=await u.text();try{y=JSON.parse(k),Array.isArray(y)&&u.status===404&&(w=[],y=null,b=200,T="OK")}catch{u.status===404&&k===""?(b=204,T="No Content"):y={message:k}}if(y&&this.isMaybeSingle&&(!((v=y==null?void 0:y.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,b=200,T="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:w,count:x,status:b,statusText:T}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,m,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,s)}returns(){return this}overrideTypes(){return this}}return vy.default=r,vy}var L4;function iF(){if(L4)return gy;L4=1,Object.defineProperty(gy,"__esModule",{value:!0});const t=S0.__importDefault(sF());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this.url.searchParams.set(d,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var m;const p=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return gy.default=r,gy}var B4;function tT(){if(B4)return py;B4=1,Object.defineProperty(py,"__esModule",{value:!0});const t=S0.__importDefault(iF()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const m=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${m}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return py.default=n,py}var U4;function oF(){if(U4)return my;U4=1,Object.defineProperty(my,"__esModule",{value:!0});const t=S0.__importDefault(tT());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},u=i?"HEAD":"GET";let d=!1;const m=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",m),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:u=!0}={}){var d;const m="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return my.default=r,my}var z4;function WW(){if(z4)return hy;z4=1,Object.defineProperty(hy,"__esModule",{value:!0});const e=S0,t=e.__importDefault(oF()),r=e.__importDefault(tT());class n{constructor(s,{headers:i={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=u}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:u=!1,count:d}={}){var m;let p;const v=new URL(`${this.url}/rpc/${s}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(i).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{v.searchParams.append(x,b)})):(p="POST",y=i);const w=new Headers(this.headers);return d&&w.set("Prefer",`count=${d}`),new r.default({method:p,url:v,headers:w,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return hy.default=n,hy}var V4;function KW(){if(V4)return Ja;V4=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.PostgrestError=Ja.PostgrestBuilder=Ja.PostgrestTransformBuilder=Ja.PostgrestFilterBuilder=Ja.PostgrestQueryBuilder=Ja.PostgrestClient=void 0;const e=S0,t=e.__importDefault(WW());Ja.PostgrestClient=t.default;const r=e.__importDefault(oF());Ja.PostgrestQueryBuilder=r.default;const n=e.__importDefault(tT());Ja.PostgrestFilterBuilder=n.default;const a=e.__importDefault(iF());Ja.PostgrestTransformBuilder=a.default;const s=e.__importDefault(sF());Ja.PostgrestBuilder=s.default;const i=e.__importDefault(aF());return Ja.PostgrestError=i.default,Ja.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},Ja}var lF=KW();const cF=Tu(lF),XW=xD({__proto__:null,default:cF},[lF]),{PostgrestClient:YW,PostgrestQueryBuilder:a_e,PostgrestFilterBuilder:s_e,PostgrestTransformBuilder:i_e,PostgrestBuilder:o_e,PostgrestError:l_e}=cF||XW;class QW{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JW="2.81.1",ZW=`realtime-js/${JW}`,uF="1.0.0",eK="2.0.0",H4=uF,$S=1e4,tK=1e3,rK=100;var gd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gd||(gd={}));var va;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(va||(va={}));var Ni;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ni||(Ni={}));var qS;(function(e){e.websocket="websocket"})(qS||(qS={}));var vd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vd||(vd={}));class nK{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:a,topic:s,payload:i}=t,l=this.META_LENGTH+r.length+n.length+s.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+l);let d=new DataView(u),m=0;d.setUint8(m++,this.KINDS.push),d.setUint8(m++,r.length),d.setUint8(m++,n.length),d.setUint8(m++,s.length),d.setUint8(m++,a.length),Array.from(r,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(n,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>d.setUint8(m++,v.charCodeAt(0))),Array.from(a,v=>d.setUint8(m++,v.charCodeAt(0)));var p=new Uint8Array(u.byteLength+i.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(i),u.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:a,ref:s,topic:i}=t,l=t.payload.event,u=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+s.length+i.length+l.length,m=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(m),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,a.length),p.setUint8(v++,s.length),p.setUint8(v++,i.length),p.setUint8(v++,l.length),p.setUint8(v++,this.BINARY_ENCODING),Array.from(a,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(i,w=>p.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>p.setUint8(v++,w.charCodeAt(0)));var y=new Uint8Array(m.byteLength+u.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(u),m.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:a,ref:s,topic:i}=t,l=t.payload.event,u=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+s.length+i.length+l.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,a.length),y.setUint8(w++,s.length),y.setUint8(w++,i.length),y.setUint8(w++,l.length),y.setUint8(w++,this.JSON_ENCODING),Array.from(a,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(i,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(w++,b.charCodeAt(0)));var x=new Uint8Array(v.byteLength+m.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(m),v.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,l,u]=n;return r({join_ref:a,ref:s,topic:i,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+s));l=l+s;const m=n.decode(t.slice(l,l+i));l=l+i;const p=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:u,ref:null,topic:d,event:m,payload:p}}_decodeReply(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const d=n.decode(t.slice(u,u+a));u=u+a;const m=n.decode(t.slice(u,u+s));u=u+s;const p=n.decode(t.slice(u,u+i));u=u+i;const v=n.decode(t.slice(u,u+l));u=u+l;const y=JSON.parse(n.decode(t.slice(u,t.byteLength))),w={status:v,response:y};return{join_ref:d,ref:m,topic:p,event:Ni.reply,payload:w}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const u=n.decode(t.slice(i,i+s));i=i+s;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:u,payload:d}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const d=n.decode(t.slice(u,u+a));u=u+a;const m=n.decode(t.slice(u,u+s));u=u+s;const p=n.decode(t.slice(u,u+i));u=u+i;const v=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST,event:m,payload:y};return i>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class dF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xn||(xn={}));const $4=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=aK(i,e,t,a),s),{}):{}},aK=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?fF(s,i):GS(i)},fF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lK(t,r)}switch(e){case xn.bool:return sK(t);case xn.float4:case xn.float8:case xn.int2:case xn.int4:case xn.int8:case xn.numeric:case xn.oid:return iK(t);case xn.json:case xn.jsonb:return oK(t);case xn.timestamp:return cK(t);case xn.abstime:case xn.date:case xn.daterange:case xn.int4range:case xn.int8range:case xn.money:case xn.reltime:case xn.text:case xn.time:case xn.timestamptz:case xn.timetz:case xn.tsrange:case xn.tstzrange:return GS(t);default:return GS(t)}},GS=e=>e,sK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lK=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>fF(t,l))}return e},cK=e=>typeof e=="string"?e.replace(" ","T"):e,hF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cb{constructor(t,r,n={},a=$S){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q4||(q4={}));class up{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=up.syncState(this.state,a,s,i),this.pendingDiffs.forEach(u=>{this.state=up.syncDiff(this.state,u,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=up.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},u={};return this.map(s,(d,m)=>{i[d]||(u[d]=m)}),this.map(i,(d,m)=>{const p=s[d];if(p){const v=m.map(b=>b.presence_ref),y=p.map(b=>b.presence_ref),w=m.filter(b=>y.indexOf(b.presence_ref)<0),x=p.filter(b=>v.indexOf(b.presence_ref)<0);w.length>0&&(l[d]=w),x.length>0&&(u[d]=x)}else l[d]=m}),this.syncDiff(s,{joins:l,leaves:u},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,u)=>{var d;const m=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),m.length>0){const p=t[l].map(y=>y.presence_ref),v=m.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...v)}n(l,m,u)}),this.map(i,(l,u)=>{let d=t[l];if(!d)return;const m=u.map(p=>p.presence_ref);d=d.filter(p=>m.indexOf(p.presence_ref)<0),t[l]=d,a(l,d,u),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(G4||(G4={}));var dp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dp||(dp={}));var Pl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pl||(Pl={}));class rT{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=va.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cb(this,Ni.join,this.params,this.timeout),this.rejoinTimer=new dF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=va.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=va.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ni.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new up(this),this.broadcastEndpointURL=hF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==va.closed){const{config:{broadcast:i,presence:l,private:u}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[dp.PRESENCE]&&this.bindings[dp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:m}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Pl.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Pl.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(Pl.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,T=[];for(let M=0;M<b;M++){const k=x[M],{filter:{event:j,schema:R,table:D,filter:O}}=k,B=y&&y[M];if(B&&B.event===j&&B.schema===R&&B.table===D&&B.filter===O)T.push(Object.assign(Object.assign({},k),{id:B.id}));else{this.unsubscribe(),this.state=va.errored,t==null||t(Pl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(Pl.SUBSCRIBED);return}}).receive("error",y=>{this.state=va.errored,t==null||t(Pl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===va.joined&&t===dp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=va.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ni.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new cb(this,Ni.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=va.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cb(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:m}=Ni;if(n&&[l,u,d,m].indexOf(i)>=0&&n!==this._joinRef())return;let v=this._onMessage(i,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var w,x,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(y=>y.callback(v,n)):(s=this.bindings[i])===null||s===void 0||s.filter(y=>{var w,x,b,T,M,k;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const j=y.id,R=(w=y.filter)===null||w===void 0?void 0:w.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(M=(T=y==null?void 0:y.filter)===null||T===void 0?void 0:T.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return j==="*"||j===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:x,table:b,commit_timestamp:T,type:M,errors:k}=w;v=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:T,eventType:M,new:{},old:{},errors:k}),this._getPayloadRecords(w))}y.callback(v,n)})}_isClosed(){return this.state===va.closed}_isJoined(){return this.state===va.joined}_isJoining(){return this.state===va.joining}_isLeaving(){return this.state===va.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&rT.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ni.close,{},t)}_onError(t){this._on(Ni.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=va.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$4(t.columns,t.old_record)),r}}const ub=()=>{},xy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uK=[1e3,2e3,5e3,1e4],dK=1e4,fK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$S,this.transport=null,this.heartbeatIntervalMs=xy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ub,this.ref=0,this.reconnectTimer=null,this.vsn=H4,this.logger=ub,this.conn=null,this.sendBuffer=[],this.serializer=new nK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${qS.websocket}`,this.httpEndpoint=hF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QW.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gd.connecting:return vd.Connecting;case gd.open:return vd.Open;case gd.closing:return vd.Closing;default:return vd.Closed}}isConnected(){return this.connectionState()===vd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new rT(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${a} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===gd.open||this.conn.readyState===gd.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ni.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:ZW};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ni.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,u,d,m,p,v,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:$S,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:xy.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ub,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:H4,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(w=>uK[w-1]||dK),this.vsn){case uF:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((w,x)=>x(JSON.stringify(w))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((w,x)=>x(JSON.parse(w)));break;case eK:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function In(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mK extends nT{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class WS extends nT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const aT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pK=()=>Response,KS=e=>{if(Array.isArray(e))return e.map(r=>KS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=KS(n)}),t},gK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},db=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vK=(e,t,r)=>Tt(void 0,void 0,void 0,function*(){const n=yield pK();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new mK(db(a),s,i))}).catch(a=>{t(new WS(db(a),a))}):t(new WS(db(e),e))}),yK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(gK(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function _g(e,t,r,n,a,s){return Tt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,yK(t,n,a,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>i(u)).catch(u=>vK(u,l,n))})})}function Op(e,t,r,n){return Tt(this,void 0,void 0,function*(){return _g(e,"GET",t,r,n)})}function to(e,t,r,n,a){return Tt(this,void 0,void 0,function*(){return _g(e,"POST",t,n,a,r)})}function XS(e,t,r,n,a){return Tt(this,void 0,void 0,function*(){return _g(e,"PUT",t,n,a,r)})}function xK(e,t,r,n){return Tt(this,void 0,void 0,function*(){return _g(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sT(e,t,r,n,a){return Tt(this,void 0,void 0,function*(){return _g(e,"DELETE",t,n,a,r)})}class wK{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Tt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(In(t))return{data:null,error:t};throw t}})}}var mF;class _K{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[mF]="BlobDownloadBuilder",this.promise=null}asStream(){return new wK(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Tt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(In(t))return{data:null,error:t};throw t}})}}mF=Symbol.toStringTag;const bK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SK{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=aT(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Tt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},W4),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const u=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),u&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),m=this._getFinalPath(d),p=yield(t=="PUT"?XS:to)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Tt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:W4.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType);const p=yield XS(this.fetch,l.toString(),u,{headers:m});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(In(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield to(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new nT("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}update(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield to(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Tt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield to(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Tt(this,void 0,void 0,function*(){try{const a=yield to(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>Op(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new _K(u,this.shouldThrowOnError)}info(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Op(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:KS(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}exists(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield xK(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n)&&n instanceof WS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&a.push(u);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield sT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}list(t,r,n){return Tt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},bK),r),{prefix:t||""});return{data:yield to(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}listV2(t,r){return Tt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield to(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pF="2.81.1",gF={"X-Client-Info":`storage-js/${pF}`};class EK{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gF),r),this.fetch=aT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Tt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Op(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}getBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}createBucket(t){return Tt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(In(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Tt(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield sT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class TK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gF),r),this.fetch=aT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}listBuckets(t){return Tt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Op(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield sT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}}const iT={"X-Client-Info":`storage-js/${pF}`,"Content-Type":"application/json"};class vF extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fb extends vF{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kK extends vF{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var K4;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(K4||(K4={}));const oT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},X4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AK=(e,t,r)=>Tt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new fb(X4(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new fb(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new fb(l,a,i))}}else t(new kK(X4(e),e))}),MK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(CK(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function NK(e,t,r,n,a,s){return Tt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,MK(t,n,a,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>i(u)).catch(u=>AK(u,l,n))})})}function ni(e,t,r,n,a){return Tt(this,void 0,void 0,function*(){return NK(e,"POST",t,n,a,r)})}class jK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iT),r),this.fetch=oT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listIndexes(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class RK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iT),r),this.fetch=oT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Tt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getVectors(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}listVectors(t){return Tt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ni(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}queryVectors(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Tt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}}class OK{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iT),r),this.fetch=oT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}listBuckets(){return Tt(this,arguments,void 0,function*(t={}){try{return{data:yield ni(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}}class DK extends OK{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new PK(this.url,this.headers,t,this.fetch)}}class PK extends jK{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Tt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Tt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Tt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Tt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new FK(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class FK extends RK{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Tt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Tt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Tt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Tt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Tt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class IK extends EK{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new SK(this.url,this.headers,t,this.fetch)}get vectors(){return new DK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TK(this.url+"/iceberg",this.headers,this.fetch)}}const LK="2.81.1";let Ym="";typeof Deno<"u"?Ym="deno":typeof document<"u"?Ym="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ym="react-native":Ym="node";const BK={"X-Client-Info":`supabase-js-${Ym}/${LK}`},UK={headers:BK},zK={schema:"public"},VK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HK={},$K=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qK=()=>Headers,GK=(e,t,r)=>{const n=$K(r),a=qK();return async(s,i)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},i),{headers:d}))}};function WK(e){return e.endsWith("/")?e:e+"/"}function KK(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:u,auth:d,realtime:m,global:p}=t,v={db:Object.assign(Object.assign({},u),a),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},m),i),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function XK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yF="2.81.1",kh=30*1e3,YS=3,hb=YS*kh,YK="http://localhost:9999",QK="supabase.auth.token",JK={"X-Client-Info":`gotrue-js/${yF}`},QS="X-Supabase-Api-Version",xF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eX=600*1e3;class Dp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tX extends Dp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rX(e){return Ut(e)&&e.name==="AuthApiError"}class yd extends Dp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Au extends Dp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Qi extends Au{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nX(e){return Ut(e)&&e.name==="AuthSessionMissingError"}class fh extends Au{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wy extends Au{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _y extends Au{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aX(e){return Ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class Y4 extends Au{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JS extends Au{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mb(e){return Ut(e)&&e.name==="AuthRetryableFetchError"}class Q4 extends Au{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ZS extends Au{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J4=` 	
\r=`.split(""),sX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<J4.length;t+=1)e[J4[t].charCodeAt(0)]=-2;for(let t=0;t<_x.length;t+=1)e[_x[t].charCodeAt(0)]=t;return e})();function Z4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_x[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_x[n]),t.queuedBits-=6}}function wF(e,t,r){const n=sX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ej(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{lX(i,n,r)};for(let i=0;i<e.length;i+=1)wF(e.charCodeAt(i),a,s);return t.join("")}function iX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}iX(n,t)}}function lX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ih(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)wF(e.charCodeAt(a),r,n);return new Uint8Array(t)}function cX(e){const t=[];return oX(e,r=>t.push(r)),new Uint8Array(t)}function Td(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Z4(a,r,n)),Z4(null,r,n),t.join("")}function uX(e){return Math.round(Date.now()/1e3)+e}function dX(){return Symbol("auth-callback")}const La=()=>typeof window<"u"&&typeof document<"u",cd={tested:!1,writable:!1},_F=()=>{if(!La())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cd.tested)return cd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cd.tested=!0,cd.writable=!0}catch{cd.tested=!0,cd.writable=!1}return cd.writable};function fX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const bF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ch=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ud=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gc=async(e,t)=>{await e.removeItem(t)};class f1{constructor(){this.promise=new f1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f1.promiseConstructor=Promise;function pb(e){const t=e.split(".");if(t.length!==3)throw new ZS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ZK.test(t[n]))throw new ZS("JWT not in base64url format");return{header:JSON.parse(ej(t[0])),payload:JSON.parse(ej(t[1])),signature:Ih(t[2]),raw:{header:t[0],payload:t[1]}}}async function mX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pX(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function gX(e){return("0"+e.toString(16)).substr(-2)}function vX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,gX).join("")}async function yX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function xX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hh(e,t,r=!1){const n=vX();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ch(e,`${t}-code-verifier`,a);const s=await xX(n);return[s,n===s?"plain":"s256"]}const wX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _X(e){const t=e.headers.get(QS);if(!t||!t.match(wX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mh(e){if(!EX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TX(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function tj(e){return JSON.parse(JSON.stringify(e))}const md=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kX=[502,503,504];async function rj(e){var t;if(!hX(e))throw new JS(md(e),0);if(kX.includes(e.status))throw new JS(md(e),e.status);let r;try{r=await e.json()}catch(s){throw new yd(md(s),s)}let n;const a=_X(e);if(a&&a.getTime()>=xF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Q4(md(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new Q4(md(r),e.status,r.weak_password.reasons);throw new tX(md(r),e.status||500,n)}const CX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function tr(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[QS]||(s[QS]=xF["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",u=await AX(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function AX(e,t,r,n,a,s){const i=CX(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(u){throw console.error(u),new JS(md(u),0)}if(l.ok||await rj(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await rj(u)}}function Ji(e){var t;let r=null;jX(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nj(e){const t=Ji(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MX(e){return{data:e,error:null}}function NX(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Bs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},u=Object.assign({},i);return{data:{properties:l,user:u},error:null}}function aj(e){return e}function jX(e){return e.access_token&&e.refresh_token&&e.expires_in}const vb=["global","local","others"];class RX{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=vb[0]){if(vb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vb.join(", ")}`);try{return await tr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jc})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Bs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:NX,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await tr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jc})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,u;try{const d={nextPage:null,lastPage:0,total:0},m=await tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:aj});if(m.error)throw m.error;const p=await m.json(),v=(i=m.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(u=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){mh(t);try{return await tr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jc})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){mh(t);try{return await tr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jc})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){mh(t);try{return await tr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jc})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){mh(t.userId);try{const{data:r,error:n}=await tr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){mh(t.userId),mh(t.id);try{return{data:await tr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,u;try{const d={nextPage:null,lastPage:0,total:0},m=await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:aj});if(m.error)throw m.error;const p=await m.json(),v=(i=m.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(u=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ut(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await tr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ut(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}function sj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ph={debug:!!(globalThis&&_F()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OX extends SF{}async function DX(e,t,r){ph.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ph.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ph.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ph.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ph.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ph.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function PX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function EF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FX(e){return parseInt(e,16)}function IX(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function LX(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:u,resources:d,scheme:m,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=EF(e.address),w=m?`${m}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${y}

${x}`;let T=`URI: ${p}
Version: ${v}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(T+=`
Expiration Time: ${a.toISOString()}`),l&&(T+=`
Not Before: ${l.toISOString()}`),u&&(T+=`
Request ID: ${u}`),d){let M=`
Resources:`;for(const k of d){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);M+=`
- ${k}`}T+=M}return`${b}
${T}`}class fa extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class bx extends fa{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function BX({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new fa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new fa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(TF(i)){if(s.rp.id!==i)return new fa({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new fa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UX({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fa({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(TF(n)){if(r.rpId!==n)return new fa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zX{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const VX=new zX;function HX(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Bs(e,["challenge","user","excludeCredentials"]),s=Ih(t).buffer,i=Object.assign(Object.assign({},r),{id:Ih(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Ih(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $X(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Bs(e,["challenge","allowCredentials"]),a=Ih(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Ih(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function qX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Td(new Uint8Array(e.response.attestationObject)),clientDataJSON:Td(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GX(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Td(new Uint8Array(a.authenticatorData)),clientDataJSON:Td(new Uint8Array(a.clientDataJSON)),signature:Td(new Uint8Array(a.signature)),userHandle:a.userHandle?Td(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ij(){var e,t;return!!(La()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function WX(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bx("Browser returned unexpected credential type",t)}:{data:null,error:new bx("Empty credential response",t)}}catch(t){return{data:null,error:BX({error:t,options:e})}}}async function KX(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bx("Browser returned unexpected credential type",t)}:{data:null,error:new bx("Empty credential response",t)}}catch(t){return{data:null,error:UX({error:t,options:e})}}}const XX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},YX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=Sx(l,i):n[s]=Sx(i)}else n[s]=i}return n}function QX(e,t){return Sx(XX,e,t||{})}function JX(e,t){return Sx(YX,e,t||{})}class ZX{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const u=a??VX.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=QX(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:m,error:p}=await WX({publicKey:d,signal:u});return m?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const d=JX(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:m,error:p}=await KX(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:u}));return m?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(i){return Ut(i)?{data:null,error:i}:{data:null,error:new yd("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Dp("rpId is required for WebAuthn authentication")};try{if(!ij())return{data:null,error:new yd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:u}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(i){return Ut(i)?{data:null,error:i}:{data:null,error:new yd("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Dp("rpId is required for WebAuthn registration")};try{if(!ij())return{data:null,error:new yd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return u?this._verify({factorId:i.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(i){return Ut(i)?{data:null,error:i}:{data:null,error:new yd("Unexpected error in register",i)}}}}PX();const eY={url:YK,storageKey:QK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oj(e,t,r){return await r()}const gh={};class Pp{get jwks(){var t,r;return(r=(t=gh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gh[this.storageKey]=Object.assign(Object.assign({},gh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gh[this.storageKey]=Object.assign(Object.assign({},gh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},eY),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Pp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&La()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RX({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bF(s.fetch),this.lock=s.lock||oj,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:La()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DX:this.lock=oj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_F()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sj(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sj(this.memoryStorage)),La()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(La()&&(r=fX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),La()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),aX(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?this._returnResult({error:r}):this._returnResult({error:new yd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ji}),{data:i,error:l}=s;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const u=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:p,options:v}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await hh(this.storage,this.storageKey)),s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:w},xform:Ji})}else if("phone"in t){const{phone:m,password:p,options:v}=t;s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ji})}else throw new wy("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const u=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(Ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nj})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nj})}else throw new wy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new fh;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,u,d,m,p,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:x,wallet:b,statement:T,options:M}=t;let k;if(La())if(typeof b=="object")k=b;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")k=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=b}const j=new URL((r=M==null?void 0:M.url)!==null&&r!==void 0?r:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=EF(R[0]);let O=(n=M==null?void 0:M.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const V=await k.request({method:"eth_chainId"});O=FX(V)}const B={domain:j.host,address:D,statement:T,uri:j.href,version:"1",chainId:O,nonce:(a=M==null?void 0:M.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=M==null?void 0:M.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=M==null?void 0:M.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=M==null?void 0:M.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=M==null?void 0:M.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(m=M==null?void 0:M.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=LX(B),w=await k.request({method:"personal_sign",params:[IX(y),D]})}try{const{data:x,error:b}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ji});if(b)throw b;if(!x||!x.session||!x.user){const T=new fh;return this._returnResult({data:{user:null,session:null},error:T})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Ut(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,a,s,i,l,u,d,m,p,v,y;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:b,wallet:T,statement:M,options:k}=t;let j;if(La())if(typeof T=="object")j=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))j=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=T}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const D=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),M?{statement:M}:null));let O;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")O=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)O=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)w=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),x=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${R.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(a=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(m=k==null?void 0:k.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const D=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=D}}try{const{data:b,error:T}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Td(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ji});if(T)throw T;if(!b||!b.session||!b.user){const M=new fh;return this._returnResult({data:{user:null,session:null},error:M})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:T})}catch(b){if(Ut(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ud(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ji});if(await Gc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const l=new fh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(Ut(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ji}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const m=new fh;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:u}=t;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await hh(this.storage,this.storageKey));const{error:p}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:m},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:m}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new wy("You must provide either an email or phone number.")}catch(l){if(Ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ji});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const u=i.session,d=i.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await hh(this.storage,this.storageKey));const d=await tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:MX});return!((s=d.data)===null||s===void 0)&&s.url&&La()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(Ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qi;const{error:a}=await tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new wy("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ud(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ud(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=gb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=TX(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jc}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qi}:await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Jc})})}catch(r){if(Ut(r))return nX(r)&&(await this._removeSession(),await Gc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Qi;const i=a.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await hh(this.storage,this.storageKey));const{data:d,error:m}=await tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:i.access_token,xform:Jc});if(m)throw m;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(Ut(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=pb(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!La())throw new _y("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _y(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Y4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _y("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Y4("No code detected.");const{data:M,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:u,token_type:d}=t;if(!s||!l||!i||!d)throw new _y("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(l);let v=m+p;u&&(v=parseInt(u));const y=v-m;y*1e3<=kh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const w=v-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,m);const{data:x,error:b}=await this._getUser(s);if(b)throw b;const T={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:p,expires_at:v,refresh_token:i,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(n){if(Ut(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ud(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(rX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Gc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=dX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await hh(this.storage,this.storageKey,!0));try{return await tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ut(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,u,d,m;const{data:p,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await tr(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return La()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ut(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:u,access_token:d,nonce:m}=t,p=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:d,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ji}),{data:v,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new fh}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(Ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await tr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pX(async a=>(a>0&&await mX(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ji})),(a,s)=>{const i=200*Math.pow(2,a);return s&&mb(s)&&Date.now()+i-n<kh})}catch(n){if(this._debug(r,"error",n),Ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),La()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ud(this.storage,this.storageKey);if(a&&this.userStorage){let i=await ud(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Ch(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:gb()}else if(a&&!a.user&&!a.user){const i=await ud(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Gc(this.storage,this.storageKey+"-user"),await Ch(this.storage,this.storageKey,a)):a.user=gb()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${hb}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),mb(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new f1;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Qi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Ut(s)){const i={data:null,error:s};return mb(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ch(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=tj(a);await Ch(this.storage,this.storageKey,s)}else{const a=tj(r);await Ch(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Gc(this.storage,this.storageKey),await Gc(this.storage,this.storageKey+"-code-verifier"),await Gc(this.storage,this.storageKey+"-user"),this.userStorage&&await Gc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&La()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/kh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${kh}ms, refresh threshold is ${YS} ticks`),a<=YS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!La()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await hh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await tr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await tr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((a=u==null?void 0:u.totp)===null||a===void 0)&&a.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?qX(t.webauthn.credential_response):GX(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HX(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$X(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=pb(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await tr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qi})})}catch(r){if(Ut(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Qi});const i=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&La()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Ut(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Qi});const i=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&La()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+eX>a)return n;const{data:s,error:i}=await tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return this._returnResult({data:null,error:w});n=y.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:u}}=pb(n);r!=null&&r.allowExpired||bX(s.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:i},error:null}}const m=SX(a.alg),p=await crypto.subtle.importKey("jwk",d,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,i,cX(`${l}.${u}`)))throw new ZS("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Ut(n))return this._returnResult({data:null,error:n});throw n}}}Pp.nextInstanceID={};const tY=Pp;class rY extends tY{constructor(t){super(t)}}class nY{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=XK(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:zK,realtime:HK,auth:Object.assign(Object.assign({},VK),{storageKey:u}),global:UK},m=KK(n??{},d);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=m.auth)!==null&&i!==void 0?i:{},this.headers,m.global.fetch),this.fetch=GK(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new YW(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new IK(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new GW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:u,debug:d,throwOnError:m},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rY({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:u,debug:d,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hK(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aY=(e,t,r)=>new nY(e,t,r);function sY(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iY="https://xasuqqebngantzaenmwq.supabase.co",oY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhhc3VxcWVibmdhbnR6YWVubXdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MzIzOTcsImV4cCI6MjA3ODEwODM5N30.muZXEGe5m6apaaVu6xK8tL-PpM8c0SHuZL3XzoxQf3Q",ut=aY(iY,oY),dd={async signInWithEmail(e,t){const{data:r,error:n}=await ut.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r},async signUpWithEmail(e,t,r){const{data:n,error:a}=await ut.auth.signUp({email:e,password:t,options:{data:r}});if(a)throw a;return n},async signOut(){const{error:e}=await ut.auth.signOut();if(e)throw e},async getSession(){const{data:e,error:t}=await ut.auth.getSession();if(t)throw t;return e},async resetPasswordForEmail(e,t){const{data:r,error:n}=await ut.auth.resetPasswordForEmail(e,{redirectTo:t||`${window.location.origin}/reset-password`});if(n)throw n;return r},async updatePassword(e){const{data:t,error:r}=await ut.auth.updateUser({password:e});if(r)throw r;return t},async verifyOtp(e,t,r="recovery"){const{data:n,error:a}=await ut.auth.verifyOtp({email:e,token:t,type:r});if(a)throw a;return n}},fp={async checkQuotaUsage(e){try{const{data:t,error:r}=await ut.rpc("check_quota_usage",{p_user_id:e});if(r)throw r;if(!t||t.length===0)return{id:"default",user_id:e,master_user_id:e,plan_type:"basic",messages_limit:1e3,messages_used:0,remaining:1e3,reset_date:new Date(Date.now()+720*60*60*1e3).toISOString(),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};const n=t[0];return{id:n.quota_id||"unknown",user_id:e,master_user_id:n.master_user_id||e,plan_type:n.plan_type,messages_limit:n.messages_limit,messages_used:n.messages_used,remaining:n.messages_remaining,reset_date:n.reset_date,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("Error checking quota usage:",t),t}},async reserveQuota(e,t=1){try{const{data:r,error:n}=await ut.rpc("reserve_quota",{p_user_id:e,p_amount:t});if(n)throw n;const a=r[0];return{success:a.success,reservation_id:a.reservation_id,messages_remaining:a.messages_remaining,error_message:a.error_message}}catch(r){return console.error("Error reserving quota:",r),{success:!1,quota_id:null,messages_remaining:0,error_message:r instanceof Error?r.message:"Unknown error"}}},async commitQuotaUsage(e,t=1){try{const{data:r,error:n}=await ut.rpc("commit_quota_usage",{p_reservation_id:e,p_success_count:t});if(n)throw n;const a=r[0];return{success:a.success,messages_remaining:a.messages_remaining,error_message:a.error_message}}catch(r){return console.error("Error committing quota usage:",r),{success:!1,messages_remaining:0,error_message:r instanceof Error?r.message:"Unknown error"}}},async getUserQuota(e){try{console.log("Getting user quota for:",e);const{data:t,error:r}=await ut.from("user_quotas").select("*").eq("user_id",e).eq("is_active",!0);if(r){if(console.error("Database error:",r),r.code==="PGRST116"||r.message.includes("not found"))return console.log("No quota found, returning empty array"),[];throw r}return!t||t.length===0?(console.log("No quota data found for user, returning empty array"),[]):(console.log("Found quota data:",t.length,"records"),t.map(n=>({id:n.id,user_id:n.user_id,master_user_id:n.master_user_id,plan_type:n.plan_type,messages_limit:n.messages_limit,messages_used:n.messages_used,remaining:n.messages_limit-n.messages_used,reset_date:n.reset_date,is_active:n.is_active,created_at:n.created_at,updated_at:n.updated_at})))}catch(t){return console.error("Error getting user quota:",t),[]}}};function Jt(e){return e.code==="PGRST116"?"Record not found":e.code==="23505"?"Duplicate record":e.code==="23503"?"Foreign key constraint violation":e.code==="23502"?"Required field missing":e.message||"Database error occurred"}var rx={exports:{}},lY=rx.exports,lj;function cY(){return lj||(lj=1,(function(e,t){(function(r,n){e.exports=n()})(lY,function(){var r=function(_,C){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,P){N.__proto__=P}||function(N,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(N[I]=P[I])})(_,C)},n=function(){return(n=Object.assign||function(_){for(var C,N=1,P=arguments.length;N<P;N++)for(var I in C=arguments[N])Object.prototype.hasOwnProperty.call(C,I)&&(_[I]=C[I]);return _}).apply(this,arguments)};function a(_,C,N){for(var P,I=0,U=C.length;I<U;I++)!P&&I in C||((P=P||Array.prototype.slice.call(C,0,I))[I]=C[I]);return _.concat(P||Array.prototype.slice.call(C))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:v9,i=Object.keys,l=Array.isArray;function u(_,C){return typeof C!="object"||i(C).forEach(function(N){_[N]=C[N]}),_}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function p(_,C){return m.call(_,C)}function v(_,C){typeof C=="function"&&(C=C(d(_))),(typeof Reflect>"u"?i:Reflect.ownKeys)(C).forEach(function(N){w(_,N,C[N])})}var y=Object.defineProperty;function w(_,C,N,P){y(_,C,u(N&&p(N,"get")&&typeof N.get=="function"?{get:N.get,set:N.set,configurable:!0}:{value:N,configurable:!0,writable:!0},P))}function x(_){return{from:function(C){return _.prototype=Object.create(C.prototype),w(_.prototype,"constructor",_),{extend:v.bind(null,_.prototype)}}}}var b=Object.getOwnPropertyDescriptor,T=[].slice;function M(_,C,N){return T.call(_,C,N)}function k(_,C){return C(_)}function j(_){if(!_)throw new Error("Assertion Failed")}function R(_){s.setImmediate?setImmediate(_):setTimeout(_,0)}function D(_,C){if(typeof C=="string"&&p(_,C))return _[C];if(!C)return _;if(typeof C!="string"){for(var N=[],P=0,I=C.length;P<I;++P){var U=D(_,C[P]);N.push(U)}return N}var ae=C.indexOf(".");if(ae!==-1){var de=_[C.substr(0,ae)];return de==null?void 0:D(de,C.substr(ae+1))}}function O(_,C,N){if(_&&C!==void 0&&!("isFrozen"in Object&&Object.isFrozen(_)))if(typeof C!="string"&&"length"in C){j(typeof N!="string"&&"length"in N);for(var P=0,I=C.length;P<I;++P)O(_,C[P],N[P])}else{var U,ae,de=C.indexOf(".");de!==-1?(U=C.substr(0,de),(ae=C.substr(de+1))===""?N===void 0?l(_)&&!isNaN(parseInt(U))?_.splice(U,1):delete _[U]:_[U]=N:O(de=!(de=_[U])||!p(_,U)?_[U]={}:de,ae,N)):N===void 0?l(_)&&!isNaN(parseInt(C))?_.splice(C,1):delete _[C]:_[C]=N}}function B(_){var C,N={};for(C in _)p(_,C)&&(N[C]=_[C]);return N}var V=[].concat;function ne(_){return V.apply([],_)}var lr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ne([8,16,32,64].map(function(_){return["Int","Uint","Float"].map(function(C){return C+_+"Array"})}))).filter(function(_){return s[_]}),ie=new Set(lr.map(function(_){return s[_]})),Q=null;function ve(_){return Q=new WeakMap,_=(function C(N){if(!N||typeof N!="object")return N;var P=Q.get(N);if(P)return P;if(l(N)){P=[],Q.set(N,P);for(var I=0,U=N.length;I<U;++I)P.push(C(N[I]))}else if(ie.has(N.constructor))P=N;else{var ae,de=d(N);for(ae in P=de===Object.prototype?{}:Object.create(de),Q.set(N,P),N)p(N,ae)&&(P[ae]=C(N[ae]))}return P})(_),Q=null,_}var G={}.toString;function fe(_){return G.call(_).slice(8,-1)}var K=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof K=="symbol"?function(_){var C;return _!=null&&(C=_[K])&&C.apply(_)}:function(){return null};function le(_,C){return C=_.indexOf(C),0<=C&&_.splice(C,1),0<=C}var J={};function Me(_){var C,N,P,I;if(arguments.length===1){if(l(_))return _.slice();if(this===J&&typeof _=="string")return[_];if(I=re(_)){for(N=[];!(P=I.next()).done;)N.push(P.value);return N}if(_==null)return[_];if(typeof(C=_.length)!="number")return[_];for(N=new Array(C);C--;)N[C]=_[C];return N}for(C=arguments.length,N=new Array(C);C--;)N[C]=arguments[C];return N}var H=typeof Symbol<"u"?function(_){return _[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wt),L={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Y(_,C){this.name=_,this.message=C}function Z(_,C){return _+". Errors: "+Object.keys(C).map(function(N){return C[N].toString()}).filter(function(N,P,I){return I.indexOf(N)===P}).join(`
`)}function W(_,C,N,P){this.failures=C,this.failedKeys=P,this.successCount=N,this.message=Z(_,C)}function ue(_,C){this.name="BulkError",this.failures=Object.keys(C).map(function(N){return C[N]}),this.failuresByPos=C,this.message=Z(_,this.failures)}x(Y).from(Error).extend({toString:function(){return this.name+": "+this.message}}),x(W).from(Y),x(ue).from(Y);var he=fs.reduce(function(_,C){return _[C]=C+"Error",_},{}),Re=Y,ye=fs.reduce(function(_,C){var N=C+"Error";function P(I,U){this.name=N,I?typeof I=="string"?(this.message="".concat(I).concat(U?`
 `+U:""),this.inner=U||null):typeof I=="object"&&(this.message="".concat(I.name," ").concat(I.message),this.inner=I):(this.message=L[C]||N,this.inner=null)}return x(P).from(Re),_[C]=P,_},{});ye.Syntax=SyntaxError,ye.Type=TypeError,ye.Range=RangeError;var Ue=wt.reduce(function(_,C){return _[C+"Error"]=ye[C],_},{}),st=fs.reduce(function(_,C){return["Syntax","Type","Range"].indexOf(C)===-1&&(_[C+"Error"]=ye[C]),_},{});function X(){}function zt(_){return _}function Ot(_,C){return _==null||_===zt?C:function(N){return C(_(N))}}function qt(_,C){return function(){_.apply(this,arguments),C.apply(this,arguments)}}function it(_,C){return _===X?C:function(){var N=_.apply(this,arguments);N!==void 0&&(arguments[0]=N);var P=this.onsuccess,I=this.onerror;this.onsuccess=null,this.onerror=null;var U=C.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?qt(P,this.onsuccess):P),I&&(this.onerror=this.onerror?qt(I,this.onerror):I),U!==void 0?U:N}}function We(_,C){return _===X?C:function(){_.apply(this,arguments);var N=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),N&&(this.onsuccess=this.onsuccess?qt(N,this.onsuccess):N),P&&(this.onerror=this.onerror?qt(P,this.onerror):P)}}function ar(_,C){return _===X?C:function(N){var P=_.apply(this,arguments);u(N,P);var I=this.onsuccess,U=this.onerror;return this.onsuccess=null,this.onerror=null,N=C.apply(this,arguments),I&&(this.onsuccess=this.onsuccess?qt(I,this.onsuccess):I),U&&(this.onerror=this.onerror?qt(U,this.onerror):U),P===void 0?N===void 0?void 0:N:u(P,N)}}function fr(_,C){return _===X?C:function(){return C.apply(this,arguments)!==!1&&_.apply(this,arguments)}}function Ft(_,C){return _===X?C:function(){var N=_.apply(this,arguments);if(N&&typeof N.then=="function"){for(var P=this,I=arguments.length,U=new Array(I);I--;)U[I]=arguments[I];return N.then(function(){return C.apply(P,U)})}return C.apply(this,arguments)}}st.ModifyError=W,st.DexieError=Y,st.BulkError=ue;var Pt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jr(_){Pt=_}var wr={},Xe=100,lr=typeof Promise>"u"?[]:(function(){var _=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[_,d(_),_];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,d(C),_]})(),wt=lr[0],fs=lr[1],lr=lr[2],fs=fs&&fs.then,_r=wt&&wt.constructor,pr=!!lr,Mn=function(_,C){$s.push([_,C]),Vr&&(queueMicrotask(_f),Vr=!1)},Gt=!0,Vr=!0,yn=[],Fr=[],Yr=zt,Nn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:X,pgp:!1,env:{},finalize:X},vt=Nn,$s=[],Ga=0,Hi=[];function mt(_){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=vt;if(typeof _!="function"){if(_!==wr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Wa(this,this._value))}this._state=null,this._value=null,++C.ref,(function N(P,I){try{I(function(U){if(P._state===null){if(U===P)throw new TypeError("A promise cannot be resolved with itself.");var ae=P._lib&&li();U&&typeof U.then=="function"?N(P,function(de,xe){U instanceof mt?U._then(de,xe):U.then(de,xe)}):(P._state=!0,P._value=U,il(P)),ae&&Es()}},Wa.bind(null,P))}catch(U){Wa(P,U)}})(this,_)}var So={get:function(){var _=vt,C=oe;function N(P,I){var U=this,ae=!_.global&&(_!==vt||C!==oe),de=ae&&!ce(),xe=new mt(function(we,Te){$i(U,new sl(et(P,_,ae,de),et(I,_,ae,de),we,Te,_))});return this._consoleTask&&(xe._consoleTask=this._consoleTask),xe}return N.prototype=wr,N},set:function(_){w(this,"then",_&&_.prototype===wr?So:{get:function(){return _},set:So.set})}};function sl(_,C,N,P,I){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof C=="function"?C:null,this.resolve=N,this.reject=P,this.psd=I}function Wa(_,C){var N,P;Fr.push(C),_._state===null&&(N=_._lib&&li(),C=Yr(C),_._state=!1,_._value=C,P=_,yn.some(function(I){return I._value===P._value})||yn.push(P),il(_),N&&Es())}function il(_){var C=_._listeners;_._listeners=[];for(var N=0,P=C.length;N<P;++N)$i(_,C[N]);var I=_._PSD;--I.ref||I.finalize(),Ga===0&&(++Ga,Mn(function(){--Ga==0&&Pu()},[]))}function $i(_,C){if(_._state!==null){var N=_._state?C.onFulfilled:C.onRejected;if(N===null)return(_._state?C.resolve:C.reject)(_._value);++C.psd.ref,++Ga,Mn(H0,[N,_,C])}else _._listeners.push(C)}function H0(_,C,N){try{var P,I=C._value;!C._state&&Fr.length&&(Fr=[]),P=Pt&&C._consoleTask?C._consoleTask.run(function(){return _(I)}):_(I),C._state||Fr.indexOf(I)!==-1||(function(U){for(var ae=yn.length;ae;)if(yn[--ae]._value===U._value)return yn.splice(ae,1)})(C),N.resolve(P)}catch(U){N.reject(U)}finally{--Ga==0&&Pu(),--N.psd.ref||N.psd.finalize()}}function _f(){De(Nn,function(){li()&&Es()})}function li(){var _=Gt;return Vr=Gt=!1,_}function Es(){var _,C,N;do for(;0<$s.length;)for(_=$s,$s=[],N=_.length,C=0;C<N;++C){var P=_[C];P[0].apply(null,P[1])}while(0<$s.length);Vr=Gt=!0}function Pu(){var _=yn;yn=[],_.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var C=Hi.slice(0),N=C.length;N;)C[--N]()}function ol(_){return new mt(wr,!1,_)}function Gr(_,C){var N=vt;return function(){var P=li(),I=vt;try{return je(N,!0),_.apply(this,arguments)}catch(U){C&&C(U)}finally{je(I,!1),P&&Es()}}}v(mt.prototype,{then:So,_then:function(_,C){$i(this,new sl(null,null,_,C,vt))},catch:function(_){if(arguments.length===1)return this.then(null,_);var C=_,N=arguments[1];return typeof C=="function"?this.then(null,function(P){return(P instanceof C?N:ol)(P)}):this.then(null,function(P){return(P&&P.name===C?N:ol)(P)})},finally:function(_){return this.then(function(C){return mt.resolve(_()).then(function(){return C})},function(C){return mt.resolve(_()).then(function(){return ol(C)})})},timeout:function(_,C){var N=this;return _<1/0?new mt(function(P,I){var U=setTimeout(function(){return I(new ye.Timeout(C))},_);N.then(P,I).finally(clearTimeout.bind(null,U))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(mt.prototype,Symbol.toStringTag,"Dexie.Promise"),Nn.env=Ie(),v(mt,{all:function(){var _=Me.apply(null,arguments).map(Oe);return new mt(function(C,N){_.length===0&&C([]);var P=_.length;_.forEach(function(I,U){return mt.resolve(I).then(function(ae){_[U]=ae,--P||C(_)},N)})})},resolve:function(_){return _ instanceof mt?_:_&&typeof _.then=="function"?new mt(function(C,N){_.then(C,N)}):new mt(wr,!0,_)},reject:ol,race:function(){var _=Me.apply(null,arguments).map(Oe);return new mt(function(C,N){_.map(function(P){return mt.resolve(P).then(C,N)})})},PSD:{get:function(){return vt},set:function(_){return vt=_}},totalEchoes:{get:function(){return oe}},newPSD:ee,usePSD:De,scheduler:{get:function(){return Mn},set:function(_){Mn=_}},rejectionMapper:{get:function(){return Yr},set:function(_){Yr=_}},follow:function(_,C){return new mt(function(N,P){return ee(function(I,U){var ae=vt;ae.unhandleds=[],ae.onunhandled=U,ae.finalize=qt(function(){var de,xe=this;de=function(){xe.unhandleds.length===0?I():U(xe.unhandleds[0])},Hi.push(function we(){de(),Hi.splice(Hi.indexOf(we),1)}),++Ga,Mn(function(){--Ga==0&&Pu()},[])},ae.finalize),_()},C,N,P)})}}),_r&&(_r.allSettled&&w(mt,"allSettled",function(){var _=Me.apply(null,arguments).map(Oe);return new mt(function(C){_.length===0&&C([]);var N=_.length,P=new Array(N);_.forEach(function(I,U){return mt.resolve(I).then(function(ae){return P[U]={status:"fulfilled",value:ae}},function(ae){return P[U]={status:"rejected",reason:ae}}).then(function(){return--N||C(P)})})})}),_r.any&&typeof AggregateError<"u"&&w(mt,"any",function(){var _=Me.apply(null,arguments).map(Oe);return new mt(function(C,N){_.length===0&&N(new AggregateError([]));var P=_.length,I=new Array(P);_.forEach(function(U,ae){return mt.resolve(U).then(function(de){return C(de)},function(de){I[ae]=de,--P||N(new AggregateError(I))})})})}),_r.withResolvers&&(mt.withResolvers=_r.withResolvers));var Pn={awaits:0,echoes:0,id:0},Fu=0,Eo=[],z=0,oe=0,te=0;function ee(_,C,N,P){var I=vt,U=Object.create(I);return U.parent=I,U.ref=0,U.global=!1,U.id=++te,Nn.env,U.env=pr?{Promise:mt,PromiseProp:{value:mt,configurable:!0,writable:!0},all:mt.all,race:mt.race,allSettled:mt.allSettled,any:mt.any,resolve:mt.resolve,reject:mt.reject}:{},C&&u(U,C),++I.ref,U.finalize=function(){--this.parent.ref||this.parent.finalize()},P=De(U,_,N,P),U.ref===0&&U.finalize(),P}function se(){return Pn.id||(Pn.id=++Fu),++Pn.awaits,Pn.echoes+=Xe,Pn.id}function ce(){return!!Pn.awaits&&(--Pn.awaits==0&&(Pn.id=0),Pn.echoes=Pn.awaits*Xe,!0)}function Oe(_){return Pn.echoes&&_&&_.constructor===_r?(se(),_.then(function(C){return ce(),C},function(C){return ce(),rt(C)})):_}function qe(){var _=Eo[Eo.length-1];Eo.pop(),je(_,!1)}function je(_,C){var N,P=vt;(C?!Pn.echoes||z++&&_===vt:!z||--z&&_===vt)||queueMicrotask(C?(function(I){++oe,Pn.echoes&&--Pn.echoes!=0||(Pn.echoes=Pn.awaits=Pn.id=0),Eo.push(vt),je(I,!0)}).bind(null,_):qe),_!==vt&&(vt=_,P===Nn&&(Nn.env=Ie()),pr&&(N=Nn.env.Promise,C=_.env,(P.global||_.global)&&(Object.defineProperty(s,"Promise",C.PromiseProp),N.all=C.all,N.race=C.race,N.resolve=C.resolve,N.reject=C.reject,C.allSettled&&(N.allSettled=C.allSettled),C.any&&(N.any=C.any))))}function Ie(){var _=s.Promise;return pr?{Promise:_,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:_.all,race:_.race,allSettled:_.allSettled,any:_.any,resolve:_.resolve,reject:_.reject}:{}}function De(_,C,N,P,I){var U=vt;try{return je(_,!0),C(N,P,I)}finally{je(U,!1)}}function et(_,C,N,P){return typeof _!="function"?_:function(){var I=vt;N&&se(),je(C,!0);try{return _.apply(this,arguments)}finally{je(I,!1),P&&queueMicrotask(ce)}}}function ot(_){Promise===_r&&Pn.echoes===0?z===0?_():enqueueNativeMicroTask(_):setTimeout(_,0)}(""+fs).indexOf("[native code]")===-1&&(se=ce=X);var rt=mt.reject,Ze="",ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",kt="String expected.",Lr=[],Wr="__dbnames",un="readonly",Ka="readwrite";function cs(_,C){return _?C?function(){return _.apply(this,arguments)&&C.apply(this,arguments)}:_:C}var qi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function us(_){return typeof _!="string"||/\./.test(_)?function(C){return C}:function(C){return C[_]===void 0&&_ in C&&delete(C=ve(C))[_],C}}function fc(){throw ye.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Yt(_,C){try{var N=Iu(_),P=Iu(C);if(N!==P)return N==="Array"?1:P==="Array"?-1:N==="binary"?1:P==="binary"?-1:N==="string"?1:P==="string"?-1:N==="Date"?1:P!=="Date"?NaN:-1;switch(N){case"number":case"Date":case"string":return C<_?1:_<C?-1:0;case"binary":return(function(I,U){for(var ae=I.length,de=U.length,xe=ae<de?ae:de,we=0;we<xe;++we)if(I[we]!==U[we])return I[we]<U[we]?-1:1;return ae===de?0:ae<de?-1:1})(ci(_),ci(C));case"Array":return(function(I,U){for(var ae=I.length,de=U.length,xe=ae<de?ae:de,we=0;we<xe;++we){var Te=Yt(I[we],U[we]);if(Te!==0)return Te}return ae===de?0:ae<de?-1:1})(_,C)}}catch{}return NaN}function Iu(_){var C=typeof _;return C!="object"?C:ArrayBuffer.isView(_)?"binary":(_=fe(_),_==="ArrayBuffer"?"binary":_)}function ci(_){return _ instanceof Uint8Array?_:ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength):new Uint8Array(_)}function Oa(_,C,N){var P=_.schema.yProps;return P?(C&&0<N.numFailures&&(C=C.filter(function(I,U){return!N.failures[U]})),Promise.all(P.map(function(I){return I=I.updatesTable,C?_.db.table(I).where("k").anyOf(C).delete():_.db.table(I).clear()})).then(function(){return N})):N}var hc=(Kg.prototype.execute=function(_){var C=this["@@propmod"];if(C.add!==void 0){var N=C.add;if(l(N))return a(a([],l(_)?_:[],!0),N).sort();if(typeof N=="number")return(Number(_)||0)+N;if(typeof N=="bigint")try{return BigInt(_)+N}catch{return BigInt(0)+N}throw new TypeError("Invalid term ".concat(N))}if(C.remove!==void 0){var P=C.remove;if(l(P))return l(_)?_.filter(function(I){return!P.includes(I)}).sort():[];if(typeof P=="number")return Number(_)-P;if(typeof P=="bigint")try{return BigInt(_)-P}catch{return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return N=(N=C.replacePrefix)===null||N===void 0?void 0:N[0],N&&typeof _=="string"&&_.startsWith(N)?C.replacePrefix[1]+_.substring(N.length):_},Kg);function Kg(_){this["@@propmod"]=_}function bf(_,C){for(var N=i(C),P=N.length,I=!1,U=0;U<P;++U){var ae=N[U],de=C[ae],xe=D(_,ae);de instanceof hc?(O(_,ae,de.execute(xe)),I=!0):xe!==de&&(O(_,ae,de),I=!0)}return I}var $0=(Kr.prototype._trans=function(_,C,N){var P=this._tx||vt.trans,I=this.name,U=Pt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(_==="readonly"?"read":"write"," ").concat(this.name));function ae(we,Te,pe){if(!pe.schema[I])throw new ye.NotFound("Table "+I+" not part of transaction");return C(pe.idbtrans,pe)}var de=li();try{var xe=P&&P.db._novip===this.db._novip?P===vt.trans?P._promise(_,ae,N):ee(function(){return P._promise(_,ae,N)},{trans:P,transless:vt.transless||vt}):(function we(Te,pe,Ce,_e){if(Te.idbdb&&(Te._state.openComplete||vt.letThrough||Te._vip)){var Se=Te._createTransaction(pe,Ce,Te._dbSchema);try{Se.create(),Te._state.PR1398_maxLoop=3}catch(Ee){return Ee.name===he.InvalidState&&Te.isOpen()&&0<--Te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Te.close({disableAutoOpen:!1}),Te.open().then(function(){return we(Te,pe,Ce,_e)})):rt(Ee)}return Se._promise(pe,function(Ee,ke){return ee(function(){return vt.trans=Se,_e(Ee,ke,Se)})}).then(function(Ee){if(pe==="readwrite")try{Se.idbtrans.commit()}catch{}return pe==="readonly"?Ee:Se._completion.then(function(){return Ee})})}if(Te._state.openComplete)return rt(new ye.DatabaseClosed(Te._state.dbOpenError));if(!Te._state.isBeingOpened){if(!Te._state.autoOpen)return rt(new ye.DatabaseClosed);Te.open().catch(X)}return Te._state.dbReadyPromise.then(function(){return we(Te,pe,Ce,_e)})})(this.db,_,[this.name],ae);return U&&(xe._consoleTask=U,xe=xe.catch(function(we){return console.trace(we),rt(we)})),xe}finally{de&&Es()}},Kr.prototype.get=function(_,C){var N=this;return _&&_.constructor===Object?this.where(_).first(C):_==null?rt(new ye.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return N.core.get({trans:P,key:_}).then(function(I){return N.hook.reading.fire(I)})}).then(C)},Kr.prototype.where=function(_){if(typeof _=="string")return new this.db.WhereClause(this,_);if(l(_))return new this.db.WhereClause(this,"[".concat(_.join("+"),"]"));var C=i(_);if(C.length===1)return this.where(C[0]).equals(_[C[0]]);var N=this.schema.indexes.concat(this.schema.primKey).filter(function(de){if(de.compound&&C.every(function(we){return 0<=de.keyPath.indexOf(we)})){for(var xe=0;xe<C.length;++xe)if(C.indexOf(de.keyPath[xe])===-1)return!1;return!0}return!1}).sort(function(de,xe){return de.keyPath.length-xe.keyPath.length})[0];if(N&&this.db._maxKey!==Ze){var U=N.keyPath.slice(0,C.length);return this.where(U).equals(U.map(function(xe){return _[xe]}))}!N&&Pt&&console.warn("The query ".concat(JSON.stringify(_)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var P=this.schema.idxByName;function I(de,xe){return Yt(de,xe)===0}var ae=C.reduce(function(pe,xe){var we=pe[0],Te=pe[1],pe=P[xe],Ce=_[xe];return[we||pe,we||!pe?cs(Te,pe&&pe.multi?function(_e){return _e=D(_e,xe),l(_e)&&_e.some(function(Se){return I(Ce,Se)})}:function(_e){return I(Ce,D(_e,xe))}):Te]},[null,null]),U=ae[0],ae=ae[1];return U?this.where(U.name).equals(_[U.keyPath]).filter(ae):N?this.filter(ae):this.where(C).equals("")},Kr.prototype.filter=function(_){return this.toCollection().and(_)},Kr.prototype.count=function(_){return this.toCollection().count(_)},Kr.prototype.offset=function(_){return this.toCollection().offset(_)},Kr.prototype.limit=function(_){return this.toCollection().limit(_)},Kr.prototype.each=function(_){return this.toCollection().each(_)},Kr.prototype.toArray=function(_){return this.toCollection().toArray(_)},Kr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Kr.prototype.orderBy=function(_){return new this.db.Collection(new this.db.WhereClause(this,l(_)?"[".concat(_.join("+"),"]"):_))},Kr.prototype.reverse=function(){return this.toCollection().reverse()},Kr.prototype.mapToClass=function(_){var C,N=this.db,P=this.name;function I(){return C!==null&&C.apply(this,arguments)||this}(this.schema.mappedClass=_).prototype instanceof fc&&((function(xe,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function Te(){this.constructor=xe}r(xe,we),xe.prototype=we===null?Object.create(we):(Te.prototype=we.prototype,new Te)})(I,C=_),Object.defineProperty(I.prototype,"db",{get:function(){return N},enumerable:!1,configurable:!0}),I.prototype.table=function(){return P},_=I);for(var U=new Set,ae=_.prototype;ae;ae=d(ae))Object.getOwnPropertyNames(ae).forEach(function(xe){return U.add(xe)});function de(xe){if(!xe)return xe;var we,Te=Object.create(_.prototype);for(we in xe)if(!U.has(we))try{Te[we]=xe[we]}catch{}return Te}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=de,this.hook("reading",de),_},Kr.prototype.defineClass=function(){return this.mapToClass(function(_){u(this,_)})},Kr.prototype.add=function(_,C){var N=this,P=this.schema.primKey,I=P.auto,U=P.keyPath,ae=_;return U&&I&&(ae=us(U)(_)),this._trans("readwrite",function(de){return N.core.mutate({trans:de,type:"add",keys:C!=null?[C]:null,values:[ae]})}).then(function(de){return de.numFailures?mt.reject(de.failures[0]):de.lastResult}).then(function(de){if(U)try{O(_,U,de)}catch{}return de})},Kr.prototype.upsert=function(_,C){var N=this,P=this.schema.primKey.keyPath;return this._trans("readwrite",function(I){return N.core.get({trans:I,key:_}).then(function(U){var ae=U??{};return bf(ae,C),P&&O(ae,P,_),N.core.mutate({trans:I,type:"put",values:[ae],keys:[_],upsert:!0,updates:{keys:[_],changeSpecs:[C]}}).then(function(de){return de.numFailures?mt.reject(de.failures[0]):!!U})})})},Kr.prototype.update=function(_,C){return typeof _!="object"||l(_)?this.where(":id").equals(_).modify(C):(_=D(_,this.schema.primKey.keyPath),_===void 0?rt(new ye.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(_).modify(C))},Kr.prototype.put=function(_,C){var N=this,P=this.schema.primKey,I=P.auto,U=P.keyPath,ae=_;return U&&I&&(ae=us(U)(_)),this._trans("readwrite",function(de){return N.core.mutate({trans:de,type:"put",values:[ae],keys:C!=null?[C]:null})}).then(function(de){return de.numFailures?mt.reject(de.failures[0]):de.lastResult}).then(function(de){if(U)try{O(_,U,de)}catch{}return de})},Kr.prototype.delete=function(_){var C=this;return this._trans("readwrite",function(N){return C.core.mutate({trans:N,type:"delete",keys:[_]}).then(function(P){return Oa(C,[_],P)}).then(function(P){return P.numFailures?mt.reject(P.failures[0]):void 0})})},Kr.prototype.clear=function(){var _=this;return this._trans("readwrite",function(C){return _.core.mutate({trans:C,type:"deleteRange",range:qi}).then(function(N){return Oa(_,null,N)})}).then(function(C){return C.numFailures?mt.reject(C.failures[0]):void 0})},Kr.prototype.bulkGet=function(_){var C=this;return this._trans("readonly",function(N){return C.core.getMany({keys:_,trans:N}).then(function(P){return P.map(function(I){return C.hook.reading.fire(I)})})})},Kr.prototype.bulkAdd=function(_,C,N){var P=this,I=Array.isArray(C)?C:void 0,U=(N=N||(I?void 0:C))?N.allKeys:void 0;return this._trans("readwrite",function(ae){var we=P.schema.primKey,de=we.auto,we=we.keyPath;if(we&&I)throw new ye.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(I&&I.length!==_.length)throw new ye.InvalidArgument("Arguments objects and keys must have the same length");var xe=_.length,we=we&&de?_.map(us(we)):_;return P.core.mutate({trans:ae,type:"add",keys:I,values:we,wantResults:U}).then(function(Se){var pe=Se.numFailures,Ce=Se.results,_e=Se.lastResult,Se=Se.failures;if(pe===0)return U?Ce:_e;throw new ue("".concat(P.name,".bulkAdd(): ").concat(pe," of ").concat(xe," operations failed"),Se)})})},Kr.prototype.bulkPut=function(_,C,N){var P=this,I=Array.isArray(C)?C:void 0,U=(N=N||(I?void 0:C))?N.allKeys:void 0;return this._trans("readwrite",function(ae){var we=P.schema.primKey,de=we.auto,we=we.keyPath;if(we&&I)throw new ye.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(I&&I.length!==_.length)throw new ye.InvalidArgument("Arguments objects and keys must have the same length");var xe=_.length,we=we&&de?_.map(us(we)):_;return P.core.mutate({trans:ae,type:"put",keys:I,values:we,wantResults:U}).then(function(Se){var pe=Se.numFailures,Ce=Se.results,_e=Se.lastResult,Se=Se.failures;if(pe===0)return U?Ce:_e;throw new ue("".concat(P.name,".bulkPut(): ").concat(pe," of ").concat(xe," operations failed"),Se)})})},Kr.prototype.bulkUpdate=function(_){var C=this,N=this.core,P=_.map(function(ae){return ae.key}),I=_.map(function(ae){return ae.changes}),U=[];return this._trans("readwrite",function(ae){return N.getMany({trans:ae,keys:P,cache:"clone"}).then(function(de){var xe=[],we=[];_.forEach(function(pe,Ce){var _e=pe.key,Se=pe.changes,Ee=de[Ce];if(Ee){for(var ke=0,Ne=Object.keys(Se);ke<Ne.length;ke++){var Le=Ne[ke],He=Se[Le];if(Le===C.schema.primKey.keyPath){if(Yt(He,_e)!==0)throw new ye.Constraint("Cannot update primary key in bulkUpdate()")}else O(Ee,Le,He)}U.push(Ce),xe.push(_e),we.push(Ee)}});var Te=xe.length;return N.mutate({trans:ae,type:"put",keys:xe,values:we,updates:{keys:P,changeSpecs:I}}).then(function(pe){var Ce=pe.numFailures,_e=pe.failures;if(Ce===0)return Te;for(var Se=0,Ee=Object.keys(_e);Se<Ee.length;Se++){var ke,Ne=Ee[Se],Le=U[Number(Ne)];Le!=null&&(ke=_e[Ne],delete _e[Ne],_e[Le]=ke)}throw new ue("".concat(C.name,".bulkUpdate(): ").concat(Ce," of ").concat(Te," operations failed"),_e)})})})},Kr.prototype.bulkDelete=function(_){var C=this,N=_.length;return this._trans("readwrite",function(P){return C.core.mutate({trans:P,type:"delete",keys:_}).then(function(I){return Oa(C,_,I)})}).then(function(ae){var I=ae.numFailures,U=ae.lastResult,ae=ae.failures;if(I===0)return U;throw new ue("".concat(C.name,".bulkDelete(): ").concat(I," of ").concat(N," operations failed"),ae)})},Kr);function Kr(){}function Lu(_){function C(ae,de){if(de){for(var xe=arguments.length,we=new Array(xe-1);--xe;)we[xe-1]=arguments[xe];return N[ae].subscribe.apply(null,we),_}if(typeof ae=="string")return N[ae]}var N={};C.addEventType=U;for(var P=1,I=arguments.length;P<I;++P)U(arguments[P]);return C;function U(ae,de,xe){if(typeof ae!="object"){var we;de=de||fr;var Te={subscribers:[],fire:xe=xe||X,subscribe:function(pe){Te.subscribers.indexOf(pe)===-1&&(Te.subscribers.push(pe),Te.fire=de(Te.fire,pe))},unsubscribe:function(pe){Te.subscribers=Te.subscribers.filter(function(Ce){return Ce!==pe}),Te.fire=Te.subscribers.reduce(de,xe)}};return N[ae]=C[ae]=Te}i(we=ae).forEach(function(pe){var Ce=we[pe];if(l(Ce))U(pe,we[pe][0],we[pe][1]);else{if(Ce!=="asap")throw new ye.InvalidArgument("Invalid event config");var _e=U(pe,zt,function(){for(var Se=arguments.length,Ee=new Array(Se);Se--;)Ee[Se]=arguments[Se];_e.subscribers.forEach(function(ke){R(function(){ke.apply(null,Ee)})})})}})}}function ba(_,C){return x(C).from({prototype:_}),C}function To(_,C){return!(_.filter||_.algorithm||_.or)&&(C?_.justLimit:!_.replayFilter)}function Sf(_,C){_.filter=cs(_.filter,C)}function Bu(_,C,N){var P=_.replayFilter;_.replayFilter=P?function(){return cs(P(),C())}:C,_.justLimit=N&&!P}function Gi(_,C){if(_.isPrimKey)return C.primaryKey;var N=C.getIndexByKeyPath(_.index);if(!N)throw new ye.Schema("KeyPath "+_.index+" on object store "+C.name+" is not indexed");return N}function q0(_,C,N){var P=Gi(_,C.schema);return C.openCursor({trans:N,values:!_.keysOnly,reverse:_.dir==="prev",unique:!!_.unique,query:{index:P,range:_.range}})}function Uu(_,C,N,P){var I=_.replayFilter?cs(_.filter,_.replayFilter()):_.filter;if(_.or){var U={},ae=function(de,xe,we){var Te,pe;I&&!I(xe,we,function(Ce){return xe.stop(Ce)},function(Ce){return xe.fail(Ce)})||((pe=""+(Te=xe.primaryKey))=="[object ArrayBuffer]"&&(pe=""+new Uint8Array(Te)),p(U,pe)||(U[pe]=!0,C(de,xe,we)))};return Promise.all([_.or._iterate(ae,N),ll(q0(_,P,N),_.algorithm,ae,!_.keysOnly&&_.valueMapper)])}return ll(q0(_,P,N),cs(_.algorithm,I),C,!_.keysOnly&&_.valueMapper)}function ll(_,C,N,P){var I=Gr(P?function(U,ae,de){return N(P(U),ae,de)}:N);return _.then(function(U){if(U)return U.start(function(){var ae=function(){return U.continue()};C&&!C(U,function(de){return ae=de},function(de){U.stop(de),ae=X},function(de){U.fail(de),ae=X})||I(U.value,U,function(de){return ae=de}),ae()})})}var G1=(Rr.prototype._read=function(_,C){var N=this._ctx;return N.error?N.table._trans(null,rt.bind(null,N.error)):N.table._trans("readonly",_).then(C)},Rr.prototype._write=function(_){var C=this._ctx;return C.error?C.table._trans(null,rt.bind(null,C.error)):C.table._trans("readwrite",_,"locked")},Rr.prototype._addAlgorithm=function(_){var C=this._ctx;C.algorithm=cs(C.algorithm,_)},Rr.prototype._iterate=function(_,C){return Uu(this._ctx,_,C,this._ctx.table.core)},Rr.prototype.clone=function(_){var C=Object.create(this.constructor.prototype),N=Object.create(this._ctx);return _&&u(N,_),C._ctx=N,C},Rr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rr.prototype.each=function(_){var C=this._ctx;return this._read(function(N){return Uu(C,_,N,C.table.core)})},Rr.prototype.count=function(_){var C=this;return this._read(function(N){var P=C._ctx,I=P.table.core;if(To(P,!0))return I.count({trans:N,query:{index:Gi(P,I.schema),range:P.range}}).then(function(ae){return Math.min(ae,P.limit)});var U=0;return Uu(P,function(){return++U,!1},N,I).then(function(){return U})}).then(_)},Rr.prototype.sortBy=function(_,C){var N=_.split(".").reverse(),P=N[0],I=N.length-1;function U(xe,we){return we?U(xe[N[we]],we-1):xe[P]}var ae=this._ctx.dir==="next"?1:-1;function de(xe,we){return Yt(U(xe,I),U(we,I))*ae}return this.toArray(function(xe){return xe.sort(de)}).then(C)},Rr.prototype.toArray=function(_){var C=this;return this._read(function(N){var P=C._ctx;if(P.dir==="next"&&To(P,!0)&&0<P.limit){var I=P.valueMapper,U=Gi(P,P.table.core.schema);return P.table.core.query({trans:N,limit:P.limit,values:!0,query:{index:U,range:P.range}}).then(function(de){return de=de.result,I?de.map(I):de})}var ae=[];return Uu(P,function(de){return ae.push(de)},N,P.table.core).then(function(){return ae})},_)},Rr.prototype.offset=function(_){var C=this._ctx;return _<=0||(C.offset+=_,To(C)?Bu(C,function(){var N=_;return function(P,I){return N===0||(N===1?--N:I(function(){P.advance(N),N=0}),!1)}}):Bu(C,function(){var N=_;return function(){return--N<0}})),this},Rr.prototype.limit=function(_){return this._ctx.limit=Math.min(this._ctx.limit,_),Bu(this._ctx,function(){var C=_;return function(N,P,I){return--C<=0&&P(I),0<=C}},!0),this},Rr.prototype.until=function(_,C){return Sf(this._ctx,function(N,P,I){return!_(N.value)||(P(I),C)}),this},Rr.prototype.first=function(_){return this.limit(1).toArray(function(C){return C[0]}).then(_)},Rr.prototype.last=function(_){return this.reverse().first(_)},Rr.prototype.filter=function(_){var C;return Sf(this._ctx,function(N){return _(N.value)}),(C=this._ctx).isMatch=cs(C.isMatch,_),this},Rr.prototype.and=function(_){return this.filter(_)},Rr.prototype.or=function(_){return new this.db.WhereClause(this._ctx.table,_,this)},Rr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rr.prototype.desc=function(){return this.reverse()},Rr.prototype.eachKey=function(_){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(N,P){_(P.key,P)})},Rr.prototype.eachUniqueKey=function(_){return this._ctx.unique="unique",this.eachKey(_)},Rr.prototype.eachPrimaryKey=function(_){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(N,P){_(P.primaryKey,P)})},Rr.prototype.keys=function(_){var C=this._ctx;C.keysOnly=!C.isMatch;var N=[];return this.each(function(P,I){N.push(I.key)}).then(function(){return N}).then(_)},Rr.prototype.primaryKeys=function(_){var C=this._ctx;if(C.dir==="next"&&To(C,!0)&&0<C.limit)return this._read(function(P){var I=Gi(C,C.table.core.schema);return C.table.core.query({trans:P,values:!1,limit:C.limit,query:{index:I,range:C.range}})}).then(function(P){return P.result}).then(_);C.keysOnly=!C.isMatch;var N=[];return this.each(function(P,I){N.push(I.primaryKey)}).then(function(){return N}).then(_)},Rr.prototype.uniqueKeys=function(_){return this._ctx.unique="unique",this.keys(_)},Rr.prototype.firstKey=function(_){return this.limit(1).keys(function(C){return C[0]}).then(_)},Rr.prototype.lastKey=function(_){return this.reverse().firstKey(_)},Rr.prototype.distinct=function(){var _=this._ctx,_=_.index&&_.table.schema.idxByName[_.index];if(!_||!_.multi)return this;var C={};return Sf(this._ctx,function(I){var P=I.primaryKey.toString(),I=p(C,P);return C[P]=!0,!I}),this},Rr.prototype.modify=function(_){var C=this,N=this._ctx;return this._write(function(P){var I=typeof _=="function"?_:function(Ee){return bf(Ee,_)},U=N.table.core,we=U.schema.primaryKey,ae=we.outbound,de=we.extractKey,xe=200,we=C.db._options.modifyChunkSize;we&&(xe=typeof we=="object"?we[U.name]||we["*"]||200:we);function Te(Ee,Le){var Ne=Le.failures,Le=Le.numFailures;Ce+=Ee-Le;for(var He=0,Ye=i(Ne);He<Ye.length;He++){var lt=Ye[He];pe.push(Ne[lt])}}var pe=[],Ce=0,_e=[],Se=_===G0;return C.clone().primaryKeys().then(function(Ee){function ke(Le){var He=Math.min(xe,Ee.length-Le),Ye=Ee.slice(Le,Le+He);return(Se?Promise.resolve([]):U.getMany({trans:P,keys:Ye,cache:"immutable"})).then(function(lt){var gt=[],nt=[],dt=ae?[]:null,pt=Se?Ye:[];if(!Se)for(var at=0;at<He;++at){var bt=lt[at],Vt={value:ve(bt),primKey:Ee[Le+at]};I.call(Vt,Vt.value,Vt)!==!1&&(Vt.value==null?pt.push(Ee[Le+at]):ae||Yt(de(bt),de(Vt.value))===0?(nt.push(Vt.value),ae&&dt.push(Ee[Le+at])):(pt.push(Ee[Le+at]),gt.push(Vt.value)))}return Promise.resolve(0<gt.length&&U.mutate({trans:P,type:"add",values:gt}).then(function(sr){for(var cr in sr.failures)pt.splice(parseInt(cr),1);Te(gt.length,sr)})).then(function(){return(0<nt.length||Ne&&typeof _=="object")&&U.mutate({trans:P,type:"put",keys:dt,values:nt,criteria:Ne,changeSpec:typeof _!="function"&&_,isAdditionalChunk:0<Le}).then(function(sr){return Te(nt.length,sr)})}).then(function(){return(0<pt.length||Ne&&Se)&&U.mutate({trans:P,type:"delete",keys:pt,criteria:Ne,isAdditionalChunk:0<Le}).then(function(sr){return Oa(N.table,pt,sr)}).then(function(sr){return Te(pt.length,sr)})}).then(function(){return Ee.length>Le+He&&ke(Le+xe)})})}var Ne=To(N)&&N.limit===1/0&&(typeof _!="function"||Se)&&{index:N.index,range:N.range};return ke(0).then(function(){if(0<pe.length)throw new W("Error modifying one or more objects",pe,Ce,_e);return Ee.length})})})},Rr.prototype.delete=function(){var _=this._ctx,C=_.range;return!To(_)||_.table.schema.yProps||!_.isPrimKey&&C.type!==3?this.modify(G0):this._write(function(N){var P=_.table.core.schema.primaryKey,I=C;return _.table.core.count({trans:N,query:{index:P,range:I}}).then(function(U){return _.table.core.mutate({trans:N,type:"deleteRange",range:I}).then(function(xe){var de=xe.failures,xe=xe.numFailures;if(xe)throw new W("Could not delete some values",Object.keys(de).map(function(we){return de[we]}),U-xe);return U-xe})})})},Rr);function Rr(){}var G0=function(_,C){return C.value=null};function W0(_,C){return _<C?-1:_===C?0:1}function W1(_,C){return C<_?-1:_===C?0:1}function ds(_,C,N){return _=_ instanceof cl?new _.Collection(_):_,_._ctx.error=new(N||TypeError)(C),_}function Wi(_){return new _.Collection(_,function(){return Ef("")}).limit(0)}function Ts(_,C,N,P){var I,U,ae,de,xe,we,Te,pe=N.length;if(!N.every(function(Se){return typeof Se=="string"}))return ds(_,kt);function Ce(Se){I=Se==="next"?function(ke){return ke.toUpperCase()}:function(ke){return ke.toLowerCase()},U=Se==="next"?function(ke){return ke.toLowerCase()}:function(ke){return ke.toUpperCase()},ae=Se==="next"?W0:W1;var Ee=N.map(function(ke){return{lower:U(ke),upper:I(ke)}}).sort(function(ke,Ne){return ae(ke.lower,Ne.lower)});de=Ee.map(function(ke){return ke.upper}),xe=Ee.map(function(ke){return ke.lower}),Te=(we=Se)==="next"?"":P}Ce("next"),_=new _.Collection(_,function(){return ui(de[0],xe[pe-1]+P)}),_._ondirectionchange=function(Se){Ce(Se)};var _e=0;return _._addAlgorithm(function(Se,Ee,ke){var Ne=Se.key;if(typeof Ne!="string")return!1;var Le=U(Ne);if(C(Le,xe,_e))return!0;for(var He=null,Ye=_e;Ye<pe;++Ye){var lt=(function(gt,nt,dt,pt,at,bt){for(var Vt=Math.min(gt.length,pt.length),sr=-1,cr=0;cr<Vt;++cr){var Ta=nt[cr];if(Ta!==pt[cr])return at(gt[cr],dt[cr])<0?gt.substr(0,cr)+dt[cr]+dt.substr(cr+1):at(gt[cr],pt[cr])<0?gt.substr(0,cr)+pt[cr]+dt.substr(cr+1):0<=sr?gt.substr(0,sr)+nt[sr]+dt.substr(sr+1):null;at(gt[cr],Ta)<0&&(sr=cr)}return Vt<pt.length&&bt==="next"?gt+dt.substr(gt.length):Vt<gt.length&&bt==="prev"?gt.substr(0,dt.length):sr<0?null:gt.substr(0,sr)+pt[sr]+dt.substr(sr+1)})(Ne,Le,de[Ye],xe[Ye],ae,we);lt===null&&He===null?_e=Ye+1:(He===null||0<ae(He,lt))&&(He=lt)}return Ee(He!==null?function(){Se.continue(He+Te)}:ke),!1}),_}function ui(_,C,N,P){return{type:2,lower:_,upper:C,lowerOpen:N,upperOpen:P}}function Ef(_){return{type:1,lower:_,upper:_}}var cl=(Object.defineProperty(_n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_n.prototype.between=function(_,C,N,P){N=N!==!1,P=P===!0;try{return 0<this._cmp(_,C)||this._cmp(_,C)===0&&(N||P)&&(!N||!P)?Wi(this):new this.Collection(this,function(){return ui(_,C,!N,!P)})}catch{return ds(this,ct)}},_n.prototype.equals=function(_){return _==null?ds(this,ct):new this.Collection(this,function(){return Ef(_)})},_n.prototype.above=function(_){return _==null?ds(this,ct):new this.Collection(this,function(){return ui(_,void 0,!0)})},_n.prototype.aboveOrEqual=function(_){return _==null?ds(this,ct):new this.Collection(this,function(){return ui(_,void 0,!1)})},_n.prototype.below=function(_){return _==null?ds(this,ct):new this.Collection(this,function(){return ui(void 0,_,!1,!0)})},_n.prototype.belowOrEqual=function(_){return _==null?ds(this,ct):new this.Collection(this,function(){return ui(void 0,_)})},_n.prototype.startsWith=function(_){return typeof _!="string"?ds(this,kt):this.between(_,_+Ze,!0,!0)},_n.prototype.startsWithIgnoreCase=function(_){return _===""?this.startsWith(_):Ts(this,function(C,N){return C.indexOf(N[0])===0},[_],Ze)},_n.prototype.equalsIgnoreCase=function(_){return Ts(this,function(C,N){return C===N[0]},[_],"")},_n.prototype.anyOfIgnoreCase=function(){var _=Me.apply(J,arguments);return _.length===0?Wi(this):Ts(this,function(C,N){return N.indexOf(C)!==-1},_,"")},_n.prototype.startsWithAnyOfIgnoreCase=function(){var _=Me.apply(J,arguments);return _.length===0?Wi(this):Ts(this,function(C,N){return N.some(function(P){return C.indexOf(P)===0})},_,Ze)},_n.prototype.anyOf=function(){var _=this,C=Me.apply(J,arguments),N=this._cmp;try{C.sort(N)}catch{return ds(this,ct)}if(C.length===0)return Wi(this);var P=new this.Collection(this,function(){return ui(C[0],C[C.length-1])});P._ondirectionchange=function(U){N=U==="next"?_._ascending:_._descending,C.sort(N)};var I=0;return P._addAlgorithm(function(U,ae,de){for(var xe=U.key;0<N(xe,C[I]);)if(++I===C.length)return ae(de),!1;return N(xe,C[I])===0||(ae(function(){U.continue(C[I])}),!1)}),P},_n.prototype.notEqual=function(_){return this.inAnyRange([[-1/0,_],[_,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_n.prototype.noneOf=function(){var _=Me.apply(J,arguments);if(_.length===0)return new this.Collection(this);try{_.sort(this._ascending)}catch{return ds(this,ct)}var C=_.reduce(function(N,P){return N?N.concat([[N[N.length-1][1],P]]):[[-1/0,P]]},null);return C.push([_[_.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},_n.prototype.inAnyRange=function(Ne,C){var N=this,P=this._cmp,I=this._ascending,U=this._descending,ae=this._min,de=this._max;if(Ne.length===0)return Wi(this);if(!Ne.every(function(Le){return Le[0]!==void 0&&Le[1]!==void 0&&I(Le[0],Le[1])<=0}))return ds(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ye.InvalidArgument);var xe=!C||C.includeLowers!==!1,we=C&&C.includeUppers===!0,Te,pe=I;function Ce(Le,He){return pe(Le[0],He[0])}try{(Te=Ne.reduce(function(Le,He){for(var Ye=0,lt=Le.length;Ye<lt;++Ye){var gt=Le[Ye];if(P(He[0],gt[1])<0&&0<P(He[1],gt[0])){gt[0]=ae(gt[0],He[0]),gt[1]=de(gt[1],He[1]);break}}return Ye===lt&&Le.push(He),Le},[])).sort(Ce)}catch{return ds(this,ct)}var _e=0,Se=we?function(Le){return 0<I(Le,Te[_e][1])}:function(Le){return 0<=I(Le,Te[_e][1])},Ee=xe?function(Le){return 0<U(Le,Te[_e][0])}:function(Le){return 0<=U(Le,Te[_e][0])},ke=Se,Ne=new this.Collection(this,function(){return ui(Te[0][0],Te[Te.length-1][1],!xe,!we)});return Ne._ondirectionchange=function(Le){pe=Le==="next"?(ke=Se,I):(ke=Ee,U),Te.sort(Ce)},Ne._addAlgorithm(function(Le,He,Ye){for(var lt,gt=Le.key;ke(gt);)if(++_e===Te.length)return He(Ye),!1;return!Se(lt=gt)&&!Ee(lt)||(N._cmp(gt,Te[_e][1])===0||N._cmp(gt,Te[_e][0])===0||He(function(){pe===I?Le.continue(Te[_e][0]):Le.continue(Te[_e][1])}),!1)}),Ne},_n.prototype.startsWithAnyOf=function(){var _=Me.apply(J,arguments);return _.every(function(C){return typeof C=="string"})?_.length===0?Wi(this):this.inAnyRange(_.map(function(C){return[C,C+Ze]})):ds(this,"startsWithAnyOf() only works with strings")},_n);function _n(){}function qs(_){return Gr(function(C){return ul(C),_(C.target.error),!1})}function ul(_){_.stopPropagation&&_.stopPropagation(),_.preventDefault&&_.preventDefault()}var mc="storagemutated",dl="x-storagemutated-1",Sa=Lu(null,mc),K0=(Xa.prototype._lock=function(){return j(!vt.global),++this._reculock,this._reculock!==1||vt.global||(vt.lockOwnerFor=this),this},Xa.prototype._unlock=function(){if(j(!vt.global),--this._reculock==0)for(vt.global||(vt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var _=this._blockedFuncs.shift();try{De(_[1],_[0])}catch{}}return this},Xa.prototype._locked=function(){return this._reculock&&vt.lockOwnerFor!==this},Xa.prototype.create=function(_){var C=this;if(!this.mode)return this;var N=this.db.idbdb,P=this.db._state.dbOpenError;if(j(!this.idbtrans),!_&&!N)switch(P&&P.name){case"DatabaseClosedError":throw new ye.DatabaseClosed(P);case"MissingAPIError":throw new ye.MissingAPI(P.message,P);default:throw new ye.OpenFailed(P)}if(!this.active)throw new ye.TransactionInactive;return j(this._completion._state===null),(_=this.idbtrans=_||(this.db.core||N).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Gr(function(I){ul(I),C._reject(_.error)}),_.onabort=Gr(function(I){ul(I),C.active&&C._reject(new ye.Abort(_.error)),C.active=!1,C.on("abort").fire(I)}),_.oncomplete=Gr(function(){C.active=!1,C._resolve(),"mutatedParts"in _&&Sa.storagemutated.fire(_.mutatedParts)}),this},Xa.prototype._promise=function(_,C,N){var P=this;if(_==="readwrite"&&this.mode!=="readwrite")return rt(new ye.ReadOnly("Transaction is readonly"));if(!this.active)return rt(new ye.TransactionInactive);if(this._locked())return new mt(function(U,ae){P._blockedFuncs.push([function(){P._promise(_,C,N).then(U,ae)},vt])});if(N)return ee(function(){var U=new mt(function(ae,de){P._lock();var xe=C(ae,de,P);xe&&xe.then&&xe.then(ae,de)});return U.finally(function(){return P._unlock()}),U._lib=!0,U});var I=new mt(function(U,ae){var de=C(U,ae,P);de&&de.then&&de.then(U,ae)});return I._lib=!0,I},Xa.prototype._root=function(){return this.parent?this.parent._root():this},Xa.prototype.waitFor=function(_){var C,N=this._root(),P=mt.resolve(_);N._waitingFor?N._waitingFor=N._waitingFor.then(function(){return P}):(N._waitingFor=P,N._waitingQueue=[],C=N.idbtrans.objectStore(N.storeNames[0]),(function U(){for(++N._spinCount;N._waitingQueue.length;)N._waitingQueue.shift()();N._waitingFor&&(C.get(-1/0).onsuccess=U)})());var I=N._waitingFor;return new mt(function(U,ae){P.then(function(de){return N._waitingQueue.push(Gr(U.bind(null,de)))},function(de){return N._waitingQueue.push(Gr(ae.bind(null,de)))}).finally(function(){N._waitingFor===I&&(N._waitingFor=null)})})},Xa.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ye.Abort))},Xa.prototype.table=function(_){var C=this._memoizedTables||(this._memoizedTables={});if(p(C,_))return C[_];var N=this.schema[_];if(!N)throw new ye.NotFound("Table "+_+" not part of transaction");return N=new this.db.Table(_,N,this),N.core=this.db.core.table(_),C[_]=N},Xa);function Xa(){}function di(_,C,N,P,I,U,ae,de){return{name:_,keyPath:C,unique:N,multi:P,auto:I,compound:U,src:(N&&!ae?"&":"")+(P?"*":"")+(I?"++":"")+Tf(C),type:de}}function Tf(_){return typeof _=="string"?_:_?"["+[].join.call(_,"+")+"]":""}function pc(_,C,N){return{name:_,primKey:C,indexes:N,mappedClass:null,idxByName:(P=function(I){return[I.name,I]},N.reduce(function(I,U,ae){return ae=P(U,ae),ae&&(I[ae[0]]=ae[1]),I},{}))};var P}var gc=function(_){try{return _.only([[]]),gc=function(){return[[]]},[[]]}catch{return gc=function(){return Ze},Ze}};function vc(_){return _==null?function(){}:typeof _=="string"?(C=_).split(".").length===1?function(N){return N[C]}:function(N){return D(N,C)}:function(N){return D(N,_)};var C}function zu(_){return[].slice.call(_)}var Xg=0;function ra(_){return _==null?":id":typeof _=="string"?_:"[".concat(_.join("+"),"]")}function fl(_,C,xe){function P(ke){if(ke.type===3)return null;if(ke.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _e=ke.lower,Se=ke.upper,Ee=ke.lowerOpen,ke=ke.upperOpen;return _e===void 0?Se===void 0?null:C.upperBound(Se,!!ke):Se===void 0?C.lowerBound(_e,!!Ee):C.bound(_e,Se,!!Ee,!!ke)}function I(Ce){var _e,Se=Ce.name;return{name:Se,schema:Ce,mutate:function(Ee){var ke=Ee.trans,Ne=Ee.type,Le=Ee.keys,He=Ee.values,Ye=Ee.range;return new Promise(function(lt,gt){lt=Gr(lt);var nt=ke.objectStore(Se),dt=nt.keyPath==null,pt=Ne==="put"||Ne==="add";if(!pt&&Ne!=="delete"&&Ne!=="deleteRange")throw new Error("Invalid operation type: "+Ne);var at,bt=(Le||He||{length:1}).length;if(Le&&He&&Le.length!==He.length)throw new Error("Given keys array must have same length as given values array.");if(bt===0)return lt({numFailures:0,failures:{},results:[],lastResult:void 0});function Vt(aa){++Ta,ul(aa)}var sr=[],cr=[],Ta=0;if(Ne==="deleteRange"){if(Ye.type===4)return lt({numFailures:Ta,failures:cr,results:[],lastResult:void 0});Ye.type===3?sr.push(at=nt.clear()):sr.push(at=nt.delete(P(Ye)))}else{var dt=pt?dt?[He,Le]:[He,null]:[Le,null],er=dt[0],na=dt[1];if(pt)for(var jn=0;jn<bt;++jn)sr.push(at=na&&na[jn]!==void 0?nt[Ne](er[jn],na[jn]):nt[Ne](er[jn])),at.onerror=Vt;else for(jn=0;jn<bt;++jn)sr.push(at=nt[Ne](er[jn])),at.onerror=Vt}function Ku(aa){aa=aa.target.result,sr.forEach(function(ks,lm){return ks.error!=null&&(cr[lm]=ks.error)}),lt({numFailures:Ta,failures:cr,results:Ne==="delete"?Le:sr.map(function(ks){return ks.result}),lastResult:aa})}at.onerror=function(aa){Vt(aa),Ku(aa)},at.onsuccess=Ku})},getMany:function(Ee){var ke=Ee.trans,Ne=Ee.keys;return new Promise(function(Le,He){Le=Gr(Le);for(var Ye,lt=ke.objectStore(Se),gt=Ne.length,nt=new Array(gt),dt=0,pt=0,at=function(sr){sr=sr.target,nt[sr._pos]=sr.result,++pt===dt&&Le(nt)},bt=qs(He),Vt=0;Vt<gt;++Vt)Ne[Vt]!=null&&((Ye=lt.get(Ne[Vt]))._pos=Vt,Ye.onsuccess=at,Ye.onerror=bt,++dt);dt===0&&Le(nt)})},get:function(Ee){var ke=Ee.trans,Ne=Ee.key;return new Promise(function(Le,He){Le=Gr(Le);var Ye=ke.objectStore(Se).get(Ne);Ye.onsuccess=function(lt){return Le(lt.target.result)},Ye.onerror=qs(He)})},query:(_e=we,function(Ee){return new Promise(function(ke,Ne){ke=Gr(ke);var Le,He,Ye,dt=Ee.trans,lt=Ee.values,gt=Ee.limit,at=Ee.query,nt=gt===1/0?void 0:gt,pt=at.index,at=at.range,dt=dt.objectStore(Se),pt=pt.isPrimaryKey?dt:dt.index(pt.name),at=P(at);if(gt===0)return ke({result:[]});_e?((nt=lt?pt.getAll(at,nt):pt.getAllKeys(at,nt)).onsuccess=function(bt){return ke({result:bt.target.result})},nt.onerror=qs(Ne)):(Le=0,He=!lt&&"openKeyCursor"in pt?pt.openKeyCursor(at):pt.openCursor(at),Ye=[],He.onsuccess=function(bt){var Vt=He.result;return Vt?(Ye.push(lt?Vt.value:Vt.primaryKey),++Le===gt?ke({result:Ye}):void Vt.continue()):ke({result:Ye})},He.onerror=qs(Ne))})}),openCursor:function(Ee){var ke=Ee.trans,Ne=Ee.values,Le=Ee.query,He=Ee.reverse,Ye=Ee.unique;return new Promise(function(lt,gt){lt=Gr(lt);var pt=Le.index,nt=Le.range,dt=ke.objectStore(Se),dt=pt.isPrimaryKey?dt:dt.index(pt.name),pt=He?Ye?"prevunique":"prev":Ye?"nextunique":"next",at=!Ne&&"openKeyCursor"in dt?dt.openKeyCursor(P(nt),pt):dt.openCursor(P(nt),pt);at.onerror=qs(gt),at.onsuccess=Gr(function(bt){var Vt,sr,cr,Ta,er=at.result;er?(er.___id=++Xg,er.done=!1,Vt=er.continue.bind(er),sr=(sr=er.continuePrimaryKey)&&sr.bind(er),cr=er.advance.bind(er),Ta=function(){throw new Error("Cursor not stopped")},er.trans=ke,er.stop=er.continue=er.continuePrimaryKey=er.advance=function(){throw new Error("Cursor not started")},er.fail=Gr(gt),er.next=function(){var na=this,jn=1;return this.start(function(){return jn--?na.continue():na.stop()}).then(function(){return na})},er.start=function(na){function jn(){if(at.result)try{na()}catch(aa){er.fail(aa)}else er.done=!0,er.start=function(){throw new Error("Cursor behind last entry")},er.stop()}var Ku=new Promise(function(aa,ks){aa=Gr(aa),at.onerror=qs(ks),er.fail=ks,er.stop=function(lm){er.stop=er.continue=er.continuePrimaryKey=er.advance=Ta,aa(lm)}});return at.onsuccess=Gr(function(aa){at.onsuccess=jn,jn()}),er.continue=Vt,er.continuePrimaryKey=sr,er.advance=cr,jn(),Ku},lt(er)):lt(null)},gt)})},count:function(Ee){var ke=Ee.query,Ne=Ee.trans,Le=ke.index,He=ke.range;return new Promise(function(Ye,lt){var gt=Ne.objectStore(Se),nt=Le.isPrimaryKey?gt:gt.index(Le.name),gt=P(He),nt=gt?nt.count(gt):nt.count();nt.onsuccess=Gr(function(dt){return Ye(dt.target.result)}),nt.onerror=qs(lt)})}}}var U,ae,de,Te=(ae=xe,de=zu((U=_).objectStoreNames),{schema:{name:U.name,tables:de.map(function(Ce){return ae.objectStore(Ce)}).map(function(Ce){var _e=Ce.keyPath,ke=Ce.autoIncrement,Se=l(_e),Ee={},ke={name:Ce.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_e==null,compound:Se,keyPath:_e,autoIncrement:ke,unique:!0,extractKey:vc(_e)},indexes:zu(Ce.indexNames).map(function(Ne){return Ce.index(Ne)}).map(function(Ye){var Le=Ye.name,He=Ye.unique,lt=Ye.multiEntry,Ye=Ye.keyPath,lt={name:Le,compound:l(Ye),keyPath:Ye,unique:He,multiEntry:lt,extractKey:vc(Ye)};return Ee[ra(Ye)]=lt}),getIndexByKeyPath:function(Ne){return Ee[ra(Ne)]}};return Ee[":id"]=ke.primaryKey,_e!=null&&(Ee[ra(_e)]=ke.primaryKey),ke})},hasGetAll:0<de.length&&"getAll"in ae.objectStore(de[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),xe=Te.schema,we=Te.hasGetAll,Te=xe.tables.map(I),pe={};return Te.forEach(function(Ce){return pe[Ce.name]=Ce}),{stack:"dbcore",transaction:_.transaction.bind(_),table:function(Ce){if(!pe[Ce])throw new Error("Table '".concat(Ce,"' not found"));return pe[Ce]},MIN_KEY:-1/0,MAX_KEY:gc(C),schema:xe}}function kf(_,C,N,P){var I=N.IDBKeyRange;return N.indexedDB,{dbcore:(P=fl(C,I,P),_.dbcore.reduce(function(U,ae){return ae=ae.create,n(n({},U),ae(U))},P))}}function ko(_,P){var N=P.db,P=kf(_._middlewares,N,_._deps,P);_.core=P.dbcore,_.tables.forEach(function(I){var U=I.name;_.core.schema.tables.some(function(ae){return ae.name===U})&&(I.core=_.core.table(U),_[U]instanceof _.Table&&(_[U].core=I.core))})}function Cf(_,C,N,P){N.forEach(function(I){var U=P[I];C.forEach(function(ae){var de=(function xe(we,Te){return b(we,Te)||(we=d(we))&&xe(we,Te)})(ae,I);(!de||"value"in de&&de.value===void 0)&&(ae===_.Transaction.prototype||ae instanceof _.Transaction?w(ae,I,{get:function(){return this.table(I)},set:function(xe){y(this,I,{value:xe,writable:!0,configurable:!0,enumerable:!0})}}):ae[I]=new _.Table(I,U))})})}function Vu(_,C){C.forEach(function(N){for(var P in N)N[P]instanceof _.Table&&delete N[P]})}function X0(_,C){return _._cfg.version-C._cfg.version}function Hu(_,C,N,P){var I=_._dbSchema;N.objectStoreNames.contains("$meta")&&!I.$meta&&(I.$meta=pc("$meta",Qg("")[0],[]),_._storeNames.push("$meta"));var U=_._createTransaction("readwrite",_._storeNames,I);U.create(N),U._completion.catch(P);var ae=U._reject.bind(U),de=vt.transless||vt;ee(function(){return vt.trans=U,vt.transless=de,C!==0?(ko(_,N),we=C,((xe=U).storeNames.includes("$meta")?xe.table("$meta").get("version").then(function(Te){return Te??we}):mt.resolve(we)).then(function(Te){return Ce=Te,_e=U,Se=N,Ee=[],Te=(pe=_)._versions,ke=pe._dbSchema=yc(0,pe.idbdb,Se),(Te=Te.filter(function(Ne){return Ne._cfg.version>=Ce})).length!==0?(Te.forEach(function(Ne){Ee.push(function(){var Le=ke,He=Ne._cfg.dbschema;jf(pe,Le,Se),jf(pe,He,Se),ke=pe._dbSchema=He;var Ye=Mf(Le,He);Ye.add.forEach(function(pt){Y0(Se,pt[0],pt[1].primKey,pt[1].indexes)}),Ye.change.forEach(function(pt){if(pt.recreate)throw new ye.Upgrade("Not yet support for changing primary key");var at=Se.objectStore(pt.name);pt.add.forEach(function(bt){return Nf(at,bt)}),pt.change.forEach(function(bt){at.deleteIndex(bt.name),Nf(at,bt)}),pt.del.forEach(function(bt){return at.deleteIndex(bt)})});var lt=Ne._cfg.contentUpgrade;if(lt&&Ne._cfg.version>Ce){ko(pe,Se),_e._memoizedTables={};var gt=B(He);Ye.del.forEach(function(pt){gt[pt]=Le[pt]}),Vu(pe,[pe.Transaction.prototype]),Cf(pe,[pe.Transaction.prototype],i(gt),gt),_e.schema=gt;var nt,dt=H(lt);return dt&&se(),Ye=mt.follow(function(){var pt;(nt=lt(_e))&&dt&&(pt=ce.bind(null,null),nt.then(pt,pt))}),nt&&typeof nt.then=="function"?mt.resolve(nt):Ye.then(function(){return nt})}}),Ee.push(function(Le){var He,Ye,lt=Ne._cfg.dbschema;He=lt,Ye=Le,[].slice.call(Ye.db.objectStoreNames).forEach(function(gt){return He[gt]==null&&Ye.db.deleteObjectStore(gt)}),Vu(pe,[pe.Transaction.prototype]),Cf(pe,[pe.Transaction.prototype],pe._storeNames,pe._dbSchema),_e.schema=pe._dbSchema}),Ee.push(function(Le){pe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(pe.idbdb.version/10)===Ne._cfg.version?(pe.idbdb.deleteObjectStore("$meta"),delete pe._dbSchema.$meta,pe._storeNames=pe._storeNames.filter(function(He){return He!=="$meta"})):Le.objectStore("$meta").put(Ne._cfg.version,"version"))})}),(function Ne(){return Ee.length?mt.resolve(Ee.shift()(_e.idbtrans)).then(Ne):mt.resolve()})().then(function(){Yg(ke,Se)})):mt.resolve();var pe,Ce,_e,Se,Ee,ke}).catch(ae)):(i(I).forEach(function(Te){Y0(N,Te,I[Te].primKey,I[Te].indexes)}),ko(_,N),void mt.follow(function(){return _.on.populate.fire(U)}).catch(ae));var xe,we})}function Af(_,C){Yg(_._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var N=yc(0,_.idbdb,C);jf(_,_._dbSchema,C);for(var P=0,I=Mf(N,_._dbSchema).change;P<I.length;P++){var U=(function(ae){if(ae.change.length||ae.recreate)return console.warn("Unable to patch indexes of table ".concat(ae.name," because it has changes on the type of index or primary key.")),{value:void 0};var de=C.objectStore(ae.name);ae.add.forEach(function(xe){Pt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ae.name,".").concat(xe.src)),Nf(de,xe)})})(I[P]);if(typeof U=="object")return U.value}}function Mf(_,C){var N,P={del:[],add:[],change:[]};for(N in _)C[N]||P.del.push(N);for(N in C){var I=_[N],U=C[N];if(I){var ae={name:N,def:U,recreate:!1,del:[],add:[],change:[]};if(""+(I.primKey.keyPath||"")!=""+(U.primKey.keyPath||"")||I.primKey.auto!==U.primKey.auto)ae.recreate=!0,P.change.push(ae);else{var de=I.idxByName,xe=U.idxByName,we=void 0;for(we in de)xe[we]||ae.del.push(we);for(we in xe){var Te=de[we],pe=xe[we];Te?Te.src!==pe.src&&ae.change.push(pe):ae.add.push(pe)}(0<ae.del.length||0<ae.add.length||0<ae.change.length)&&P.change.push(ae)}}else P.add.push([N,U])}return P}function Y0(_,C,N,P){var I=_.db.createObjectStore(C,N.keyPath?{keyPath:N.keyPath,autoIncrement:N.auto}:{autoIncrement:N.auto});return P.forEach(function(U){return Nf(I,U)}),I}function Yg(_,C){i(_).forEach(function(N){C.db.objectStoreNames.contains(N)||(Pt&&console.debug("Dexie: Creating missing table",N),Y0(C,N,_[N].primKey,_[N].indexes))})}function Nf(_,C){_.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function yc(_,C,N){var P={};return M(C.objectStoreNames,0).forEach(function(I){for(var U=N.objectStore(I),ae=di(Tf(we=U.keyPath),we||"",!0,!1,!!U.autoIncrement,we&&typeof we!="string",!0),de=[],xe=0;xe<U.indexNames.length;++xe){var Te=U.index(U.indexNames[xe]),we=Te.keyPath,Te=di(Te.name,we,!!Te.unique,!!Te.multiEntry,!1,we&&typeof we!="string",!1);de.push(Te)}P[I]=pc(I,ae,de)}),P}function jf(_,C,N){for(var P=N.db.objectStoreNames,I=0;I<P.length;++I){var U=P[I],ae=N.objectStore(U);_._hasGetAll="getAll"in ae;for(var de=0;de<ae.indexNames.length;++de){var xe=ae.indexNames[de],we=ae.index(xe).keyPath,Te=typeof we=="string"?we:"["+M(we).join("+")+"]";!C[U]||(we=C[U].idxByName[Te])&&(we.name=xe,delete C[U].idxByName[Te],C[U].idxByName[xe]=we)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(_._hasGetAll=!1)}function Qg(_){return _.split(",").map(function(C,N){var U=C.split(":"),P=(I=U[1])===null||I===void 0?void 0:I.trim(),I=(C=U[0].trim()).replace(/([&*]|\+\+)/g,""),U=/^\[/.test(I)?I.match(/^\[(.*)\]$/)[1].split("+"):I;return di(I,U||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),l(U),N===0,P)})}var K1=(xc.prototype._createTableSchema=pc,xc.prototype._parseIndexSyntax=Qg,xc.prototype._parseStoresSpec=function(_,C){var N=this;i(_).forEach(function(P){if(_[P]!==null){var I=N._parseIndexSyntax(_[P]),U=I.shift();if(!U)throw new ye.Schema("Invalid schema for table "+P+": "+_[P]);if(U.unique=!0,U.multi)throw new ye.Schema("Primary key cannot be multiEntry*");I.forEach(function(ae){if(ae.auto)throw new ye.Schema("Only primary key can be marked as autoIncrement (++)");if(!ae.keyPath)throw new ye.Schema("Index must have a name and cannot be an empty string")}),I=N._createTableSchema(P,U,I),C[P]=I}})},xc.prototype.stores=function(N){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,N):N;var N=C._versions,P={},I={};return N.forEach(function(U){u(P,U._cfg.storesSource),I=U._cfg.dbschema={},U._parseStoresSpec(P,I)}),C._dbSchema=I,Vu(C,[C._allTables,C,C.Transaction.prototype]),Cf(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],i(I),I),C._storeNames=i(I),this},xc.prototype.upgrade=function(_){return this._cfg.contentUpgrade=Ft(this._cfg.contentUpgrade||X,_),this},xc);function xc(){}function Q0(_,C){var N=_._dbNamesDB;return N||(N=_._dbNamesDB=new fi(Wr,{addons:[],indexedDB:_,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),N.table("dbnames")}function Rf(_){return _&&typeof _.databases=="function"}function J0(_){return ee(function(){return vt.letThrough=!0,_()})}function Z0(_){return!("from"in _)}var Ea=function(_,C){if(!this){var N=new Ea;return _&&"d"in _&&u(N,_),N}u(this,arguments.length?{d:1,from:_,to:1<arguments.length?C:_}:{d:0})};function $u(_,C,N){var P=Yt(C,N);if(!isNaN(P)){if(0<P)throw RangeError();if(Z0(_))return u(_,{from:C,to:N,d:1});var I=_.l,P=_.r;if(Yt(N,_.from)<0)return I?$u(I,C,N):_.l={from:C,to:N,d:1,l:null,r:null},Zg(_);if(0<Yt(C,_.to))return P?$u(P,C,N):_.r={from:C,to:N,d:1,l:null,r:null},Zg(_);Yt(C,_.from)<0&&(_.from=C,_.l=null,_.d=P?P.d+1:1),0<Yt(N,_.to)&&(_.to=N,_.r=null,_.d=_.l?_.l.d+1:1),N=!_.r,I&&!_.l&&hl(_,I),P&&N&&hl(_,P)}}function hl(_,C){Z0(C)||(function N(P,xe){var U=xe.from,ae=xe.to,de=xe.l,xe=xe.r;$u(P,U,ae),de&&N(P,de),xe&&N(P,xe)})(_,C)}function Jg(_,C){var N=Of(C),P=N.next();if(P.done)return!1;for(var I=P.value,U=Of(_),ae=U.next(I.from),de=ae.value;!P.done&&!ae.done;){if(Yt(de.from,I.to)<=0&&0<=Yt(de.to,I.from))return!0;Yt(I.from,de.from)<0?I=(P=N.next(de.from)).value:de=(ae=U.next(I.from)).value}return!1}function Of(_){var C=Z0(_)?null:{s:0,n:_};return{next:function(N){for(var P=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,P)for(;C.n.l&&Yt(N,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!P||Yt(N,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function Zg(_){var C,N,P=(((C=_.r)===null||C===void 0?void 0:C.d)||0)-(((N=_.l)===null||N===void 0?void 0:N.d)||0),I=1<P?"r":P<-1?"l":"";I&&(C=I=="r"?"l":"r",N=n({},_),P=_[I],_.from=P.from,_.to=P.to,_[I]=P[I],N[I]=P[C],(_[C]=N).d=em(N)),_.d=em(_)}function em(N){var C=N.r,N=N.l;return(C?N?Math.max(C.d,N.d):C.d:N?N.d:0)+1}function Df(_,C){return i(C).forEach(function(N){_[N]?hl(_[N],C[N]):_[N]=(function P(I){var U,ae,de={};for(U in I)p(I,U)&&(ae=I[U],de[U]=!ae||typeof ae!="object"||ie.has(ae.constructor)?ae:P(ae));return de})(C[N])}),_}function tm(_,C){return _.all||C.all||Object.keys(_).some(function(N){return C[N]&&Jg(C[N],_[N])})}v(Ea.prototype,((fs={add:function(_){return hl(this,_),this},addKey:function(_){return $u(this,_,_),this},addKeys:function(_){var C=this;return _.forEach(function(N){return $u(C,N,N)}),this},hasKey:function(_){var C=Of(this).next(_).value;return C&&Yt(C.from,_)<=0&&0<=Yt(C.to,_)}})[K]=function(){return Of(this)},fs));var ml={},rm={},nm=!1;function Pf(_){Df(rm,_),nm||(nm=!0,setTimeout(function(){nm=!1,am(rm,!(rm={}))},0))}function am(_,C){C===void 0&&(C=!1);var N=new Set;if(_.all)for(var P=0,I=Object.values(ml);P<I.length;P++)ev(ae=I[P],_,N,C);else for(var U in _){var ae,de=/^idb\:\/\/(.*)\/(.*)\//.exec(U);de&&(U=de[1],de=de[2],(ae=ml["idb://".concat(U,"/").concat(de)])&&ev(ae,_,N,C))}N.forEach(function(xe){return xe()})}function ev(_,C,N,P){for(var I=[],U=0,ae=Object.entries(_.queries.query);U<ae.length;U++){for(var de=ae[U],xe=de[0],we=[],Te=0,pe=de[1];Te<pe.length;Te++){var Ce=pe[Te];tm(C,Ce.obsSet)?Ce.subscribers.forEach(function(ke){return N.add(ke)}):P&&we.push(Ce)}P&&I.push([xe,we])}if(P)for(var _e=0,Se=I;_e<Se.length;_e++){var Ee=Se[_e],xe=Ee[0],we=Ee[1];_.queries.query[xe]=we}}function X1(_){var C=_._state,N=_._deps.indexedDB;if(C.isBeingOpened||_.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?rt(C.dbOpenError):_});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var P=C.openCanceller,I=Math.round(10*_.verno),U=!1;function ae(){if(C.openCanceller!==P)throw new ye.DatabaseClosed("db.open() was cancelled")}function de(){return new mt(function(Ce,_e){if(ae(),!N)throw new ye.MissingAPI;var Se=_.name,Ee=C.autoSchema||!I?N.open(Se):N.open(Se,I);if(!Ee)throw new ye.MissingAPI;Ee.onerror=qs(_e),Ee.onblocked=Gr(_._fireOnBlocked),Ee.onupgradeneeded=Gr(function(ke){var Ne;Te=Ee.transaction,C.autoSchema&&!_._options.allowEmptyDB?(Ee.onerror=ul,Te.abort(),Ee.result.close(),(Ne=N.deleteDatabase(Se)).onsuccess=Ne.onerror=Gr(function(){_e(new ye.NoSuchDatabase("Database ".concat(Se," doesnt exist")))})):(Te.onerror=qs(_e),ke=ke.oldVersion>Math.pow(2,62)?0:ke.oldVersion,pe=ke<1,_.idbdb=Ee.result,U&&Af(_,Te),Hu(_,ke/10,Te,_e))},_e),Ee.onsuccess=Gr(function(){Te=null;var ke,Ne,Le,He,Ye,lt=_.idbdb=Ee.result,gt=M(lt.objectStoreNames);if(0<gt.length)try{var nt=lt.transaction((He=gt).length===1?He[0]:He,"readonly");if(C.autoSchema)Ne=lt,Le=nt,(ke=_).verno=Ne.version/10,Le=ke._dbSchema=yc(0,Ne,Le),ke._storeNames=M(Ne.objectStoreNames,0),Cf(ke,[ke._allTables],i(Le),Le);else if(jf(_,_._dbSchema,nt),((Ye=Mf(yc(0,(Ye=_).idbdb,nt),Ye._dbSchema)).add.length||Ye.change.some(function(dt){return dt.add.length||dt.change.length}))&&!U)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),lt.close(),I=lt.version+1,U=!0,Ce(de());ko(_,nt)}catch{}Lr.push(_),lt.onversionchange=Gr(function(dt){C.vcFired=!0,_.on("versionchange").fire(dt)}),lt.onclose=Gr(function(){_.close({disableAutoOpen:!1})}),pe&&(Ye=_._deps,nt=Se,lt=Ye.indexedDB,Ye=Ye.IDBKeyRange,Rf(lt)||nt===Wr||Q0(lt,Ye).put({name:nt}).catch(X)),Ce()},_e)}).catch(function(Ce){switch(Ce==null?void 0:Ce.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),de();break;case"VersionError":if(0<I)return I=0,de()}return mt.reject(Ce)})}var xe,we=C.dbReadyResolve,Te=null,pe=!1;return mt.race([P,(typeof navigator>"u"?mt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ce){function _e(){return indexedDB.databases().finally(Ce)}xe=setInterval(_e,100),_e()}).finally(function(){return clearInterval(xe)}):Promise.resolve()).then(de)]).then(function(){return ae(),C.onReadyBeingFired=[],mt.resolve(J0(function(){return _.on.ready.fire(_.vip)})).then(function Ce(){if(0<C.onReadyBeingFired.length){var _e=C.onReadyBeingFired.reduce(Ft,X);return C.onReadyBeingFired=[],mt.resolve(J0(function(){return _e(_.vip)})).then(Ce)}})}).finally(function(){C.openCanceller===P&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(Ce){C.dbOpenError=Ce;try{Te&&Te.abort()}catch{}return P===C.openCanceller&&_._close(),rt(Ce)}).finally(function(){C.openComplete=!0,we()}).then(function(){var Ce;return pe&&(Ce={},_.tables.forEach(function(_e){_e.schema.indexes.forEach(function(Se){Se.name&&(Ce["idb://".concat(_.name,"/").concat(_e.name,"/").concat(Se.name)]=new Ea(-1/0,[[[]]]))}),Ce["idb://".concat(_.name,"/").concat(_e.name,"/")]=Ce["idb://".concat(_.name,"/").concat(_e.name,"/:dels")]=new Ea(-1/0,[[[]]])}),Sa(mc).fire(Ce),am(Ce,!0)),_})}function qu(_){function C(U){return _.next(U)}var N=I(C),P=I(function(U){return _.throw(U)});function I(U){return function(xe){var de=U(xe),xe=de.value;return de.done?xe:xe&&typeof xe.then=="function"?xe.then(N,P):l(xe)?Promise.all(xe).then(N,P):N(xe)}}return I(C)()}function Co(_,C,N){for(var P=l(_)?_.slice():[_],I=0;I<N;++I)P.push(C);return P}var Y1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(_){return n(n({},_),{table:function(C){var N=_.table(C),P=N.schema,I={},U=[];function ae(pe,Ce,_e){var Se=ra(pe),Ee=I[Se]=I[Se]||[],ke=pe==null?0:typeof pe=="string"?1:pe.length,Ne=0<Ce,Ne=n(n({},_e),{name:Ne?"".concat(Se,"(virtual-from:").concat(_e.name,")"):_e.name,lowLevelIndex:_e,isVirtual:Ne,keyTail:Ce,keyLength:ke,extractKey:vc(pe),unique:!Ne&&_e.unique});return Ee.push(Ne),Ne.isPrimaryKey||U.push(Ne),1<ke&&ae(ke===2?pe[0]:pe.slice(0,ke-1),Ce+1,_e),Ee.sort(function(Le,He){return Le.keyTail-He.keyTail}),Ne}C=ae(P.primaryKey.keyPath,0,P.primaryKey),I[":id"]=[C];for(var de=0,xe=P.indexes;de<xe.length;de++){var we=xe[de];ae(we.keyPath,0,we)}function Te(pe){var Ce,_e=pe.query.index;return _e.isVirtual?n(n({},pe),{query:{index:_e.lowLevelIndex,range:(Ce=pe.query.range,_e=_e.keyTail,{type:Ce.type===1?2:Ce.type,lower:Co(Ce.lower,Ce.lowerOpen?_.MAX_KEY:_.MIN_KEY,_e),lowerOpen:!0,upper:Co(Ce.upper,Ce.upperOpen?_.MIN_KEY:_.MAX_KEY,_e),upperOpen:!0})}}):pe}return n(n({},N),{schema:n(n({},P),{primaryKey:C,indexes:U,getIndexByKeyPath:function(pe){return(pe=I[ra(pe)])&&pe[0]}}),count:function(pe){return N.count(Te(pe))},query:function(pe){return N.query(Te(pe))},openCursor:function(pe){var Ce=pe.query.index,_e=Ce.keyTail,Se=Ce.isVirtual,Ee=Ce.keyLength;return Se?N.openCursor(Te(pe)).then(function(Ne){return Ne&&ke(Ne)}):N.openCursor(pe);function ke(Ne){return Object.create(Ne,{continue:{value:function(Le){Le!=null?Ne.continue(Co(Le,pe.reverse?_.MAX_KEY:_.MIN_KEY,_e)):pe.unique?Ne.continue(Ne.key.slice(0,Ee).concat(pe.reverse?_.MIN_KEY:_.MAX_KEY,_e)):Ne.continue()}},continuePrimaryKey:{value:function(Le,He){Ne.continuePrimaryKey(Co(Le,_.MAX_KEY,_e),He)}},primaryKey:{get:function(){return Ne.primaryKey}},key:{get:function(){var Le=Ne.key;return Ee===1?Le[0]:Le.slice(0,Ee)}},value:{get:function(){return Ne.value}}})}}})}})}};function Ff(_,C,N,P){return N=N||{},P=P||"",i(_).forEach(function(I){var U,ae,de;p(C,I)?(U=_[I],ae=C[I],typeof U=="object"&&typeof ae=="object"&&U&&ae?(de=fe(U))!==fe(ae)?N[P+I]=C[I]:de==="Object"?Ff(U,ae,N,P+I+"."):U!==ae&&(N[P+I]=C[I]):U!==ae&&(N[P+I]=C[I])):N[P+I]=void 0}),i(C).forEach(function(I){p(_,I)||(N[P+I]=C[I])}),N}function If(_,C){return C.type==="delete"?C.keys:C.keys||C.values.map(_.extractKey)}var tv={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(_){return n(n({},_),{table:function(C){var N=_.table(C),P=N.schema.primaryKey;return n(n({},N),{mutate:function(I){var U=vt.trans,ae=U.table(C).hook,de=ae.deleting,xe=ae.creating,we=ae.updating;switch(I.type){case"add":if(xe.fire===X)break;return U._promise("readwrite",function(){return Te(I)},!0);case"put":if(xe.fire===X&&we.fire===X)break;return U._promise("readwrite",function(){return Te(I)},!0);case"delete":if(de.fire===X)break;return U._promise("readwrite",function(){return Te(I)},!0);case"deleteRange":if(de.fire===X)break;return U._promise("readwrite",function(){return(function pe(Ce,_e,Se){return N.query({trans:Ce,values:!1,query:{index:P,range:_e},limit:Se}).then(function(Ee){var ke=Ee.result;return Te({type:"delete",keys:ke,trans:Ce}).then(function(Ne){return 0<Ne.numFailures?Promise.reject(Ne.failures[0]):ke.length<Se?{failures:[],numFailures:0,lastResult:void 0}:pe(Ce,n(n({},_e),{lower:ke[ke.length-1],lowerOpen:!0}),Se)})})})(I.trans,I.range,1e4)},!0)}return N.mutate(I);function Te(pe){var Ce,_e,Se,Ee=vt.trans,ke=pe.keys||If(P,pe);if(!ke)throw new Error("Keys missing");return(pe=pe.type==="add"||pe.type==="put"?n(n({},pe),{keys:ke}):n({},pe)).type!=="delete"&&(pe.values=a([],pe.values)),pe.keys&&(pe.keys=a([],pe.keys)),Ce=N,Se=ke,((_e=pe).type==="add"?Promise.resolve([]):Ce.getMany({trans:_e.trans,keys:Se,cache:"immutable"})).then(function(Ne){var Le=ke.map(function(He,Ye){var lt,gt,nt,dt=Ne[Ye],pt={onerror:null,onsuccess:null};return pe.type==="delete"?de.fire.call(pt,He,dt,Ee):pe.type==="add"||dt===void 0?(lt=xe.fire.call(pt,He,pe.values[Ye],Ee),He==null&&lt!=null&&(pe.keys[Ye]=He=lt,P.outbound||O(pe.values[Ye],P.keyPath,He))):(lt=Ff(dt,pe.values[Ye]),(gt=we.fire.call(pt,lt,He,dt,Ee))&&(nt=pe.values[Ye],Object.keys(gt).forEach(function(at){p(nt,at)?nt[at]=gt[at]:O(nt,at,gt[at])}))),pt});return N.mutate(pe).then(function(He){for(var Ye=He.failures,lt=He.results,gt=He.numFailures,He=He.lastResult,nt=0;nt<ke.length;++nt){var dt=(lt||ke)[nt],pt=Le[nt];dt==null?pt.onerror&&pt.onerror(Ye[nt]):pt.onsuccess&&pt.onsuccess(pe.type==="put"&&Ne[nt]?pe.values[nt]:dt)}return{failures:Ye,results:lt,numFailures:gt,lastResult:He}}).catch(function(He){return Le.forEach(function(Ye){return Ye.onerror&&Ye.onerror(He)}),Promise.reject(He)})})}}})}})}};function sm(_,C,N){try{if(!C||C.keys.length<_.length)return null;for(var P=[],I=0,U=0;I<C.keys.length&&U<_.length;++I)Yt(C.keys[I],_[U])===0&&(P.push(N?ve(C.values[I]):C.values[I]),++U);return P.length===_.length?P:null}catch{return null}}var rv={stack:"dbcore",level:-1,create:function(_){return{table:function(C){var N=_.table(C);return n(n({},N),{getMany:function(P){if(!P.cache)return N.getMany(P);var I=sm(P.keys,P.trans._cache,P.cache==="clone");return I?mt.resolve(I):N.getMany(P).then(function(U){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?ve(U):U},U})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),N.mutate(P)}})}}}};function pl(_,C){return _.trans.mode==="readonly"&&!!_.subscr&&!_.trans.explicit&&_.trans.db._options.cache!=="disabled"&&!C.schema.primaryKey.outbound}function nv(_,C){switch(_){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Q1={stack:"dbcore",level:0,name:"Observability",create:function(_){var C=_.schema.name,N=new Ea(_.MIN_KEY,_.MAX_KEY);return n(n({},_),{transaction:function(P,I,U){if(vt.subscr&&I!=="readonly")throw new ye.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(vt.querier));return _.transaction(P,I,U)},table:function(P){var I=_.table(P),U=I.schema,ae=U.primaryKey,pe=U.indexes,de=ae.extractKey,xe=ae.outbound,we=ae.autoIncrement&&pe.filter(function(_e){return _e.compound&&_e.keyPath.includes(ae.keyPath)}),Te=n(n({},I),{mutate:function(_e){function Se(at){return at="idb://".concat(C,"/").concat(P,"/").concat(at),He[at]||(He[at]=new Ea)}var Ee,ke,Ne,Le=_e.trans,He=_e.mutatedParts||(_e.mutatedParts={}),Ye=Se(""),lt=Se(":dels"),gt=_e.type,pt=_e.type==="deleteRange"?[_e.range]:_e.type==="delete"?[_e.keys]:_e.values.length<50?[If(ae,_e).filter(function(at){return at}),_e.values]:[],nt=pt[0],dt=pt[1],pt=_e.trans._cache;return l(nt)?(Ye.addKeys(nt),(pt=gt==="delete"||nt.length===dt.length?sm(nt,pt):null)||lt.addKeys(nt),(pt||dt)&&(Ee=Se,ke=pt,Ne=dt,U.indexes.forEach(function(at){var bt=Ee(at.name||"");function Vt(cr){return cr!=null?at.extractKey(cr):null}function sr(cr){return at.multiEntry&&l(cr)?cr.forEach(function(Ta){return bt.addKey(Ta)}):bt.addKey(cr)}(ke||Ne).forEach(function(cr,na){var er=ke&&Vt(ke[na]),na=Ne&&Vt(Ne[na]);Yt(er,na)!==0&&(er!=null&&sr(er),na!=null&&sr(na))})}))):nt?(dt={from:(dt=nt.lower)!==null&&dt!==void 0?dt:_.MIN_KEY,to:(dt=nt.upper)!==null&&dt!==void 0?dt:_.MAX_KEY},lt.add(dt),Ye.add(dt)):(Ye.add(N),lt.add(N),U.indexes.forEach(function(at){return Se(at.name).add(N)})),I.mutate(_e).then(function(at){return!nt||_e.type!=="add"&&_e.type!=="put"||(Ye.addKeys(at.results),we&&we.forEach(function(bt){for(var Vt=_e.values.map(function(er){return bt.extractKey(er)}),sr=bt.keyPath.findIndex(function(er){return er===ae.keyPath}),cr=0,Ta=at.results.length;cr<Ta;++cr)Vt[cr][sr]=at.results[cr];Se(bt.name).addKeys(Vt)})),Le.mutatedParts=Df(Le.mutatedParts||{},He),at})}}),pe=function(Se){var Ee=Se.query,Se=Ee.index,Ee=Ee.range;return[Se,new Ea((Se=Ee.lower)!==null&&Se!==void 0?Se:_.MIN_KEY,(Ee=Ee.upper)!==null&&Ee!==void 0?Ee:_.MAX_KEY)]},Ce={get:function(_e){return[ae,new Ea(_e.key)]},getMany:function(_e){return[ae,new Ea().addKeys(_e.keys)]},count:pe,query:pe,openCursor:pe};return i(Ce).forEach(function(_e){Te[_e]=function(Se){var Ee=vt.subscr,ke=!!Ee,Ne=pl(vt,I)&&nv(_e,Se)?Se.obsSet={}:Ee;if(ke){var Le=function(dt){return dt="idb://".concat(C,"/").concat(P,"/").concat(dt),Ne[dt]||(Ne[dt]=new Ea)},He=Le(""),Ye=Le(":dels"),Ee=Ce[_e](Se),ke=Ee[0],Ee=Ee[1];if((_e==="query"&&ke.isPrimaryKey&&!Se.values?Ye:Le(ke.name||"")).add(Ee),!ke.isPrimaryKey){if(_e!=="count"){var lt=_e==="query"&&xe&&Se.values&&I.query(n(n({},Se),{values:!1}));return I[_e].apply(this,arguments).then(function(dt){if(_e==="query"){if(xe&&Se.values)return lt.then(function(Vt){return Vt=Vt.result,He.addKeys(Vt),dt});var pt=Se.values?dt.result.map(de):dt.result;(Se.values?He:Ye).addKeys(pt)}else if(_e==="openCursor"){var at=dt,bt=Se.values;return at&&Object.create(at,{key:{get:function(){return Ye.addKey(at.primaryKey),at.key}},primaryKey:{get:function(){var Vt=at.primaryKey;return Ye.addKey(Vt),Vt}},value:{get:function(){return bt&&He.addKey(at.primaryKey),at.value}}})}return dt})}Ye.add(N)}}return I[_e].apply(this,arguments)}}),Te}})}};function av(_,C,N){if(N.numFailures===0)return C;if(C.type==="deleteRange")return null;var P=C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1;return N.numFailures===P?null:(C=n({},C),l(C.keys)&&(C.keys=C.keys.filter(function(I,U){return!(U in N.failures)})),"values"in C&&l(C.values)&&(C.values=C.values.filter(function(I,U){return!(U in N.failures)})),C)}function Lf(_,C){return N=_,((P=C).lower===void 0||(P.lowerOpen?0<Yt(N,P.lower):0<=Yt(N,P.lower)))&&(_=_,(C=C).upper===void 0||(C.upperOpen?Yt(_,C.upper)<0:Yt(_,C.upper)<=0));var N,P}function im(_,C,Ce,P,I,U){if(!Ce||Ce.length===0)return _;var ae=C.query.index,de=ae.multiEntry,xe=C.query.range,we=P.schema.primaryKey.extractKey,Te=ae.extractKey,pe=(ae.lowLevelIndex||ae).extractKey,Ce=Ce.reduce(function(_e,Se){var Ee=_e,ke=[];if(Se.type==="add"||Se.type==="put")for(var Ne=new Ea,Le=Se.values.length-1;0<=Le;--Le){var He,Ye=Se.values[Le],lt=we(Ye);Ne.hasKey(lt)||(He=Te(Ye),(de&&l(He)?He.some(function(at){return Lf(at,xe)}):Lf(He,xe))&&(Ne.addKey(lt),ke.push(Ye)))}switch(Se.type){case"add":var gt=new Ea().addKeys(C.values?_e.map(function(bt){return we(bt)}):_e),Ee=_e.concat(C.values?ke.filter(function(bt){return bt=we(bt),!gt.hasKey(bt)&&(gt.addKey(bt),!0)}):ke.map(function(bt){return we(bt)}).filter(function(bt){return!gt.hasKey(bt)&&(gt.addKey(bt),!0)}));break;case"put":var nt=new Ea().addKeys(Se.values.map(function(bt){return we(bt)}));Ee=_e.filter(function(bt){return!nt.hasKey(C.values?we(bt):bt)}).concat(C.values?ke:ke.map(function(bt){return we(bt)}));break;case"delete":var dt=new Ea().addKeys(Se.keys);Ee=_e.filter(function(bt){return!dt.hasKey(C.values?we(bt):bt)});break;case"deleteRange":var pt=Se.range;Ee=_e.filter(function(bt){return!Lf(we(bt),pt)})}return Ee},_);return Ce===_?_:(Ce.sort(function(_e,Se){return Yt(pe(_e),pe(Se))||Yt(we(_e),we(Se))}),C.limit&&C.limit<1/0&&(Ce.length>C.limit?Ce.length=C.limit:_.length===C.limit&&Ce.length<C.limit&&(I.dirty=!0)),U?Object.freeze(Ce):Ce)}function wc(_,C){return Yt(_.lower,C.lower)===0&&Yt(_.upper,C.upper)===0&&!!_.lowerOpen==!!C.lowerOpen&&!!_.upperOpen==!!C.upperOpen}function Gu(_,C){return(function(N,P,I,U){if(N===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Yt(N,P))===0){if(I&&U)return 0;if(I)return 1;if(U)return-1}return P})(_.lower,C.lower,_.lowerOpen,C.lowerOpen)<=0&&0<=(function(N,P,I,U){if(N===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Yt(N,P))===0){if(I&&U)return 0;if(I)return-1;if(U)return 1}return P})(_.upper,C.upper,_.upperOpen,C.upperOpen)}function J1(_,C,N,P){_.subscribers.add(N),P.addEventListener("abort",function(){var I,U;_.subscribers.delete(N),_.subscribers.size===0&&(I=_,U=C,setTimeout(function(){I.subscribers.size===0&&le(U,I)},3e3))})}var Bf={stack:"dbcore",level:0,name:"Cache",create:function(_){var C=_.schema.name;return n(n({},_),{transaction:function(N,P,I){var U,ae,de=_.transaction(N,P,I);return P==="readwrite"&&(ae=(U=new AbortController).signal,I=function(xe){return function(){if(U.abort(),P==="readwrite"){for(var we=new Set,Te=0,pe=N;Te<pe.length;Te++){var Ce=pe[Te],_e=ml["idb://".concat(C,"/").concat(Ce)];if(_e){var Se=_.table(Ce),Ee=_e.optimisticOps.filter(function(bt){return bt.trans===de});if(de._explicit&&xe&&de.mutatedParts)for(var ke=0,Ne=Object.values(_e.queries.query);ke<Ne.length;ke++)for(var Le=0,He=(gt=Ne[ke]).slice();Le<He.length;Le++)tm((nt=He[Le]).obsSet,de.mutatedParts)&&(le(gt,nt),nt.subscribers.forEach(function(bt){return we.add(bt)}));else if(0<Ee.length){_e.optimisticOps=_e.optimisticOps.filter(function(bt){return bt.trans!==de});for(var Ye=0,lt=Object.values(_e.queries.query);Ye<lt.length;Ye++)for(var gt,nt,dt,pt=0,at=(gt=lt[Ye]).slice();pt<at.length;pt++)(nt=at[pt]).res!=null&&de.mutatedParts&&(xe&&!nt.dirty?(dt=Object.isFrozen(nt.res),dt=im(nt.res,nt.req,Ee,Se,nt,dt),nt.dirty?(le(gt,nt),nt.subscribers.forEach(function(bt){return we.add(bt)})):dt!==nt.res&&(nt.res=dt,nt.promise=mt.resolve({result:dt}))):(nt.dirty&&le(gt,nt),nt.subscribers.forEach(function(bt){return we.add(bt)})))}}}we.forEach(function(bt){return bt()})}}},de.addEventListener("abort",I(!1),{signal:ae}),de.addEventListener("error",I(!1),{signal:ae}),de.addEventListener("complete",I(!0),{signal:ae})),de},table:function(N){var P=_.table(N),I=P.schema.primaryKey;return n(n({},P),{mutate:function(U){var ae=vt.trans;if(I.outbound||ae.db._options.cache==="disabled"||ae.explicit||ae.idbtrans.mode!=="readwrite")return P.mutate(U);var de=ml["idb://".concat(C,"/").concat(N)];return de?(ae=P.mutate(U),U.type!=="add"&&U.type!=="put"||!(50<=U.values.length||If(I,U).some(function(xe){return xe==null}))?(de.optimisticOps.push(U),U.mutatedParts&&Pf(U.mutatedParts),ae.then(function(xe){0<xe.numFailures&&(le(de.optimisticOps,U),(xe=av(0,U,xe))&&de.optimisticOps.push(xe),U.mutatedParts&&Pf(U.mutatedParts))}),ae.catch(function(){le(de.optimisticOps,U),U.mutatedParts&&Pf(U.mutatedParts)})):ae.then(function(xe){var we=av(0,n(n({},U),{values:U.values.map(function(Te,pe){var Ce;return xe.failures[pe]?Te:(Te=(Ce=I.keyPath)!==null&&Ce!==void 0&&Ce.includes(".")?ve(Te):n({},Te),O(Te,I.keyPath,xe.results[pe]),Te)})}),xe);de.optimisticOps.push(we),queueMicrotask(function(){return U.mutatedParts&&Pf(U.mutatedParts)})}),ae):P.mutate(U)},query:function(U){if(!pl(vt,P)||!nv("query",U))return P.query(U);var ae=((we=vt.trans)===null||we===void 0?void 0:we.db._options.cache)==="immutable",pe=vt,de=pe.requery,xe=pe.signal,we=(function(Se,Ee,ke,Ne){var Le=ml["idb://".concat(Se,"/").concat(Ee)];if(!Le)return[];if(!(Ee=Le.queries[ke]))return[null,!1,Le,null];var He=Ee[(Ne.query?Ne.query.index.name:null)||""];if(!He)return[null,!1,Le,null];switch(ke){case"query":var Ye=He.find(function(lt){return lt.req.limit===Ne.limit&&lt.req.values===Ne.values&&wc(lt.req.query.range,Ne.query.range)});return Ye?[Ye,!0,Le,He]:[He.find(function(lt){return("limit"in lt.req?lt.req.limit:1/0)>=Ne.limit&&(!Ne.values||lt.req.values)&&Gu(lt.req.query.range,Ne.query.range)}),!1,Le,He];case"count":return Ye=He.find(function(lt){return wc(lt.req.query.range,Ne.query.range)}),[Ye,!!Ye,Le,He]}})(C,N,"query",U),Te=we[0],pe=we[1],Ce=we[2],_e=we[3];return Te&&pe?Te.obsSet=U.obsSet:(pe=P.query(U).then(function(Se){var Ee=Se.result;if(Te&&(Te.res=Ee),ae){for(var ke=0,Ne=Ee.length;ke<Ne;++ke)Object.freeze(Ee[ke]);Object.freeze(Ee)}else Se.result=ve(Ee);return Se}).catch(function(Se){return _e&&Te&&le(_e,Te),Promise.reject(Se)}),Te={obsSet:U.obsSet,promise:pe,subscribers:new Set,type:"query",req:U,dirty:!1},_e?_e.push(Te):(_e=[Te],(Ce=Ce||(ml["idb://".concat(C,"/").concat(N)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[U.query.index.name||""]=_e)),J1(Te,_e,de,xe),Te.promise.then(function(Se){return{result:im(Se.result,U,Ce==null?void 0:Ce.optimisticOps,P,Te,ae)}})}})}})}};function Wu(_,C){return new Proxy(_,{get:function(N,P,I){return P==="db"?C:Reflect.get(N,P,I)}})}var fi=(bn.prototype.version=function(_){if(isNaN(_)||_<.1)throw new ye.Type("Given version is not a positive number");if(_=Math.round(10*_)/10,this.idbdb||this._state.isBeingOpened)throw new ye.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,_);var C=this._versions,N=C.filter(function(P){return P._cfg.version===_})[0];return N||(N=new this.Version(_),C.push(N),C.sort(X0),N.stores({}),this._state.autoSchema=!1,N)},bn.prototype._whenReady=function(_){var C=this;return this.idbdb&&(this._state.openComplete||vt.letThrough||this._vip)?_():new mt(function(N,P){if(C._state.openComplete)return P(new ye.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void P(new ye.DatabaseClosed);C.open().catch(X)}C._state.dbReadyPromise.then(N,P)}).then(_)},bn.prototype.use=function(_){var C=_.stack,N=_.create,P=_.level,I=_.name;return I&&this.unuse({stack:C,name:I}),_=this._middlewares[C]||(this._middlewares[C]=[]),_.push({stack:C,create:N,level:P??10,name:I}),_.sort(function(U,ae){return U.level-ae.level}),this},bn.prototype.unuse=function(_){var C=_.stack,N=_.name,P=_.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(I){return P?I.create!==P:!!N&&I.name!==N})),this},bn.prototype.open=function(){var _=this;return De(Nn,function(){return X1(_)})},bn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var _=this._state,C=Lr.indexOf(this);if(0<=C&&Lr.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}_.isBeingOpened||(_.dbReadyPromise=new mt(function(N){_.dbReadyResolve=N}),_.openCanceller=new mt(function(N,P){_.cancelOpen=P}))},bn.prototype.close=function(N){var C=(N===void 0?{disableAutoOpen:!0}:N).disableAutoOpen,N=this._state;C?(N.isBeingOpened&&N.cancelOpen(new ye.DatabaseClosed),this._close(),N.autoOpen=!1,N.dbOpenError=new ye.DatabaseClosed):(this._close(),N.autoOpen=this._options.autoOpen||N.isBeingOpened,N.openComplete=!1,N.dbOpenError=null)},bn.prototype.delete=function(_){var C=this;_===void 0&&(_={disableAutoOpen:!0});var N=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new mt(function(I,U){function ae(){C.close(_);var de=C._deps.indexedDB.deleteDatabase(C.name);de.onsuccess=Gr(function(){var xe,we,Te;xe=C._deps,we=C.name,Te=xe.indexedDB,xe=xe.IDBKeyRange,Rf(Te)||we===Wr||Q0(Te,xe).delete(we).catch(X),I()}),de.onerror=qs(U),de.onblocked=C._fireOnBlocked}if(N)throw new ye.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(ae):ae()})},bn.prototype.backendDB=function(){return this.idbdb},bn.prototype.isOpen=function(){return this.idbdb!==null},bn.prototype.hasBeenClosed=function(){var _=this._state.dbOpenError;return _&&_.name==="DatabaseClosed"},bn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},bn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(bn.prototype,"tables",{get:function(){var _=this;return i(this._allTables).map(function(C){return _._allTables[C]})},enumerable:!1,configurable:!0}),bn.prototype.transaction=function(){var _=(function(C,N,P){var I=arguments.length;if(I<2)throw new ye.InvalidArgument("Too few arguments");for(var U=new Array(I-1);--I;)U[I-1]=arguments[I];return P=U.pop(),[C,ne(U),P]}).apply(this,arguments);return this._transaction.apply(this,_)},bn.prototype._transaction=function(_,C,N){var P=this,I=vt.trans;I&&I.db===this&&_.indexOf("!")===-1||(I=null);var U,ae,de=_.indexOf("?")!==-1;_=_.replace("!","").replace("?","");try{if(ae=C.map(function(we){if(we=we instanceof P.Table?we.name:we,typeof we!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return we}),_=="r"||_===un)U=un;else{if(_!="rw"&&_!=Ka)throw new ye.InvalidArgument("Invalid transaction mode: "+_);U=Ka}if(I){if(I.mode===un&&U===Ka){if(!de)throw new ye.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");I=null}I&&ae.forEach(function(we){if(I&&I.storeNames.indexOf(we)===-1){if(!de)throw new ye.SubTransaction("Table "+we+" not included in parent transaction.");I=null}}),de&&I&&!I.active&&(I=null)}}catch(we){return I?I._promise(null,function(Te,pe){pe(we)}):rt(we)}var xe=(function we(Te,pe,Ce,_e,Se){return mt.resolve().then(function(){var Ee=vt.transless||vt,ke=Te._createTransaction(pe,Ce,Te._dbSchema,_e);if(ke.explicit=!0,Ee={trans:ke,transless:Ee},_e)ke.idbtrans=_e.idbtrans;else try{ke.create(),ke.idbtrans._explicit=!0,Te._state.PR1398_maxLoop=3}catch(He){return He.name===he.InvalidState&&Te.isOpen()&&0<--Te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Te.close({disableAutoOpen:!1}),Te.open().then(function(){return we(Te,pe,Ce,null,Se)})):rt(He)}var Ne,Le=H(Se);return Le&&se(),Ee=mt.follow(function(){var He;(Ne=Se.call(ke,ke))&&(Le?(He=ce.bind(null,null),Ne.then(He,He)):typeof Ne.next=="function"&&typeof Ne.throw=="function"&&(Ne=qu(Ne)))},Ee),(Ne&&typeof Ne.then=="function"?mt.resolve(Ne).then(function(He){return ke.active?He:rt(new ye.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ee.then(function(){return Ne})).then(function(He){return _e&&ke._resolve(),ke._completion.then(function(){return He})}).catch(function(He){return ke._reject(He),rt(He)})})}).bind(null,this,U,ae,I,N);return I?I._promise(U,xe,"lock"):vt.trans?De(vt.transless,function(){return P._whenReady(xe)}):this._whenReady(xe)},bn.prototype.table=function(_){if(!p(this._allTables,_))throw new ye.InvalidTable("Table ".concat(_," does not exist"));return this._allTables[_]},bn);function bn(_,C){var N=this;this._middlewares={},this.verno=0;var P=bn.dependencies;this._options=C=n({addons:bn.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},P=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var I,U,ae,de,xe,we={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};we.dbReadyPromise=new mt(function(pe){we.dbReadyResolve=pe}),we.openCanceller=new mt(function(pe,Ce){we.cancelOpen=Ce}),this._state=we,this.name=_,this.on=Lu(this,"populate","blocked","versionchange","close",{ready:[Ft,X]}),this.once=function(pe,Ce){var _e=function(){for(var Se=[],Ee=0;Ee<arguments.length;Ee++)Se[Ee]=arguments[Ee];N.on(pe).unsubscribe(_e),Ce.apply(N,Se)};return N.on(pe,_e)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(pe){return function(Ce,_e){bn.vip(function(){var Se,Ee=N._state;Ee.openComplete?(Ee.dbOpenError||mt.resolve().then(Ce),_e&&pe(Ce)):Ee.onReadyBeingFired?(Ee.onReadyBeingFired.push(Ce),_e&&pe(Ce)):(pe(Ce),Se=N,_e||pe(function ke(){Se.on.ready.unsubscribe(Ce),Se.on.ready.unsubscribe(ke)}))})}}),this.Collection=(I=this,ba(G1.prototype,function(Ne,ke){this.db=I;var _e=qi,Se=null;if(ke)try{_e=ke()}catch(Le){Se=Le}var Ee=Ne._ctx,ke=Ee.table,Ne=ke.hook.reading.fire;this._ctx={table:ke,index:Ee.index,isPrimKey:!Ee.index||ke.schema.primKey.keyPath&&Ee.index===ke.schema.primKey.name,range:_e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Se,or:Ee.or,valueMapper:Ne!==zt?Ne:null}})),this.Table=(U=this,ba($0.prototype,function(pe,Ce,_e){this.db=U,this._tx=_e,this.name=pe,this.schema=Ce,this.hook=U._allTables[pe]?U._allTables[pe].hook:Lu(null,{creating:[it,X],reading:[Ot,zt],updating:[ar,X],deleting:[We,X]})})),this.Transaction=(ae=this,ba(K0.prototype,function(pe,Ce,_e,Se,Ee){var ke=this;pe!=="readonly"&&Ce.forEach(function(Ne){Ne=(Ne=_e[Ne])===null||Ne===void 0?void 0:Ne.yProps,Ne&&(Ce=Ce.concat(Ne.map(function(Le){return Le.updatesTable})))}),this.db=ae,this.mode=pe,this.storeNames=Ce,this.schema=_e,this.chromeTransactionDurability=Se,this.idbtrans=null,this.on=Lu(this,"complete","error","abort"),this.parent=Ee||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new mt(function(Ne,Le){ke._resolve=Ne,ke._reject=Le}),this._completion.then(function(){ke.active=!1,ke.on.complete.fire()},function(Ne){var Le=ke.active;return ke.active=!1,ke.on.error.fire(Ne),ke.parent?ke.parent._reject(Ne):Le&&ke.idbtrans&&ke.idbtrans.abort(),rt(Ne)})})),this.Version=(de=this,ba(K1.prototype,function(pe){this.db=de,this._cfg={version:pe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(xe=this,ba(cl.prototype,function(pe,Ce,_e){if(this.db=xe,this._ctx={table:pe,index:Ce===":id"?null:Ce,or:_e},this._cmp=this._ascending=Yt,this._descending=function(Se,Ee){return Yt(Ee,Se)},this._max=function(Se,Ee){return 0<Yt(Se,Ee)?Se:Ee},this._min=function(Se,Ee){return Yt(Se,Ee)<0?Se:Ee},this._IDBKeyRange=xe._deps.IDBKeyRange,!this._IDBKeyRange)throw new ye.MissingAPI})),this.on("versionchange",function(pe){0<pe.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(pe){!pe.newVersion||pe.newVersion<pe.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(pe.oldVersion/10))}),this._maxKey=gc(C.IDBKeyRange),this._createTransaction=function(pe,Ce,_e,Se){return new N.Transaction(pe,Ce,_e,N._options.chromeTransactionDurability,Se)},this._fireOnBlocked=function(pe){N.on("blocked").fire(pe),Lr.filter(function(Ce){return Ce.name===N.name&&Ce!==N&&!Ce._state.vcFired}).map(function(Ce){return Ce.on("versionchange").fire(pe)})},this.use(rv),this.use(Bf),this.use(Q1),this.use(Y1),this.use(tv);var Te=new Proxy(this,{get:function(pe,Ce,_e){if(Ce==="_vip")return!0;if(Ce==="table")return function(Ee){return Wu(N.table(Ee),Te)};var Se=Reflect.get(pe,Ce,_e);return Se instanceof $0?Wu(Se,Te):Ce==="tables"?Se.map(function(Ee){return Wu(Ee,Te)}):Ce==="_createTransaction"?function(){return Wu(Se.apply(this,arguments),Te)}:Se}});this.vip=Te,P.forEach(function(pe){return pe(N)})}var _c,fs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",sv=(Uf.prototype.subscribe=function(_,C,N){return this._subscribe(_&&typeof _!="function"?_:{next:_,error:C,complete:N})},Uf.prototype[fs]=function(){return this},Uf);function Uf(_){this._subscribe=_}try{_c={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{_c={indexedDB:null,IDBKeyRange:null}}function iv(_){var C,N=!1,P=new sv(function(I){var U=H(_),ae,de=!1,xe={},we={},Te={get closed(){return de},unsubscribe:function(){de||(de=!0,ae&&ae.abort(),pe&&Sa.storagemutated.unsubscribe(_e))}};I.start&&I.start(Te);var pe=!1,Ce=function(){return ot(Se)},_e=function(Ee){Df(xe,Ee),tm(we,xe)&&Ce()},Se=function(){var Ee,ke,Ne;!de&&_c.indexedDB&&(xe={},Ee={},ae&&ae.abort(),ae=new AbortController,Ne=(function(Le){var He=li();try{U&&se();var Ye=ee(_,Le);return Ye=U?Ye.finally(ce):Ye}finally{He&&Es()}})(ke={subscr:Ee,signal:ae.signal,requery:Ce,querier:_,trans:null}),Promise.resolve(Ne).then(function(Le){N=!0,C=Le,de||ke.signal.aborted||(xe={},(function(He){for(var Ye in He)if(p(He,Ye))return;return 1})(we=Ee)||pe||(Sa(mc,_e),pe=!0),ot(function(){return!de&&I.next&&I.next(Le)}))},function(Le){N=!1,["DatabaseClosedError","AbortError"].includes(Le==null?void 0:Le.name)||de||ot(function(){de||I.error&&I.error(Le)})}))};return setTimeout(Ce,0),Te});return P.hasValue=function(){return N},P.getValue=function(){return C},P}var gl=fi;function om(_){var C=Ao;try{Ao=!0,Sa.storagemutated.fire(_),am(_,!0)}finally{Ao=C}}v(gl,n(n({},st),{delete:function(_){return new gl(_,{addons:[]}).delete()},exists:function(_){return new gl(_,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(_){try{return C=gl.dependencies,N=C.indexedDB,C=C.IDBKeyRange,(Rf(N)?Promise.resolve(N.databases()).then(function(P){return P.map(function(I){return I.name}).filter(function(I){return I!==Wr})}):Q0(N,C).toCollection().primaryKeys()).then(_)}catch{return rt(new ye.MissingAPI)}var C,N},defineClass:function(){return function(_){u(this,_)}},ignoreTransaction:function(_){return vt.trans?De(vt.transless,_):_()},vip:J0,async:function(_){return function(){try{var C=qu(_.apply(this,arguments));return C&&typeof C.then=="function"?C:mt.resolve(C)}catch(N){return rt(N)}}},spawn:function(_,C,N){try{var P=qu(_.apply(N,C||[]));return P&&typeof P.then=="function"?P:mt.resolve(P)}catch(I){return rt(I)}},currentTransaction:{get:function(){return vt.trans||null}},waitFor:function(_,C){return C=mt.resolve(typeof _=="function"?gl.ignoreTransaction(_):_).timeout(C||6e4),vt.trans?vt.trans.waitFor(C):C},Promise:mt,debug:{get:function(){return Pt},set:function(_){jr(_)}},derive:x,extend:u,props:v,override:k,Events:Lu,on:Sa,liveQuery:iv,extendObservabilitySet:Df,getByKeyPath:D,setByKeyPath:O,delByKeyPath:function(_,C){typeof C=="string"?O(_,C,void 0):"length"in C&&[].map.call(C,function(N){O(_,N,void 0)})},shallowClone:B,deepClone:ve,getObjectDiff:Ff,cmp:Yt,asap:R,minKey:-1/0,addons:[],connections:Lr,errnames:he,dependencies:_c,cache:ml,semVer:"4.2.1",version:"4.2.1".split(".").map(function(_){return parseInt(_)}).reduce(function(_,C,N){return _+C/Math.pow(10,2*N)})})),gl.maxKey=gc(gl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Sa(mc,function(_){Ao||(_=new CustomEvent(dl,{detail:_}),Ao=!0,dispatchEvent(_),Ao=!1)}),addEventListener(dl,function(_){_=_.detail,Ao||om(_)}));var bc,Ao=!1,Ya=function(){};return typeof BroadcastChannel<"u"&&((Ya=function(){(bc=new BroadcastChannel(dl)).onmessage=function(_){return _.data&&om(_.data)}})(),typeof bc.unref=="function"&&bc.unref(),Sa(mc,function(_){Ao||bc.postMessage(_)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(_){if(!fi.disableBfCache&&_.persisted){Pt&&console.debug("Dexie: handling persisted pagehide"),bc!=null&&bc.close();for(var C=0,N=Lr;C<N.length;C++)N[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(_){!fi.disableBfCache&&_.persisted&&(Pt&&console.debug("Dexie: handling persisted pageshow"),Ya(),om({all:new Ea(-1/0,[[]])}))})),mt.rejectionMapper=function(_,C){return!_||_ instanceof Y||_ instanceof TypeError||_ instanceof SyntaxError||!_.name||!Ue[_.name]?_:(C=new Ue[_.name](C||_.message,_),"stack"in _&&w(C,"stack",{get:function(){return this.inner.stack}}),C)},jr(Pt),n(fi,Object.freeze({__proto__:null,Dexie:fi,liveQuery:iv,Entity:fc,cmp:Yt,PropModification:hc,replacePrefix:function(_,C){return new hc({replacePrefix:[_,C]})},add:function(_){return new hc({add:_})},remove:function(_){return new hc({remove:_})},default:fi,RangeSet:Ea,mergeRanges:hl,rangesOverlap:Jg}),{default:fi}),fi})})(rx)),rx.exports}var uY=cY();const e2=Tu(uY),cj=Symbol.for("Dexie"),Ex=globalThis[cj]||(globalThis[cj]=e2);if(e2.semVer!==Ex.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${e2.semVer} and ${Ex.semVer}`);const{liveQuery:c_e,mergeRanges:u_e,rangesOverlap:d_e,RangeSet:f_e,cmp:h_e,Entity:m_e,PropModification:p_e,replacePrefix:g_e,add:v_e,remove:y_e,DexieYProvider:x_e}=Ex;function On(e){if(!e)return new Date().toISOString();try{if(e instanceof Date)return e.toISOString();if(typeof e=="string"){if(e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return e;const t=new Date(e);return isNaN(t.getTime())?(console.warn(`Invalid date string provided: ${e}, using current time`),new Date().toISOString()):t.toISOString()}return typeof e=="number"?new Date(e).toISOString():(console.warn(`Unexpected date type: ${typeof e}, using current time`),new Date().toISOString())}catch(t){return console.error("Error converting date to ISO string:",t,"Input:",e),new Date().toISOString()}}function lu(e){if(!e)return new Date;try{if(e instanceof Date)return e;if(typeof e=="string"){if(e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/))return new Date(e);const t=new Date(e);return isNaN(t.getTime())?(console.warn(`Invalid ISO string provided: ${e}, using current time`),new Date):t}return console.warn(`Unexpected ISO string type: ${typeof e}, using current time`),new Date}catch(t){return console.error("Error converting ISO string to Date:",t,"Input:",e),new Date}}function uj(e){return On(e)}function dY(e){if(!e)return!1;try{const t=lu(e);return!isNaN(t.getTime())}catch{return!1}}function or(){return new Date().toISOString()}function $a(e,t=!1){const n={_syncStatus:"pending",_lastModified:or(),_version:1};return t&&(n._version=(e._version||0)+1),{...e,...n}}function lo(e,t=!1){const r=or();return t?{...e,updated_at:r}:{...e,created_at:r,updated_at:r}}function ma(e){if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>ma(n));const t={...e};if(["created_at","updated_at","uploadDate","started_at","completed_at","scheduled_for","reset_date","expires_at","completed_at"].forEach(n=>{if(t[n])try{t[n]=On(t[n])}catch(a){console.warn(`Failed to convert ${n} from Date to ISO:`,a)}}),t._lastModified&&t._lastModified instanceof Date)try{t._lastModified=On(t._lastModified)}catch(n){console.warn("Failed to convert _lastModified from Date to ISO:",n)}return t}function sn(e,t){return e&&ma(e)}function dj(e,t){try{const r=lu(e),n=lu(t),a=r.getTime(),s=n.getTime();return a<s?-1:a>s?1:0}catch(r){return console.error("Error comparing timestamps:",r),0}}class fY extends Ex{constructor(){super("XenderInDatabase");St(this,"contacts");St(this,"groups");St(this,"templates");St(this,"activityLogs");St(this,"assets");St(this,"quotas");St(this,"quotaReservations");St(this,"profiles");St(this,"payments");St(this,"userSessions");St(this,"syncQueue");St(this,"asset_blobs");St(this,"teams");St(this,"messageJobs");this.version(1).stores({contacts:"&id, name, phone, group_id, master_user_id, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, master_user_id, status, template_name, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount"}),this.version(2).stores({contacts:"&id, name, phone, group_id, master_user_id, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, master_user_id, status, template_name, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, master_user_id, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, status, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount"}),this.version(3).stores({contacts:"&id, name, phone, group_id, master_user_id, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, master_user_id, status, template_name, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, master_user_id, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, status, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, last_active, is_active, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount"}),this.version(4).stores({contacts:"&id, name, phone, group_id, master_user_id, created_by, tags, notes, is_blocked, last_interaction, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, created_by, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, user_id, master_user_id, contact_group_id, template_id, status, template_name, total_contacts, success_count, failed_count, delay_range, scheduled_for, started_at, completed_at, error_message, metadata, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, file_name, uploaded_by, mime_type, is_public, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, messages_limit, messages_used, reset_date, is_active, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, name, master_user_id, phone_number, avatar_url, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, duitku_transaction_id, amount, currency, status, payment_method, qr_url, payment_url, expires_at, completed_at, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, last_active, is_active, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount"}),this.version(5).stores({contacts:"&id, name, phone, group_id, master_user_id, created_by, tags, notes, is_blocked, last_interaction, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, created_by, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, user_id, master_user_id, contact_group_id, template_id, status, template_name, total_contacts, success_count, failed_count, delay_range, scheduled_for, started_at, completed_at, error_message, metadata, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, file_name, uploaded_by, mime_type, is_public, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, messages_limit, messages_used, reset_date, is_active, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, name, master_user_id, phone_number, avatar_url, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, duitku_transaction_id, amount, currency, status, payment_method, qr_url, payment_url, expires_at, completed_at, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, last_active, is_active, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount",asset_blobs:"&asset_id, size, cached_at, last_accessed"}),this.version(6).stores({contacts:"&id, name, phone, group_id, master_user_id, created_by, tags, notes, is_blocked, last_interaction, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, created_by, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, user_id, master_user_id, contact_group_id, template_id, status, template_name, total_contacts, success_count, failed_count, delay_range, scheduled_for, started_at, completed_at, error_message, metadata, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, file_name, uploaded_by, mime_type, is_public, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, messages_limit, messages_used, reset_date, is_active, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, name, master_user_id, phone_number, avatar_url, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, duitku_transaction_id, amount, currency, status, payment_method, qr_url, payment_url, expires_at, completed_at, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, last_active, is_active, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount",asset_blobs:"&asset_id, size, cached_at, last_accessed",teams:"&id, name, master_user_id, _syncStatus, _lastModified, _version, _deleted",messageJobs:"&id, reservation_id, user_id, master_user_id, status, created_at"}),this.version(7).stores({contacts:"&id, name, phone, group_id, master_user_id, created_by, tags, notes, is_blocked, last_interaction, _syncStatus, _lastModified, _version, _deleted",groups:"&id, name, master_user_id, created_by, _syncStatus, _lastModified, _version, _deleted",templates:"&id, name, master_user_id, category, _syncStatus, _lastModified, _version, _deleted",activityLogs:"&id, user_id, master_user_id, contact_group_id, template_id, status, template_name, total_contacts, success_count, failed_count, delay_range, scheduled_for, started_at, completed_at, error_message, metadata, _syncStatus, _lastModified, _version, _deleted",assets:"&id, name, type, category, master_user_id, file_name, uploaded_by, mime_type, is_public, _syncStatus, _lastModified, _version, _deleted",quotas:"&id, user_id, master_user_id, plan_type, messages_limit, messages_used, reset_date, is_active, _syncStatus, _lastModified, _version",quotaReservations:"&id, user_id, master_user_id, status, _syncStatus, _lastModified, _version",profiles:"&id, email, name, master_user_id, phone_number, avatar_url, role, is_active, _syncStatus, _lastModified, _version",payments:"&id, user_id, master_user_id, payment_id, duitku_transaction_id, amount, currency, status, payment_method, qr_url, payment_url, expires_at, completed_at, plan_type, _syncStatus, _lastModified, _version",userSessions:"&id, master_user_id, session_token, expires_at, last_active, is_active, _syncStatus, _lastModified, _version",syncQueue:"++id, table, operation, recordId, status, timestamp, retryCount",asset_blobs:"&asset_id, size, cached_at, last_accessed",messageJobs:"&id, reservation_id, user_id, master_user_id, status, created_at"}),this.contacts.hook("creating",this.onCreating.bind(this)),this.contacts.hook("updating",this.onUpdating.bind(this)),this.contacts.hook("deleting",this.onDeleting.bind(this)),this.groups.hook("creating",this.onCreating.bind(this)),this.groups.hook("updating",this.onUpdating.bind(this)),this.groups.hook("deleting",this.onDeleting.bind(this)),this.templates.hook("creating",this.onCreating.bind(this)),this.templates.hook("updating",this.onUpdating.bind(this)),this.templates.hook("deleting",this.onDeleting.bind(this)),this.activityLogs.hook("creating",this.onCreating.bind(this)),this.activityLogs.hook("updating",this.onUpdating.bind(this)),this.activityLogs.hook("deleting",this.onDeleting.bind(this)),this.assets.hook("creating",this.onCreating.bind(this)),this.assets.hook("updating",this.onUpdating.bind(this)),this.assets.hook("deleting",this.onDeleting.bind(this)),this.quotas.hook("creating",this.onCreating.bind(this)),this.quotas.hook("updating",this.onUpdating.bind(this)),this.quotaReservations.hook("creating",this.onCreating.bind(this)),this.quotaReservations.hook("updating",this.onUpdating.bind(this)),this.quotaReservations.hook("deleting",this.onDeleting.bind(this)),this.profiles.hook("creating",this.onCreating.bind(this)),this.profiles.hook("updating",this.onUpdating.bind(this)),this.profiles.hook("deleting",this.onDeleting.bind(this)),this.payments.hook("creating",this.onCreating.bind(this)),this.payments.hook("updating",this.onUpdating.bind(this)),this.payments.hook("deleting",this.onDeleting.bind(this)),this.userSessions.hook("creating",this.onCreating.bind(this)),this.userSessions.hook("updating",this.onUpdating.bind(this)),this.userSessions.hook("deleting",this.onDeleting.bind(this)),this.messageJobs.hook("creating",this.onCreating.bind(this)),this.messageJobs.hook("updating",this.onUpdating.bind(this)),this.teams.hook("creating",this.onCreating.bind(this)),this.teams.hook("updating",this.onUpdating.bind(this)),this.teams.hook("deleting",this.onDeleting.bind(this))}onCreating(r,n,a){const s=$a(n,!1),i=lo(n,!1);n._syncStatus=s._syncStatus,n._lastModified=s._lastModified,n._version=s._version,n._deleted=!1,n.created_at||(n.created_at=i.created_at),n.updated_at||(n.updated_at=i.updated_at)}onUpdating(r,n,a,s){const i=$a(a,!0);r._syncStatus=i._syncStatus,r._lastModified=i._lastModified,r._version=i._version,r.updated_at=or()}onDeleting(r,n,a){const s=$a(n,!0),i={_syncStatus:s._syncStatus,_lastModified:s._lastModified,_version:s._version,_deleted:!0,updated_at:or()};return this.table(n.tableName||"contacts").update(r,i)}getSyncableTables(){return["contacts","groups","templates","activityLogs","assets","quotas","quotaReservations","profiles","payments","userSessions","teams"]}async clearUserData(r){const a=(await this.assets.where("master_user_id").equals(r).toArray()).map(s=>s.id);await Promise.all([this.contacts.where("master_user_id").equals(r).delete(),this.groups.where("master_user_id").equals(r).delete(),this.templates.where("master_user_id").equals(r).delete(),this.activityLogs.where("master_user_id").equals(r).delete(),this.assets.where("master_user_id").equals(r).delete(),this.quotas.where("master_user_id").equals(r).delete(),this.quotaReservations.where("master_user_id").equals(r).delete(),this.profiles.where("master_user_id").equals(r).delete(),this.payments.where("master_user_id").equals(r).delete(),this.userSessions.where("master_user_id").equals(r).delete(),this.teams.where("master_user_id").equals(r).delete(),this.messageJobs.where("master_user_id").equals(r).delete()]),a.length>0&&await this.asset_blobs.where("asset_id").anyOf(a).delete()}async clearUserDataWithBlobs(r){try{console.log(`Starting cleanup for user: ${r}`);const n=[this.contacts.where("master_user_id").equals(r).delete(),this.groups.where("master_user_id").equals(r).delete(),this.templates.where("master_user_id").equals(r).delete(),this.activityLogs.where("master_user_id").equals(r).delete(),this.assets.where("master_user_id").equals(r).delete(),this.quotas.where("master_user_id").equals(r).delete(),this.quotaReservations.where("master_user_id").equals(r).delete(),this.profiles.where("master_user_id").equals(r).delete(),this.payments.where("master_user_id").equals(r).delete(),this.userSessions.where("master_user_id").equals(r).delete(),this.teams.where("master_user_id").equals(r).delete(),this.messageJobs.where("master_user_id").equals(r).delete()];await Promise.all(n),await this.asset_blobs.clear(),console.log(`Cleanup completed for user: ${r}`)}catch(n){throw console.error("Error during user data cleanup:",n),n}}async clearAllData(){try{await Promise.all([this.contacts.clear(),this.groups.clear(),this.templates.clear(),this.activityLogs.clear(),this.assets.clear(),this.quotas.clear(),this.quotaReservations.clear(),this.profiles.clear(),this.payments.clear(),this.userSessions.clear(),this.teams.clear(),this.syncQueue.clear(),this.asset_blobs.clear(),this.messageJobs.clear()]),console.log("All data cleared successfully")}catch(r){throw console.error("Error clearing all data:",r),r}}async getUnsyncedCount(){const r={};for(const n of this.getSyncableTables()){const s=await this.table(n).where("_syncStatus").equals("pending").count();r[n]=s}return r}async getPendingSyncOperations(){return this.syncQueue.where("status").equals("pending").toArray()}getVersionInfo(){return{version:this.verno,schemaVersion:4,name:this.name,tables:this.getSyncableTables()}}}const ze=new fY;class hp{constructor(t){St(this,"syncManager",null);this.syncManager=t||null}async login(t,r){try{console.log("Starting login process for:",t);const{user:n,session:a}=await dd.signInWithEmail(t,r);if(!n)throw new Error("No user returned from authentication");console.log("User authenticated successfully:",n.id);const s=await this.getOrCreateProfile(n),i={id:n.id,email:n.email,name:(s==null?void 0:s.name)||n.email.split("@")[0],role:(s==null?void 0:s.role)||"owner",master_user_id:(s==null?void 0:s.master_user_id)||n.id,created_at:n.created_at,user_metadata:n.user_metadata};return console.log("Login process completed successfully"),{user:i,token:(a==null?void 0:a.access_token)||""}}catch(n){throw console.error("Login error:",n),new Error(`Login failed: ${Jt(n)}`)}}async getAccountMetadata(t){try{console.log("Fetching metadata for account:",t);let r;try{r=(await fp.getUserQuota(t))[0]}catch(n){console.warn("Failed to get existing quota:",n),r=null}if(!r){const n=await this.getCurrentUser();n&&n.id===t&&(console.log("No quota found, creating default quota"),r=await this.createDefaultQuota(t))}return{quota:r}}catch(r){throw console.error("Get account metadata error:",r),r}}async forgotPassword(t){try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Please enter a valid email address");const n=`${window.location.origin}/reset-password`;await dd.resetPasswordForEmail(t,n),console.log("Password reset email sent to:",t)}catch(r){throw console.error("Forgot password error:",r),r}}async resetPassword(t){try{if(t.length<6)throw new Error("Password must be at least 6 characters long");await dd.updatePassword(t),console.log("Password updated successfully")}catch(r){throw console.error("Reset password error:",r),r}}async verifyOtp(t,r,n="recovery"){try{return await dd.verifyOtp(t,r,n),!0}catch(a){return console.error("OTP verification error:",a),!1}}async register(t,r,n,a=3){var i;let s;for(let l=0;l<a;l++)try{const{user:u,session:d}=await dd.signUpWithEmail(t,r,{name:n||t.split("@")[0]});if(!u)throw new Error("No user returned from registration");return{user:{id:u.id,email:u.email,name:n||u.email.split("@")[0],role:"owner",master_user_id:u.id,created_at:u.created_at,user_metadata:u.user_metadata},token:(d==null?void 0:d.access_token)||"",requiresEmailConfirmation:!u.email_confirmed_at}}catch(u){s=u;const d=((i=u.message)==null?void 0:i.toLowerCase())||"";if(d.includes("rate limit")||d.includes("too many"))throw new Error("Too many registration attempts. Please wait 5-10 minutes and try again.");if((d.includes("timeout")||d.includes("deadline"))&&l<a-1){console.warn(`Registration attempt ${l+1} timed out, retrying in ${2*(l+1)}s...`),await new Promise(m=>setTimeout(m,2e3*(l+1)));continue}if(l===a-1)throw console.error("Registration failed after",a,"attempts:",u),u}throw s||new Error("Registration failed after multiple attempts")}async validateToken(t){try{if(!t)return!1;const{session:r}=await dd.getSession();return!!(r!=null&&r.user)}catch(r){return console.error("Token validation error:",r),!1}}async logout(){try{const t=await this.getCurrentUser();if(t!=null&&t.master_user_id&&await ze.clearUserData(t.master_user_id),await dd.signOut(),this.syncManager)await this.syncManager.clearSyncTimestamps();else{const{syncManager:r}=await gS(async()=>{const{syncManager:n}=await Promise.resolve().then(()=>SY);return{syncManager:n}},[],import.meta.url);await r.clearSyncTimestamps()}}catch(t){throw console.error("Logout error:",t),t}}async getCurrentUser(){try{const{data:{user:t},error:r}=await ut.auth.getUser();if(r||!t)return null;const n=await this.getOrCreateProfile(t);return{id:t.id,email:t.email,name:(n==null?void 0:n.name)||t.email.split("@")[0],role:(n==null?void 0:n.role)||"owner",master_user_id:(n==null?void 0:n.master_user_id)||t.id,created_at:t.created_at,user_metadata:t.user_metadata}}catch(t){return console.error("Get current user error:",t),null}}onAuthStateChange(t){return ut.auth.onAuthStateChange(async(r,n)=>{if(n!=null&&n.user)try{const a=await this.getCurrentUser();t(a)}catch(a){console.error("Error getting user from auth state change:",a),t(null)}else t(null)})}async getCurrentUserId(){const t=await this.getCurrentUser();return(t==null?void 0:t.id)||null}async getCurrentMasterUserId(){const t=await this.getCurrentUser();return(t==null?void 0:t.master_user_id)||null}async setCurrentUser(t,r){console.warn("setCurrentUser is deprecated - UserProvider handles context management automatically")}async clearCurrentUser(){console.warn("clearCurrentUser is deprecated - UserProvider handles context management automatically")}async validateCurrentSession(){return!!await this.getCurrentUser()}async getSessionStatus(){const t=await this.getCurrentUser();return{isAuthenticated:!!t,user:t,masterUserId:(t==null?void 0:t.master_user_id)||null,sessionValid:!!t}}async refreshSession(){try{const{data:{user:t},error:r}=await ut.auth.getUser();if(r||!t)return null;const n=await this.getOrCreateProfile(t);return{id:t.id,email:t.email,name:(n==null?void 0:n.name)||t.email.split("@")[0],role:(n==null?void 0:n.role)||"owner",master_user_id:(n==null?void 0:n.master_user_id)||t.id,created_at:t.created_at,user_metadata:t.user_metadata}}catch(t){return console.error("Session refresh error:",t),null}}async getOrCreateProfile(t){var r;try{const{data:n,error:a}=await ut.from("profiles").select("*").eq("id",t.id).single();if(a&&a.code!=="PGRST116")throw console.error("Error fetching profile:",a),a;return n||(console.log("Profile not found, creating new profile for user:",t.id),await this.createProfile({id:t.id,email:t.email,name:((r=t.user_metadata)==null?void 0:r.name)||t.email.split("@")[0],role:"owner",master_user_id:t.id}))}catch(n){throw console.error("Get or create profile error:",n),new Error(`Failed to get or create profile: ${Jt(n)}`)}}async createProfile(t){try{const{data:r,error:n}=await ut.from("profiles").upsert({id:t.id,email:t.email,name:t.name,role:t.role,master_user_id:t.master_user_id},{onConflict:"id"}).select().single();if(n)throw n;return r}catch(r){throw console.error("Create profile error:",r),r}}async createDefaultQuota(t){try{const{data:r,error:n}=await ut.from("user_quotas").insert({user_id:t,master_user_id:t,plan_type:"basic",messages_limit:100,messages_used:0,reset_date:new Date(Date.now()+2592e6).toISOString(),is_active:!0}).select().single();if(n)throw n;return{...r,remaining:r.messages_limit-r.messages_used}}catch(r){return console.error("Create default quota error:",r),{id:"default_quota",user_id:t,master_user_id:t,plan_type:"basic",messages_limit:100,messages_used:0,remaining:100,reset_date:new Date(Date.now()+720*60*60*1e3).toISOString(),is_active:!0}}}}class hY{constructor(){St(this,"currentUser",null);St(this,"currentMasterUserId",null);St(this,"sessionToken",null);St(this,"securityEvents",[]);St(this,"sessionValidationInterval",null);St(this,"SESSION_VALIDATION_INTERVAL",300*1e3);St(this,"MAX_SESSION_AGE",1440*60*1e3);this.initializeSecurityManager()}initializeSecurityManager(){this.startSessionValidation(),this.setupSecurityEventListeners()}startSessionValidation(){this.sessionValidationInterval=setInterval(()=>{this.validateAllActiveSessions()},this.SESSION_VALIDATION_INTERVAL)}setupSecurityEventListeners(){ut.auth.onAuthStateChange(async(t,r)=>{t==="SIGNED_OUT"&&await this.handleUserLogout()})}async setCurrentUser(t,r,n={}){try{console.log("Setting user context:",{userId:t==null?void 0:t.id,masterId:t==null?void 0:t.master_user_id,options:n});const a=await this.validateUserContext(t,n);return a.isValid?(this.currentUser=t,this.currentMasterUserId=t.master_user_id,this.sessionToken=r||null,console.log("User context set successfully:",{userId:t.id}),await this.logSecurityEvent({event_type:"user_context_switch",severity:"info",user_id:t.id,master_user_id:t.master_user_id,details:{action:"set_current_user"}}),r&&await this.createUserSession(t,r),!0):(console.error("User context validation failed:",a),await this.logSecurityEvent({event_type:"security_breach_detected",severity:"critical",user_id:t.id,details:{reason:a.error,risk_level:a.riskLevel}}),!1)}catch(a){return console.error("Error setting user context:",a),!1}}async getCurrentUser(){return this.currentUser}async getCurrentMasterUserId(){return this.currentMasterUserId}clearCurrentUser(){this.currentUser=null,this.currentMasterUserId=null,this.sessionToken=null}async validateUserContext(t,r={}){try{if(console.log("Validating user context:",{userId:t==null?void 0:t.id,masterId:t==null?void 0:t.master_user_id,options:r}),!t||!t.id||!t.master_user_id)return console.error("Validation failed: Missing user ID or master user ID",t),{isValid:!1,riskLevel:"high",error:"Invalid user structure"};if(!this.isValidUUID(t.id)||!this.isValidUUID(t.master_user_id))return console.error("Validation failed: Invalid UUID format",{id:t.id,masterId:t.master_user_id}),{isValid:!1,riskLevel:"critical",error:"Invalid UUID format detected"};if(r.skipDbVerification)return{isValid:!0,user:t,masterUserId:t.master_user_id,riskLevel:"low"};const n=new Promise((a,s)=>{setTimeout(()=>s(new Error("Profile verification timed out")),5e3)});try{const{data:a,error:s}=await Promise.race([ut.from("profiles").select("id, master_user_id, role, status").eq("id",t.id).single(),n]);if(s||!a)return console.warn("Profile verification failed (network/timeout):",s),{isValid:!1,riskLevel:"high",error:"User profile not found or verification failed"};if(a.master_user_id!==t.master_user_id)return{isValid:!1,riskLevel:"critical",error:"Master User ID mismatch - potential privilege escalation attempt"};if(a.status==="suspended"||a.status==="inactive")return{isValid:!1,riskLevel:"medium",error:"User account is not active"}}catch(a){console.warn("Profile verification skipped due to timeout or error:",a)}return{isValid:!0,user:t,masterUserId:t.master_user_id,riskLevel:"low"}}catch(n){return console.error("Validation error:",n),{isValid:!1,riskLevel:"high",error:n instanceof Error?n.message:"Unknown validation error"}}}async enforceDataIsolation(t,r){var a;const n=await this.getCurrentMasterUserId();return n?n!==t?(await this.logSecurityEvent({event_type:"data_access_violation",severity:"error",user_id:(a=this.currentUser)==null?void 0:a.id,master_user_id:n,details:{resource_type:r,resource_master_id:t,current_master_id:n,action:"cross_tenant_access_attempt"}}),!1):!0:(await this.logSecurityEvent({event_type:"unauthorized_access_attempt",severity:"warning",details:{reason:"no_current_user",resource_type:r,resource_master_id:t}}),!1)}async checkPermission(t,r){const n=await this.getCurrentUser();if(!n)return console.warn("Permission denied: No current user",{action:t,resourceType:r}),await this.logSecurityEvent({event_type:"permission_denied",severity:"warning",details:{action:t,resource_type:r,reason:"not_authenticated"}}),!1;if(n.role==="owner")return!0;const s=["read_contacts","create_contacts","update_contacts","read_groups","create_groups","update_groups","delete_groups","read_templates","create_templates","update_templates","read_history","read_assets","upload_assets","read_quotas","create_quotas","update_quotas","read_payments","create_payments","update_payments"].includes(t);return s||(console.warn("Permission denied: Action not allowed",{action:t,role:n.role}),await this.logSecurityEvent({event_type:"permission_denied",severity:"warning",user_id:n.id,master_user_id:n.master_user_id,details:{action:t,resource_type:r,user_role:n.role}})),s}async canPerformAction(t,r,n){return await this.checkPermission(t,r)?n?await this.enforceDataIsolation(n,r):!0:!1}async validateCurrentSession(){if(!this.sessionToken||!this.currentUser)return!1;try{const t=await ze.userSessions.where("session_token").equals(this.sessionToken).first();return t&&t.is_active?new Date(t.expires_at)>new Date?!0:(await this.invalidateUserSession(this.sessionToken),!1):!t&&this.currentUser&&this.sessionToken?(console.warn("Session missing in Dexie but valid in memory. Recreating session to fix race condition."),await this.createUserSession(this.currentUser,this.sessionToken),!0):!1}catch(t){return console.error("Error validating session:",t),!!(this.currentUser&&this.sessionToken)}}async invalidateUserSession(t){try{await ze.userSessions.where("session_token").equals(t).modify({is_active:!1,_syncStatus:"pending",_lastModified:or()})}catch(r){console.error("Error invalidating session:",r)}}async createUserSession(t,r){try{const n={master_user_id:t.master_user_id,session_token:r,expires_at:On(new Date(Date.now()+this.MAX_SESSION_AGE)),created_at:or(),last_active:or(),is_active:!0,_syncStatus:"pending",_lastModified:or(),_version:1};await ze.userSessions.add({id:crypto.randomUUID(),...n}),await this.logSecurityEvent({event_type:"session_created",user_id:t.id,master_user_id:t.master_user_id,severity:"info",details:{session_token_prefix:r.substring(0,10)+"..."}})}catch(n){throw console.error("Error creating user session:",n),n}}async validateAllActiveSessions(){try{await ze.userSessions.where("expires_at").below(or()).modify({is_active:!1,_syncStatus:"pending",_lastModified:or()}),await this.logSecurityEvent({event_type:"session_validation",severity:"info",details:{validation_type:"cleanup_expired_sessions"}})}catch(t){console.error("Error validating sessions:",t)}}async handleUserLogout(){this.currentUser&&this.sessionToken&&(await this.invalidateUserSession(this.sessionToken),await this.logSecurityEvent({event_type:"user_logout",user_id:this.currentUser.id,master_user_id:this.currentUser.master_user_id,severity:"info",details:{logout_reason:"auth_state_change"}})),this.clearCurrentUser()}async logSecurityEvent(t){try{const r=or(),n={id:crypto.randomUUID(),...t,timestamp:r,_syncStatus:"pending",_lastModified:r,_version:1,_deleted:!1};await ze.activityLogs.add({id:n.id,user_id:t.user_id||"system",master_user_id:t.master_user_id||"system",contact_group_id:void 0,template_id:void 0,template_name:t.event_type,total_contacts:0,success_count:0,failed_count:0,status:"completed",delay_range:0,error_message:t.details?JSON.stringify(t.details):void 0,metadata:t.details,created_at:r,updated_at:r,_syncStatus:n._syncStatus,_lastModified:n._lastModified,_version:n._version,_deleted:!1}),this.securityEvents.push(n)}catch(r){console.error("Error logging security event:",r)}}async getSecurityAuditTrail(t=100){try{return(await ze.activityLogs.where("template_name").startsWithAnyOf(["user_login","user_logout","session_","unauthorized_","data_access_","permission_denied","security_"]).reverse().limit(t).toArray()).map(n=>({id:n.id,event_type:n.template_name,user_id:n.user_id,master_user_id:n.master_user_id,timestamp:n.created_at,severity:"info",details:n.metadata,_syncStatus:"synced",_lastModified:or(),_version:1,_deleted:!1}))}catch(r){return console.error("Error getting security audit trail:",r),[]}}getLastUserId(){try{return localStorage.getItem("last_user_id")}catch(t){return console.error("Error getting last user ID:",t),null}}setLastUserId(t){try{localStorage.setItem("last_user_id",t)}catch(r){console.error("Error setting last user ID:",r)}}hasUserChanged(t){var a;const r=t||((a=this.currentUser)==null?void 0:a.id),n=this.getLastUserId();return!r||!n?!1:r!==n}isValidUUID(t){if(!t||typeof t!="string")return!1;const n=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);return n||console.warn(`Invalid UUID format detected: ${t}`),n}destroy(){this.sessionValidationInterval&&(clearInterval(this.sessionValidationInterval),this.sessionValidationInterval=null),this.clearCurrentUser()}}const Nr=new hY;function on(e){return typeof e=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function kF(e){return typeof e=="string"&&/^\+?[1-9]\d{1,14}$/.test(e.replace(/[\s\-\(\)]/g,""))}function mY(e){return typeof e=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function pY(e){return typeof e=="string"&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)}function Jl(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Wn(e,t,r){return e==null?"":(typeof e!="string"&&(console.warn(`Field ${t} is not a string, converting to string:`,e),e=String(e)),e=e.replace(/[<>\"']/g,""),r&&e.length>r&&(console.warn(`Field ${t} exceeds max length ${r}, truncating`),e=e.substring(0,r)),e.trim())}function Zl(e,t){return typeof e=="boolean"?e:e==="true"||e==="1"||e===1?!0:(e==="false"||e==="0"||e===0||console.warn(`Field ${t} is not a valid boolean, defaulting to false:`,e),!1)}function _s(e,t,r,n){if(typeof e=="number"&&!isNaN(e))return e<r?(console.warn(`Field ${t} below minimum ${r}, clamping:`,e),r):n!==void 0&&e>n?(console.warn(`Field ${t} above maximum ${n}, clamping:`,e),n):e;if(typeof e=="string"){const a=parseFloat(e);if(!isNaN(a))return _s(a,t,r,n)}return console.warn(`Field ${t} is not a valid number, defaulting to 0:`,e),0}function mp(e,t,r){if(!Array.isArray(e))return console.warn(`Field ${t} is not an array, defaulting to empty array:`,e),[];if(r){const n=e.filter(r);return n.length!==e.length&&console.warn(`Field ${t} contains invalid items, filtered from ${e.length} to ${n.length}`),n}return e}function CF(e){if(!Jl(e))return console.error("Contact data is not a valid object:",e),null;try{return{id:on(e.id)?e.id:crypto.randomUUID(),name:Wn(e.name,"name",255),phone:kF(e.phone)?e.phone:"",group_id:on(e.group_id)?e.group_id:"",master_user_id:on(e.master_user_id)?e.master_user_id:"",created_by:on(e.created_by)?e.created_by:"",tags:mp(e.tags,"tags",r=>typeof r=="string"),notes:Wn(e.notes,"notes",1e3),is_blocked:Zl(e.is_blocked,"is_blocked"),last_interaction:e.last_interaction?String(e.last_interaction):void 0,created_at:String(e.created_at),updated_at:String(e.updated_at)}}catch(t){return console.error("Error validating contact data:",t,e),null}}function gY(e){if(!Jl(e))return console.error("Group data is not a valid object:",e),null;try{return{id:on(e.id)?e.id:crypto.randomUUID(),name:Wn(e.name,"name",255),description:e.description?Wn(e.description,"description",500):void 0,color:pY(e.color)?e.color:"#3b82f6",master_user_id:e.master_user_id&&on(e.master_user_id)?e.master_user_id:void 0,created_by:e.created_by&&on(e.created_by)?e.created_by:void 0,contact_count:_s(e.contact_count,"contact_count",0),is_active:Zl(e.is_active,"is_active"),created_at:String(e.created_at),updated_at:String(e.updated_at)}}catch(t){return console.error("Error validating group data:",t,e),null}}function vY(e){if(!Jl(e))return console.error("Template data is not a valid object:",e),null;try{return{id:on(e.id)?e.id:crypto.randomUUID(),name:Wn(e.name,"name",255),variants:mp(e.variants,"variants",r=>typeof r=="string"),content:e.content?Wn(e.content,"content",5e3):void 0,master_user_id:e.master_user_id&&on(e.master_user_id)?e.master_user_id:void 0,created_by:e.created_by&&on(e.created_by)?e.created_by:void 0,attachment_url:e.attachment_url?Wn(e.attachment_url,"attachment_url",1e3):void 0,variables:mp(e.variables,"variables",r=>typeof r=="string"),category:Wn(e.category,"category",100)||"general",is_active:Zl(e.is_active,"is_active"),usage_count:_s(e.usage_count,"usage_count",0),created_at:String(e.created_at),updated_at:String(e.updated_at),assets:mp(e.assets,"assets")}}catch(t){return console.error("Error validating template data:",t,e),null}}function yY(e){if(!Jl(e))return console.error("Activity log data is not a valid object:",e),null;try{const r=["pending","running","completed","failed"].includes(e.status)?e.status:"pending";return{id:on(e.id)?e.id:crypto.randomUUID(),user_id:on(e.user_id)?e.user_id:"",master_user_id:on(e.master_user_id)?e.master_user_id:"",contact_group_id:e.contact_group_id&&on(e.contact_group_id)?e.contact_group_id:void 0,template_id:e.template_id&&on(e.template_id)?e.template_id:void 0,template_name:e.template_name?Wn(e.template_name,"template_name",255):void 0,total_contacts:_s(e.total_contacts,"total_contacts",0),success_count:_s(e.success_count,"success_count",0),failed_count:_s(e.failed_count,"failed_count",0),status:r,delay_range:_s(e.delay_range,"delay_range",0,86400),scheduled_for:e.scheduled_for?String(e.scheduled_for):void 0,started_at:e.started_at?String(e.started_at):void 0,completed_at:e.completed_at?String(e.completed_at):void 0,error_message:e.error_message?Wn(e.error_message,"error_message",1e3):void 0,metadata:Jl(e.metadata)?e.metadata:void 0,created_at:String(e.created_at),updated_at:String(e.updated_at)}}catch(t){return console.error("Error validating activity log data:",t,e),null}}function xY(e){if(!Jl(e))return console.error("Asset file data is not a valid object:",e),null;try{const r=["image","video","audio","document","other"].includes(e.category)?e.category:"other";return{id:on(e.id)?e.id:crypto.randomUUID(),name:Wn(e.name||e.file_name,"name",255),file_name:Wn(e.file_name||e.name,"file_name",255),file_size:_s(e.file_size||e.size,"file_size",0),file_type:Wn(e.file_type||e.type,"file_type",100),file_url:Wn(e.file_url||e.url,"file_url",1e3),uploaded_by:on(e.uploaded_by)?e.uploaded_by:"",master_user_id:on(e.master_user_id)?e.master_user_id:"",category:r,mime_type:e.mime_type?Wn(e.mime_type,"mime_type",100):void 0,is_public:Zl(e.is_public,"is_public"),created_at:String(e.created_at||e.uploadDate||new Date().toISOString()),updated_at:String(e.updated_at||e.created_at||new Date().toISOString()),size:_s(e.size||e.file_size,"size",0),type:Wn(e.type||e.file_type,"type",100),uploadDate:String(e.uploadDate||e.created_at||new Date().toISOString()),url:e.url||e.file_url}}catch(t){return console.error("Error validating asset file data:",t,e),null}}function wY(e){if(!Jl(e))return console.error("Quota data is not a valid object:",e),null;try{const r=["basic","premium","enterprise"].includes(e.plan_type)?e.plan_type:"basic";return{id:on(e.id)?e.id:crypto.randomUUID(),user_id:on(e.user_id)?e.user_id:"",master_user_id:on(e.master_user_id)?e.master_user_id:"",plan_type:r,messages_limit:_s(e.messages_limit,"messages_limit",0),messages_used:_s(e.messages_used,"messages_used",0),remaining:_s(e.remaining,"remaining",0),reset_date:String(e.reset_date),is_active:Zl(e.is_active,"is_active"),created_at:String(e.created_at),updated_at:String(e.updated_at)}}catch(t){return console.error("Error validating quota data:",t,e),null}}function _Y(e){if(!Jl(e))return console.error("Profile data is not a valid object:",e),null;try{const r=["owner","staff"].includes(e.role)?e.role:"owner";return{id:on(e.id)?e.id:crypto.randomUUID(),email:mY(e.email)?e.email:"",name:Wn(e.name,"name",255),role:r,master_user_id:on(e.master_user_id)?e.master_user_id:"",phone_number:e.phone_number?Wn(e.phone_number,"phone_number",20):void 0,avatar_url:e.avatar_url?Wn(e.avatar_url,"avatar_url",1e3):void 0,is_active:Zl(e.is_active,"is_active"),created_at:String(e.created_at),updated_at:String(e.updated_at),_syncStatus:e._syncStatus==="pending"||e._syncStatus==="synced"||e._syncStatus==="conflict"||e._syncStatus==="error"?e._syncStatus:"pending",_lastModified:String(e._lastModified),_version:_s(e._version,"_version",0),_deleted:Zl(e._deleted,"_deleted")}}catch(t){return console.error("Error validating profile data:",t,e),null}}function bY(e){if(!Jl(e))return console.error("Quota reservation data is not a valid object:",e),null;try{const r=["pending","committed","cancelled","expired"].includes(e.status)?e.status:"pending";return{id:on(e.id)?e.id:crypto.randomUUID(),user_id:on(e.user_id)?e.user_id:"",master_user_id:on(e.master_user_id)?e.master_user_id:"",quota_id:e.quota_id&&on(e.quota_id)?e.quota_id:void 0,amount:_s(e.amount,"amount",0),status:r,expires_at:e.expires_at?String(e.expires_at):void 0,committed_at:e.committed_at?String(e.committed_at):void 0,created_at:String(e.created_at),updated_at:String(e.updated_at),_syncStatus:e._syncStatus==="pending"||e._syncStatus==="synced"||e._syncStatus==="conflict"||e._syncStatus==="error"?e._syncStatus:"pending",_lastModified:String(e._lastModified),_version:_s(e._version,"_version",0),_deleted:Zl(e._deleted,"_deleted")}}catch(t){return console.error("Error validating quota reservation data:",t,e),null}}function by(e,t){switch(t){case"contact":case"contacts":return CF(e);case"group":case"groups":return gY(e);case"template":case"templates":return vY(e);case"activityLog":case"activity_logs":case"activityLogs":return yY(e);case"assetFile":case"assets":return xY(e);case"quota":case"quotas":return wY(e);case"profile":case"profiles":return _Y(e);case"quotaReservation":case"quotaReservations":return bY(e);default:return console.error("Unknown data type for validation:",t),null}}function AF(e,t,r,n){console.error(`Validation failed for ${e} ${t}:`,{error:n instanceof Error?n.message:n,originalData:r,timestamp:new Date().toISOString()})}class sc{constructor(t){St(this,"eventListeners",[]);St(this,"status","idle");St(this,"syncInterval",null);St(this,"cleanupInterval",null);St(this,"isOnline",navigator.onLine);St(this,"currentConfig");St(this,"masterUserId",null);St(this,"activityConfig");St(this,"connectionState");St(this,"syncMetrics");St(this,"lastUserActivity",new Date);St(this,"currentSyncInterval");St(this,"retryDelays",new Map);St(this,"syncCache",new Map);St(this,"compressionCache",new Map);this.currentConfig={autoSync:!0,baseSyncInterval:3e4,maxRetries:3,conflictResolution:"last_write_wins",batchSize:50,maxQueueSize:1e3,cleanupInterval:3e5,connectionTimeout:1e4,retryBackoffMultiplier:2,maxBackoffDelay:3e5,activityDetectionEnabled:!0,backgroundSyncEnabled:!0,compressionEnabled:!1,...t},this.activityConfig={userActionThreshold:5e3,syncIntervalMultiplier:.5,idleTimeout:3e5,backgroundInterval:3e5},this.connectionState={isOnline:navigator.onLine,quality:"good",lastCheck:new Date,consecutiveFailures:0,averageLatency:0},this.syncMetrics={totalOperations:0,successfulOperations:0,failedOperations:0,averageSyncTime:0,lastSyncTime:new Date(0),dataTransferred:0,compressionRatio:1,connectionQuality:"good"},this.currentSyncInterval=this.currentConfig.baseSyncInterval,this.setupOnlineDetection(),this.setupActivityDetection(),this.setupCleanupScheduler()}setMasterUserId(t){this.masterUserId=t}getIsOnline(){return this.isOnline}addEventListener(t){this.eventListeners.push(t)}removeEventListener(t){const r=this.eventListeners.indexOf(t);r>-1&&this.eventListeners.splice(r,1)}emit(t){const r={...t,timestamp:new Date};this.eventListeners.forEach(n=>{try{n(r)}catch(a){console.error("Error in sync event listener:",a)}})}setStatus(t,r){this.status!==t&&(this.status=t,this.emit({type:"status_change",status:t,message:r}))}setupOnlineDetection(){const t=async()=>{const r=this.isOnline;this.isOnline=navigator.onLine,r!==this.isOnline&&(this.isOnline?(this.setStatus("idle","Back online"),await this.checkConnectionQuality(),this.currentConfig.autoSync&&this.triggerSync()):(this.setStatus("offline","Gone offline"),this.connectionState.quality="offline"))};window.addEventListener("online",t),window.addEventListener("offline",t),setInterval(()=>{this.isOnline&&this.checkConnectionQuality()},6e4)}setupActivityDetection(){if(!this.currentConfig.activityDetectionEnabled)return;const t=["mousedown","keydown","scroll","touchstart"],r=()=>{this.lastUserActivity=new Date,this.adjustSyncInterval()};t.forEach(n=>{document.addEventListener(n,r,{passive:!0})}),setInterval(()=>{this.adjustSyncInterval()},1e4)}setupCleanupScheduler(){this.cleanupInterval=setInterval(()=>{this.performCleanup()},this.currentConfig.cleanupInterval)}async checkConnectionQuality(){if(!this.isOnline){this.connectionState.quality="offline";return}try{const t=Date.now(),{error:r}=await ut.from("profiles").select("count").limit(1).single();if(r)throw r;const n=Date.now()-t;this.connectionState.lastCheck=new Date,this.connectionState.averageLatency=n,this.connectionState.consecutiveFailures=0,n<500?this.connectionState.quality="excellent":n<2e3?this.connectionState.quality="good":this.connectionState.quality="poor",this.syncMetrics.connectionQuality=this.connectionState.quality}catch(t){console.error("Connection check failed:",t),this.connectionState.consecutiveFailures++,this.connectionState.consecutiveFailures>3&&(this.connectionState.quality="poor",this.syncMetrics.connectionQuality="poor")}}adjustSyncInterval(){if(!this.currentConfig.activityDetectionEnabled)return;const n=new Date().getTime()-this.lastUserActivity.getTime()<this.activityConfig.idleTimeout;let a=this.currentConfig.baseSyncInterval;n?a=Math.max(5e3,this.currentConfig.baseSyncInterval*this.activityConfig.syncIntervalMultiplier):this.currentConfig.backgroundSyncEnabled&&(a=this.activityConfig.backgroundInterval),this.connectionState.quality==="poor"?a*=2:this.connectionState.quality==="excellent"&&(a*=.8),a!==this.currentSyncInterval&&(this.currentSyncInterval=a,this.restartAutoSync())}restartAutoSync(){this.stopAutoSync(),this.startAutoSync()}async performCleanup(){try{const t=new Date(Date.now()-864e5);await ze.syncQueue.where("status").equals("failed").and(a=>lu(a.timestamp)<t).delete();const r=await ze.syncQueue.where("status").equals("completed").reverse().sortBy("timestamp");if(r.length>1e3){const a=r.slice(1e3);await ze.syncQueue.bulkDelete(a.map(s=>s.id))}const n=Date.now()-3600*1e3;for(const a of this.syncCache.keys()){const s=this.syncCache.get(a);s&&s.timestamp&&s.timestamp<n&&this.syncCache.delete(a)}for(const[a,s]of this.compressionCache.entries())Date.now()-parseInt(a.split("_")[1]||"0")>1800*1e3&&this.compressionCache.delete(a);console.log("Sync cleanup completed")}catch(t){console.error("Error during sync cleanup:",t)}}startAutoSync(){this.syncInterval&&clearInterval(this.syncInterval),this.currentConfig.autoSync&&(this.syncInterval=setInterval(()=>{this.isOnline&&this.masterUserId&&this.sync()},this.currentSyncInterval))}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async triggerSync(){if(!this.isOnline){this.setStatus("offline","Cannot sync while offline");return}if(!this.masterUserId)throw new Error("Master user ID not set");await this.sync()}async sync(){const t=Date.now();this.setStatus("syncing","Starting sync");try{if(!await Nr.getCurrentUser()){console.warn("Sync skipped: User not authenticated"),this.setStatus("idle","Waiting for authentication");return}const n=await this.getPrioritizedSyncOperations();if(n.length===0){this.setStatus("idle","No changes to sync");return}this.emit({type:"sync_start",message:`Syncing ${n.length} operations`,total:n.length});let a=0;for(let i=0;i<n.length;i+=this.currentConfig.batchSize){const l=n.slice(i,i+this.currentConfig.batchSize);await this.processBatchWithRetry(l),a+=l.length,this.emit({type:"progress_update",progress:a,total:n.length,message:`Processed ${a}/${n.length} operations`})}await this.pullFromServerWithCache();const s=Date.now()-t;this.updateSyncMetrics(s,n.length),this.setStatus("idle","Sync completed"),this.emit({type:"sync_complete",message:`Sync completed successfully in ${s}ms`,total:n.length})}catch(r){const n=Date.now()-t;console.error(`Sync error (duration: ${n}ms):`,r),this.syncMetrics.failedOperations++;const a=this.isRecoverableError(r);a&&this.connectionState.consecutiveFailures<3?(this.setStatus("reconnecting","Sync failed, will retry"),setTimeout(()=>{this.isOnline&&this.sync()},this.getRetryDelay())):this.setStatus("error",r instanceof Error?r.message:"Sync failed"),this.emit({type:"sync_error",error:r instanceof Error?r:new Error("Unknown sync error"),message:a?"Sync failed, will retry automatically":"Sync failed permanently"})}}async getPrioritizedSyncOperations(){return(await ze.getPendingSyncOperations()).map(n=>({...n,priority:this.determineOperationPriority(n),estimatedSize:this.estimateOperationSize(n),dependencies:[]})).sort((n,a)=>{if(n.priority!==a.priority){const s={critical:0,high:1,normal:2,low:3,background:4};return s[n.priority]-s[a.priority]}return dj(n.timestamp,a.timestamp)})}determineOperationPriority(t){return t.operation==="delete"||t.table==="quotas"&&t.operation==="update"?"critical":t.table==="contacts"||t.table==="templates"?"high":t.table==="activityLogs"||t.table==="groups"?"normal":"low"}estimateOperationSize(t){return 100+JSON.stringify(t.data||{}).length}isRecoverableError(t){if(!t)return!1;const r=t.message||t.toString();return["network","timeout","connection","offline","fetch","ECONNREFUSED","ENOTFOUND"].some(a=>r.toLowerCase().includes(a.toLowerCase()))}getRetryDelay(){const r=this.currentConfig.maxBackoffDelay,n=this.currentConfig.retryBackoffMultiplier;return Math.min(1e3*Math.pow(n,this.connectionState.consecutiveFailures),r)}updateSyncMetrics(t,r){this.syncMetrics.lastSyncTime=new Date,this.syncMetrics.averageSyncTime=(this.syncMetrics.averageSyncTime+t)/2,this.syncMetrics.totalOperations+=r}async processBatchWithRetry(t){const r=await Promise.allSettled(t.map(s=>this.processOperationWithRetry(s))),n=r.filter(s=>s.status==="fulfilled").length,a=r.filter(s=>s.status==="rejected").length;a>0&&console.warn(`Batch processing: ${n} successful, ${a} failed`)}async processOperationWithRetry(t){const r=`${t.table}_${t.recordId}_${t.operation}`;let n;for(let a=0;a<=this.currentConfig.maxRetries;a++)try{await this.processOperation(t),await ze.syncQueue.update(t.id,{status:"completed",lastAttempt:or()}),this.retryDelays.delete(r);return}catch(s){if(n=s,console.error(`Error processing operation ${t.id} (attempt ${a+1}):`,s),a<this.currentConfig.maxRetries){const i=Math.min(1e3*Math.pow(this.currentConfig.retryBackoffMultiplier,a),this.currentConfig.maxBackoffDelay);this.retryDelays.set(r,i),await new Promise(l=>setTimeout(l,i))}}throw await ze.syncQueue.update(t.id,{status:"failed",error:n instanceof Error?n.message:"Unknown error",retryCount:this.currentConfig.maxRetries,lastAttempt:or()}),n}async processOperation(t){const r=t.table,n=t.recordId;switch(t.operation){case"create":await this.pushCreate(r,n,t.data);break;case"update":await this.pushUpdate(r,n,t.data);break;case"delete":await this.pushDelete(r,n);break;default:throw new Error(`Unknown operation: ${t.operation}`)}const a=ze.table(r);t.operation!=="delete"&&await a.update(n,{_syncStatus:"synced"})}async pushCreate(t,r,n){const a=this.mapTableName(t),{_syncStatus:s,_lastModified:i,_version:l,_deleted:u,_compressed:d,_compressionKey:m,assets:p,...v}=n;if(t==="assets"&&(delete v.size,delete v.type,delete v.url,delete v.uploadDate),t==="assets"){if(!v.master_user_id)throw console.error("CRITICAL: master_user_id is missing for asset!",{recordId:r,serverData:v,originalData:n}),new Error("master_user_id is required for assets");console.log("Pushing asset to Supabase:",{id:v.id,master_user_id:v.master_user_id,file_name:v.file_name})}const{error:y}=await ut.from(a).upsert(v,{onConflict:"id"});if(y)throw y}async pushUpdate(t,r,n){if(t==="quotas"&&n.action==="commit_quota"){console.log("SyncManager: Executing commit_quota RPC",n);const w=await fp.commitQuotaUsage(n.reservation_id,n.success_count);if(!w.success)throw new Error(w.error_message||"Failed to commit quota usage via sync");return}const a=this.mapTableName(t),{_syncStatus:s,_lastModified:i,_version:l,_deleted:u,_compressed:d,_compressionKey:m,assets:p,...v}=n;v.updated_at=or(),t==="assets"&&(delete v.size,delete v.type,delete v.url,delete v.uploadDate);const{error:y}=await ut.from(a).update(v).eq("id",r);if(y)throw y}async pushDelete(t,r){const n=this.mapTableName(t),{error:a}=await ut.from(n).delete().eq("id",r);if(a)throw a}async pullFromServerWithCache(){if(!this.masterUserId)return;const t=ze.getSyncableTables(),r=`pull_cache_${this.masterUserId}_${Date.now()}`;try{const n=this.syncCache.get(r);if(n&&Date.now()-n.timestamp<3e4){console.log("Using cached pull data");return}const a=t.map(s=>this.pullTableFromServer(s));if(await Promise.allSettled(a),this.syncCache.set(r,{timestamp:Date.now(),data:{tables:t,timestamp:new Date}}),this.syncCache.size>10){const s=this.syncCache.keys().next().value;s&&this.syncCache.delete(s)}}catch(n){console.error("Error in pullFromServerWithCache:",n)}}async resolveConflict(t,r,n,a){try{const s=this.validateAndNormalizeTimestamp(n._lastModified||n.updated_at),i=this.validateAndNormalizeTimestamp(a.updated_at);if(!s||!i)return{resolved:!0,winner:"remote",data:a,userNotification:"Data conflict resolved automatically due to invalid timestamps",auditLog:`Conflict resolved for ${t}:${r} - invalid timestamps, chose remote`};const l=dj(s,i);let u,d,m="",p="";switch(this.currentConfig.conflictResolution){case"last_write_wins":l>0?(u="local",d=n,p=`Last-write-wins: local data chosen (${s} > ${i})`):l<0?(u="remote",d=a,p=`Last-write-wins: remote data chosen (${i} > ${s})`):(u="merged",d=this.mergeData(n,a),p="Last-write-wins: data merged (same timestamp)");break;case"remote_wins":u="remote",d=a,p="Remote-wins strategy: remote data chosen";break;case"local_wins":u="local",d=n,p="Local-wins strategy: local data chosen";break;case"manual":u="local",d=n,m=`Conflict detected in ${t}. Please review and resolve manually.`,p=`Manual resolution required for ${t}:${r}`;break;default:u="remote",d=a,p="Default strategy: remote data chosen"}return Math.abs(l)>3e5&&(m=m||`Significant data conflict resolved in ${t}.`,console.warn(`Significant conflict detected: ${p}`)),{resolved:!0,winner:u,data:d,userNotification:m,auditLog:p}}catch(s){return console.error("Error resolving conflict:",s),{resolved:!0,winner:"remote",data:a,userNotification:"Conflict resolution failed, using server data",auditLog:`Conflict resolution error for ${t}:${r}, fell back to remote`}}}validateAndNormalizeTimestamp(t){try{if(!t)return console.warn("Timestamp is null or undefined"),null;const r=uj(t);return dY(r)?r:(console.error(`Invalid timestamp after normalization: ${t} -> ${r}`),null)}catch(r){return console.error("Error validating timestamp:",r,"Input:",t),null}}mergeData(t,r){const n={...r};return t._syncStatus&&(n._syncStatus=t._syncStatus),t._lastModified&&(n._lastModified=t._lastModified),t._version&&(n._version=Math.max(t._version||0,r._version||0)+1),["notes","tags","is_blocked"].forEach(s=>{t[s]&&!r[s]&&(n[s]=t[s])}),n}async pullTableFromServer(t){const r=this.mapTableName(t),n=ze.table(t),a=await this.getLastSyncTime(t);let s="updated_at";t==="userSessions"&&(s="last_active"),console.log(`SyncManager: pullTableFromServer - Pulling ${t} from server. MasterID: ${this.masterUserId}, LastSync: ${a}`);const{data:i,error:l}=await ut.from(r).select("*").eq("master_user_id",this.masterUserId).gte(s,a);if(l)throw console.error(`SyncManager: pullTableFromServer - Error pulling ${t}:`,l),l;if(console.log(`SyncManager: pullTableFromServer - Pulled ${(i==null?void 0:i.length)||0} records for ${t} from server`),!(!i||i.length===0)){for(const u of i)try{const d=this.normalizeServerRecordTimestamps(u),m=await n.get(d.id);if(m){const p=await this.resolveConflict(t,d.id,m,d);if(p.resolved){const v={...this.normalizeServerRecordTimestamps(p.data),_syncStatus:"synced",_lastModified:or(),_version:(m._version||0)+1,_deleted:!1};await n.update(d.id,v),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++,this.currentConfig.conflictResolution==="manual"&&this.emit({type:"conflict_detected",table:t,recordId:d.id,message:p.userNotification||`Conflict detected for record ${d.id} in ${t}`}),p.userNotification&&this.emit({type:"user_notification",table:t,recordId:d.id,message:p.userNotification,notificationType:"warning",userMessage:p.userNotification}),console.log(`Conflict resolved: ${p.auditLog}`)}else console.error(`Failed to resolve conflict for ${t}:${d.id}`),this.syncMetrics.failedOperations++}else{const p=by(d,t);if(p){const v={...p,_syncStatus:"synced",_lastModified:or(),_version:1,_deleted:!1};await n.add(v),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++}else console.error(`Validation failed for new server record ${d.id} in ${t}`),this.syncMetrics.failedOperations++}}catch(d){console.error(`Error processing server record ${u.id} in ${t}:`,d),this.syncMetrics.failedOperations++}await this.setLastSyncTime(t,or())}}async getLastSyncTime(t){const r=`last_sync_${t}`,n=localStorage.getItem(r);return n||new Date(0).toISOString()}async setLastSyncTime(t,r){const n=`last_sync_${t}`;localStorage.setItem(n,r)}normalizeServerRecordTimestamps(t){if(!t||typeof t!="object")return t;const r={...t};return["created_at","updated_at","uploadDate","started_at","completed_at","scheduled_for","reset_date","expires_at","last_interaction","committed_at","payment_date","last_active"].forEach(a=>{if(r[a])try{r[a]=uj(r[a])}catch(s){console.warn(`Failed to normalize timestamp field ${a}:`,s)}}),r}mapTableName(t){return{contacts:"contacts",groups:"groups",templates:"templates",activityLogs:"history",assets:"assets",quotas:"user_quotas",profiles:"profiles",payments:"payments",quotaReservations:"quota_reservations",userSessions:"user_sessions"}[t]||t}async addToSyncQueue(t,r,n,a,s="normal"){const i=by(a,t);if(!i)throw AF("sync_queue",t,a,new Error("Validation failed")),new Error(`Invalid data for ${t} sync operation`);let l=i;this.currentConfig.compressionEnabled&&r!=="delete"&&(l=await this.compressData(i));const u={table:t,operation:r,recordId:n,data:l,timestamp:or(),retryCount:0,status:"pending"};await ze.syncQueue.add(u),this.lastUserActivity=new Date,s==="critical"&&this.isOnline&&setTimeout(()=>this.triggerSync(),100)}async compressData(t){try{const r=JSON.stringify(t),n=btoa(r),a=`compressed_${Date.now()}_${Math.random()}`;return this.compressionCache.set(a,n),this.syncMetrics.compressionRatio=(this.syncMetrics.compressionRatio+r.length/n.length)/2,{_compressed:!0,_compressionKey:a}}catch(r){return console.warn("Compression failed, using original data:",r),t}}getStatus(){return this.status}async getSyncStats(){const t=await ze.getUnsyncedCount(),r=await ze.getPendingSyncOperations();return{status:this.status,isOnline:this.isOnline,connectionQuality:this.connectionState.quality,unsyncedCounts:t,pendingOperations:r.length,totalPending:r.reduce((n,a)=>n+1,0),metrics:{...this.syncMetrics,cacheSize:this.syncCache.size,compressionCacheSize:this.compressionCache.size,activeRetries:this.retryDelays.size,currentSyncInterval:this.currentSyncInterval},activity:{lastUserActivity:this.lastUserActivity,isActive:Date.now()-this.lastUserActivity.getTime()<this.activityConfig.idleTimeout},queueHealth:{size:await ze.syncQueue.count(),maxSize:this.currentConfig.maxQueueSize,healthPercentage:Math.min(100,await ze.syncQueue.where("status").equals("failed").count()/Math.max(1,await ze.syncQueue.count())*100)}}}getSyncLogs(t=50){return[]}async forceCleanup(){await this.performCleanup(),console.log("Forced cleanup completed")}resetMetrics(){this.syncMetrics={totalOperations:0,successfulOperations:0,failedOperations:0,averageSyncTime:0,lastSyncTime:new Date(0),dataTransferred:0,compressionRatio:1,connectionQuality:this.connectionState.quality}}async partialSync(t,r=.5){if(!this.isOnline){this.setStatus("offline","Cannot sync while offline");return}if(!this.masterUserId)throw new Error("Master user ID not set");const n=Date.now();this.setStatus("syncing",`Starting partial sync for ${t.length} tables at ${r*100}%`);try{this.emit({type:"sync_start",message:`Partial sync of ${t.length} tables at ${r*100}%`,total:t.length});let a=0;for(const i of t)try{const l=r>=1?void 0:await this.calculateRecordLimit(i,r);await this.pullTableFromServerWithLimit(i,l),a++,this.emit({type:"progress_update",progress:a,total:t.length,message:`Processed ${a}/${t.length} tables`})}catch(l){console.error(`Error syncing table ${i}:`,l)}const s=Date.now()-n;this.updateSyncMetrics(s,a),this.setStatus("idle","Partial sync completed"),this.emit({type:"sync_complete",message:`Partial sync completed in ${s}ms for ${a}/${t.length} tables`,total:a})}catch(a){const s=Date.now()-n;console.error(`Partial sync error (duration: ${s}ms):`,a),this.setStatus("error",a instanceof Error?a.message:"Partial sync failed"),this.emit({type:"sync_error",error:a instanceof Error?a:new Error("Unknown sync error"),message:"Partial sync failed"})}}async calculateRecordLimit(t,r){let n=0;if(n=await ze.table(t).count(),n===0){const i=this.mapTableName(t),{count:l,error:u}=await ut.from(i).select("id",{count:"exact",head:!0}).eq("master_user_id",this.masterUserId);if(u)return console.error(`Error counting records in ${t}:`,u),Math.max(1,Math.floor(100*r));n=l||0}const s=Math.max(1,Math.floor(n*r));switch(t){case"contacts":return Math.min(s,1e3);case"templates":return Math.min(s,500);case"assets":return Math.min(s,100);default:return Math.min(s,500)}}async pullTableFromServerWithLimit(t,r){const n=this.mapTableName(t),a=ze.table(t),s=await this.getLastSyncTime(t);let i="updated_at";t==="userSessions"&&(i="last_active"),console.log(`SyncManager: Pulling ${t} from server. MasterID: ${this.masterUserId}, LastSync: ${s}`);let l=ut.from(n).select("*").eq("master_user_id",this.masterUserId).gte(i,s);r&&(l=l.limit(r));const{data:u,error:d}=await l;if(d)throw console.error(`SyncManager: Error pulling ${t}:`,d),d;if(console.log(`SyncManager: Pulled ${(u==null?void 0:u.length)||0} records for ${t} from server`),!(!u||u.length===0)){for(const m of u)try{const p=this.normalizeServerRecordTimestamps(m),v=await a.get(p.id);if(v){const y=await this.resolveConflict(t,p.id,v,p);if(y.resolved){const w={...this.normalizeServerRecordTimestamps(y.data),_syncStatus:"synced",_lastModified:or(),_version:(v._version||0)+1,_deleted:!1};await a.update(p.id,w),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++,y.userNotification&&this.emit({type:"user_notification",table:t,recordId:p.id,message:y.userNotification,notificationType:"warning",userMessage:y.userNotification}),console.log(`Conflict resolved: ${y.auditLog}`)}else console.error(`Failed to resolve conflict for ${t}:${p.id}`),this.syncMetrics.failedOperations++}else{const y=by(p,t);if(y){const w={...y,_syncStatus:"synced",_lastModified:or(),_version:1,_deleted:!1};await a.add(w),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++}else console.error(`Validation failed for new server record ${p.id} in ${t}`),this.syncMetrics.failedOperations++}}catch(p){console.error(`Error processing server record ${m.id} in ${t}:`,p),this.syncMetrics.failedOperations++}await this.setLastSyncTime(t,or())}}async backgroundSync(t){if(!this.isOnline){console.log("Skipping background sync - offline");return}if(!this.masterUserId){console.log("Skipping background sync - no master user ID");return}console.log(`Starting background sync for ${t.length} tables`),this.emit({type:"sync_start",message:`Background sync for ${t.length} tables`,notificationType:"info"}),setTimeout(async()=>{try{this.setStatus("syncing","Background sync in progress");let r=0;for(const n of t)try{await this.pullRemainingRecords(n),r++}catch(a){console.error(`Error in background sync for table ${n}:`,a)}this.setStatus("idle","Background sync completed"),console.log(`Background sync completed for ${r}/${t.length} tables`),this.emit({type:"sync_complete",message:`Background sync completed for ${r} tables`,notificationType:"success"})}catch(r){console.error("Background sync error:",r),this.emit({type:"sync_error",error:r instanceof Error?r:new Error("Background sync failed"),message:"Background sync failed",notificationType:"error"})}},0)}async pullRemainingRecords(t){const r=this.mapTableName(t),n=ze.table(t),a=await this.getLastSyncTime(t);let s="updated_at";t==="userSessions"&&(s="last_active"),console.log(`SyncManager: pullRemainingRecords - Pulling ${t} from server. MasterID: ${this.masterUserId}, LastSync: ${a}`);const{data:i,error:l}=await ut.from(r).select("*").eq("master_user_id",this.masterUserId).gte(s,a);if(l){console.error(`SyncManager: pullRemainingRecords - Error pulling ${t}:`,l);return}if(console.log(`SyncManager: pullRemainingRecords - Pulled ${(i==null?void 0:i.length)||0} records for ${t} from server`),l)throw l;if(!(!i||i.length===0)){for(const u of i)try{const d=this.normalizeServerRecordTimestamps(u),m=await n.get(d.id);if(m){const p=await this.resolveConflict(t,d.id,m,d);if(p.resolved){const v={...this.normalizeServerRecordTimestamps(p.data),_syncStatus:"synced",_lastModified:or(),_version:(m._version||0)+1,_deleted:!1};await n.update(d.id,v),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++}else console.error(`Failed to resolve conflict for ${t}:${d.id}`),this.syncMetrics.failedOperations++}else{const p=by(d,t);if(p){const v={...p,_syncStatus:"synced",_lastModified:or(),_version:1,_deleted:!1};await n.add(v),this.syncMetrics.totalOperations++,this.syncMetrics.successfulOperations++}else console.error(`Validation failed for new server record ${d.id} in ${t}`),this.syncMetrics.failedOperations++}}catch(d){console.error(`Error processing server record ${u.id} in ${t}:`,d),this.syncMetrics.failedOperations++}await this.setLastSyncTime(t,or())}}async clearSyncTimestamps(){try{const t=ze.getSyncableTables();for(const r of t){const n=`last_sync_${r}`;localStorage.removeItem(n)}console.log("Cleared all sync timestamps")}catch(t){console.error("Error clearing sync timestamps:",t)}}destroy(){this.stopAutoSync(),this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.eventListeners=[],this.syncCache.clear(),this.compressionCache.clear(),this.retryDelays.clear(),window.removeEventListener("online",this.setupOnlineDetection),window.removeEventListener("offline",this.setupOnlineDetection),console.log("SyncManager destroyed and resources cleaned up")}}const ro=new sc,SY=Object.defineProperty({__proto__:null,SyncManager:sc,syncManager:ro},Symbol.toStringTag,{value:"Module"});class EY{constructor(t){St(this,"syncManager");this.syncManager=t||new sc,this.setupSyncEventListeners()}setupSyncEventListeners(){this.syncManager.addEventListener(t=>{if(t.table==="quotas"||t.table==="quotaReservations")switch(t.type){case"sync_complete":console.log("Quota sync completed");break;case"sync_error":console.error("Quota sync error:",t.error);break;case"conflict_detected":console.warn("Quota conflict detected:",t.message);break}})}async initialize(t){this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync();try{await this.syncManager.triggerSync()}catch(r){console.warn("Initial sync failed, will retry later:",r)}}async reserveQuota(t,r){if(!this.syncManager.getIsOnline())throw new Error("Internet connection required to reserve quota");const a=await this.onlineReserveQuota(t,r);if(!a.success)throw new Error(a.error_message||"Failed to reserve quota");try{const s=await Nr.getCurrentMasterUserId();s&&await ze.quotaReservations.add({id:a.reservation_id,user_id:t,master_user_id:s,amount:r,status:"pending",created_at:or(),updated_at:or(),_syncStatus:"synced",_lastModified:or(),_version:1})}catch(s){console.warn("Failed to cache reservation locally:",s)}return a}async commitQuota(t,r){if(r<=0){console.log("[QuotaService] successCount is 0, releasing reservation instead of committing."),await this.releaseQuota(t);return}try{await this.onlineCommitQuota(t,r),await ze.quotaReservations.update(t,{status:"committed",committed_at:or(),_syncStatus:"synced",updated_at:or()})}catch{console.warn("[QuotaService] Online commit failed, using fallback"),await ze.quotaReservations.update(t,{status:"committed",committed_at:or(),_syncStatus:"pending",updated_at:or()}),await ze.syncQueue.add({table:"quotas",operation:"update",recordId:t,data:{action:"commit_quota",reservation_id:t,success_count:r},timestamp:or(),retryCount:0,status:"pending"})}}async getQuota(t){try{if(!t)throw new Error("User ID is required");if(this.syncManager.getIsOnline())try{const n=await fp.checkQuotaUsage(t);if(!n)throw new Error("No quota data found for user");return{...sn(n,"quota"),id:n.id,user_id:n.user_id,master_user_id:n.master_user_id,plan_type:n.plan_type,messages_limit:n.messages_limit,messages_used:n.messages_used,remaining:n.messages_limit-n.messages_used,reset_date:n.reset_date,is_active:n.is_active}}catch(n){console.warn("Online quota fetch failed, trying local:",n);const a=await ze.quotas.get(t);if(a)return{...sn(a,"quota"),id:a.id,user_id:a.user_id,master_user_id:a.master_user_id,plan_type:a.plan_type,messages_limit:a.messages_limit,messages_used:a.messages_used,remaining:a.messages_limit-a.messages_used,reset_date:a.reset_date,is_active:a.is_active};throw new Error(`Failed to fetch quota: ${Jt(n)}`)}else{const n=await ze.quotas.get(t);if(n)return{...sn(n,"quota"),id:n.id,user_id:n.user_id,master_user_id:n.master_user_id,plan_type:n.plan_type,messages_limit:n.messages_limit,messages_used:n.messages_used,remaining:n.messages_limit-n.messages_used,reset_date:n.reset_date,is_active:n.is_active};throw new Error("No local quota data available and offline mode detected")}}catch(r){throw console.error("Error fetching quota for user:",t,r),r instanceof Error?new Error(`Failed to fetch quota: ${r.message}`):new Error("Failed to fetch quota: Unknown error")}}subscribeToQuotaUpdates(t,r){try{if(!t)throw new Error("User ID is required for subscription");console.log("Subscribing to quota updates for user:",t);const n=ut.channel(`quota-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"user_quotas",filter:`user_id=eq.${t}`},async a=>{if(console.log("Real-time quota update received:",a),a.eventType==="INSERT"||a.eventType==="UPDATE"){const s=a.new;try{const i=sn(s,"quota"),l={id:i.id,user_id:i.user_id,master_user_id:i.master_user_id,plan_type:i.plan_type,messages_limit:i.messages_limit,messages_used:i.messages_used,remaining:i.messages_limit-i.messages_used,reset_date:i.reset_date,is_active:i.is_active,created_at:i.created_at,updated_at:i.updated_at};r(l)}catch(i){console.error("Error processing quota update:",i)}}else if(a.eventType==="DELETE")try{const s=await this.getQuota(t);r(s)}catch(s){console.error("Error refreshing quota after deletion:",s)}}).subscribe((a,s)=>{s?console.error("Quota subscription error:",s):console.log("Quota subscription status:",a)});return{unsubscribe:()=>{console.log("Unsubscribing from quota updates for user:",t),n.unsubscribe()}}}catch(n){throw console.error("Error setting up quota subscription:",n),new Error(`Failed to setup quota subscription: ${Jt(n)}`)}}async onlineReserveQuota(t,r=1){try{if(!t)throw new Error("User ID is required");if(r<=0)throw new Error("Message count must be greater than 0");console.log("Reserving quota for user:",t,"message count:",r);const n=await fp.reserveQuota(t,r);return n.success?{success:!0,reservation_id:n.reservation_id||`reserve_${Date.now()}`,error_message:void 0}:{success:!1,reservation_id:"",error_message:n.error_message||"Failed to reserve quota"}}catch(n){return console.error("Error reserving quota for user:",t,n),{success:!1,reservation_id:"",error_message:`Failed to reserve quota: ${Jt(n)}`}}}async onlineCommitQuota(t,r=1){try{if(!t)throw new Error("Reservation ID is required");if(r<=0)throw new Error("Success count must be greater than 0");console.log("Committing quota usage:",{reservationId:t,successCount:r});const n=await fp.commitQuotaUsage(t,r);if(!n.success)throw new Error(n.error_message||"Failed to commit quota usage");console.log("Quota committed successfully, remaining:",n.messages_remaining)}catch(n){throw console.error("Error committing quota usage:",n),new Error(`Failed to commit quota: ${Jt(n)}`)}}async releaseQuota(t){try{if(!t)throw new Error("Reservation ID is required");console.log("Releasing quota reservation:",t),await ze.quotaReservations.update(t,{status:"cancelled",updated_at:or(),_syncStatus:"pending"}),console.log("Quota reservation released locally")}catch(r){throw console.error("Error releasing quota reservation:",r),new Error(`Failed to release quota: ${Jt(r)}`)}}async getCurrentUserId(){try{const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t.id}catch(t){throw console.error("Error getting current user ID:",t),new Error(`Authentication error: ${Jt(t)}`)}}async hasSufficientQuota(t,r=1){try{return!t||r<=0?!1:(await this.getQuota(t)).remaining>=r}catch(n){return console.error("Error checking sufficient quota:",n),!1}}async getQuotaStats(t){try{const r=await this.getQuota(t),n=r.messages_limit>0?Math.round(r.messages_used/r.messages_limit*100):0,a=new Date,i=lu(r.reset_date).getTime()-a.getTime(),l=Math.max(0,Math.ceil(i/(1e3*3600*24))),u=r.plan_type==="basic"||n>80;return{usagePercentage:n,daysUntilReset:l,planType:r.plan_type,canUpgrade:u}}catch(r){return console.error("Error getting quota stats:",r),{usagePercentage:0,daysUntilReset:30,planType:"basic",canUpgrade:!0}}}async createQuota(t,r,n="basic",a=1e3){try{if(!t||!r)throw new Error("User ID and Master User ID are required");if(!["basic","premium","enterprise"].includes(n))throw new Error("Invalid plan type");if(a<=0)throw new Error("Messages limit must be greater than 0");const{data:s,error:i}=await ut.from("user_quotas").insert({user_id:t,master_user_id:r,plan_type:n,messages_limit:a,messages_used:0,is_active:!0}).select().single();if(i)throw i;const l=sn(s,"quota");return{id:l.id,user_id:l.user_id,master_user_id:l.master_user_id,plan_type:l.plan_type,messages_limit:l.messages_limit,messages_used:l.messages_used,remaining:l.messages_limit-l.messages_used,reset_date:l.reset_date,is_active:l.is_active,created_at:l.created_at,updated_at:l.updated_at}}catch(s){throw console.error("Error creating quota:",s),new Error(`Failed to create quota: ${Jt(s)}`)}}async updateQuota(t,r){try{if(!t)throw new Error("Quota ID is required");const n={updated_at:On(new Date)};if(r.planType){if(!["basic","premium","enterprise"].includes(r.planType))throw new Error("Invalid plan type");n.plan_type=r.planType}if(r.messagesLimit!==void 0){if(r.messagesLimit<=0)throw new Error("Messages limit must be greater than 0");n.messages_limit=r.messagesLimit}r.isActive!==void 0&&(n.is_active=r.isActive);const{data:a,error:s}=await ut.from("user_quotas").update(n).eq("id",t).select().single();if(s)throw s;const i=sn(a,"quota");return{id:i.id,user_id:i.user_id,master_user_id:i.master_user_id,plan_type:i.plan_type,messages_limit:i.messages_limit,messages_used:i.messages_used,remaining:i.messages_limit-i.messages_used,reset_date:i.reset_date,is_active:i.is_active,created_at:i.created_at,updated_at:i.updated_at}}catch(n){throw console.error("Error updating quota:",n),new Error(`Failed to update quota: ${Jt(n)}`)}}async localReserveQuota(t,r=1){try{if(!t)throw new Error("User ID is required");if(r<=0)throw new Error("Amount must be greater than 0");const n=await this.getLocalQuotaData(t);if(!n)throw new Error("No local quota found for user");const a=await this.getLocalQuotaStatus(t);if(a.messages_remaining<r)throw new Error(`Insufficient quota. Remaining: ${a.messages_remaining}, Required: ${r}`);const s={id:`local_reservation_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:t,master_user_id:n.master_user_id,quota_id:n.id,amount:r,status:"pending",expires_at:or(),created_at:or(),updated_at:or(),_syncStatus:"pending",_lastModified:or(),_version:1,_deleted:!1};return await ze.quotaReservations.add(s),{id:s.id,user_id:s.user_id,master_user_id:s.master_user_id,quota_id:s.quota_id,amount:s.amount,status:s.status,expires_at:s.expires_at,committed_at:s.committed_at,created_at:s.created_at,updated_at:s.updated_at}}catch(n){throw console.error("Error in localReserveQuota:",n),new Error(`Failed to reserve local quota: ${Jt(n)}`)}}async localCommitReservation(t){try{if(!t)throw new Error("Reservation ID is required");const r=await ze.quotaReservations.get(t);if(!r)throw new Error("Reservation not found");if(r.status!=="pending")throw new Error(`Cannot commit reservation with status: ${r.status}`);if(r.expires_at&&lu(r.expires_at)<new Date)throw new Error("Reservation has expired");await ze.quotaReservations.update(t,{status:"committed",committed_at:or(),updated_at:or(),_syncStatus:"pending"});const n=await this.getLocalQuotaData(r.user_id);n&&await ze.quotas.update(n.id,{messages_used:n.messages_used+r.amount,updated_at:On(new Date),_syncStatus:"pending"}),console.log(`Local quota reservation ${t} committed successfully`)}catch(r){throw console.error("Error in localCommitReservation:",r),new Error(`Failed to commit local reservation: ${Jt(r)}`)}}async getLocalQuotaStatus(t){try{const r=t||await this.getCurrentUserId(),n=await this.getLocalQuotaData(r);if(!n)throw new Error("No local quota found for user");const a=await ze.quotaReservations.where("user_id").equals(r).and(l=>l.status==="pending"&&(!l.expires_at||lu(l.expires_at)>new Date)).toArray(),s=a.reduce((l,u)=>l+u.amount,0),i=Math.max(0,n.messages_limit-n.messages_used-s);return{user_id:r,master_user_id:n.master_user_id,messages_remaining:i,plan_type:n.plan_type,reset_date:n.reset_date,active_reservations:a.length,reserved_amount:s}}catch(r){throw console.error("Error getting local quota status:",r),new Error(`Failed to get local quota status: ${Jt(r)}`)}}async getLocalQuotaData(t){try{return await ze.quotas.where("user_id").equals(t).and(r=>r.is_active).first()}catch(r){console.error("Error getting local quota data:",r);return}}async validateQuotaRequest(t,r){try{if(t<=0)return!1;const n=r||await this.getCurrentUserId();return(await this.getLocalQuotaStatus(n)).messages_remaining>=t}catch(n){return console.error("Error validating quota request:",n),!1}}async getReservationHistory(t){try{const r=t||await this.getCurrentUserId();return(await ze.quotaReservations.where("user_id").equals(r).reverse().sortBy("created_at")).map(a=>({id:a.id,user_id:a.user_id,master_user_id:a.master_user_id,quota_id:a.quota_id,amount:a.amount,status:a.status,expires_at:a.expires_at,committed_at:a.committed_at,created_at:a.created_at,updated_at:a.updated_at}))}catch(r){return console.error("Error getting reservation history:",r),[]}}async cancelReservation(t){try{if(!t)throw new Error("Reservation ID is required");const r=await ze.quotaReservations.get(t);if(!r)throw new Error("Reservation not found");if(r.status!=="pending")throw new Error(`Cannot cancel reservation with status: ${r.status}`);await ze.quotaReservations.update(t,{status:"cancelled",updated_at:or(),_syncStatus:"pending"}),console.log(`Local quota reservation ${t} cancelled successfully`)}catch(r){throw console.error("Error cancelling reservation:",r),new Error(`Failed to cancel reservation: ${Jt(r)}`)}}async localCancelReservation(t){try{if(!t)throw new Error("Reservation ID is required");const r=await ze.quotaReservations.get(t);if(!r)throw new Error("Reservation not found");if(r.status!=="pending")throw new Error(`Cannot cancel reservation with status: ${r.status}`);await ze.quotaReservations.update(t,{status:"cancelled",updated_at:or(),_syncStatus:"pending"}),console.log(`Local quota reservation ${t} cancelled successfully`)}catch(r){throw console.error("Error in localCancelReservation:",r),new Error(`Failed to cancel local reservation: ${Jt(r)}`)}}async cleanupExpiredReservations(){try{const t=or();await ze.quotaReservations.where("status").equals("pending").and(r=>r.expires_at!==void 0&&lu(r.expires_at)<new Date).modify({status:"expired",updated_at:t,_syncStatus:"pending"})}catch(t){console.error("Error cleaning up expired reservations:",t)}}}class TY{constructor(t){St(this,"realtimeChannel",null);St(this,"syncManager");St(this,"masterUserId",null);this.syncManager=t||new sc,this.setupSyncEventListeners()}setupSyncEventListeners(){this.syncManager.addEventListener(t=>{if(t.table==="contacts")switch(t.type){case"sync_complete":this.refreshFromSync();break;case"sync_error":console.error("Contact sync error:",t.error);break}})}async initialize(t){this.masterUserId=t,this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync(),this.syncManager.triggerSync().catch(r=>{console.warn("Initial sync failed, will retry later:",r)})}async backgroundSyncContacts(){try{this.syncManager.triggerSync().catch(t=>{console.warn("Background sync failed:",t)})}catch(t){console.warn("Failed to trigger background sync:",t)}}async getCurrentUser(){const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t}async getMasterUserId(){if(this.masterUserId)return this.masterUserId;const t=await this.getCurrentUser(),{data:r,error:n}=await ut.from("profiles").select("master_user_id").eq("id",t.id).single();return n?(console.error("Error fetching user profile:",n),t.id):(this.masterUserId=(r==null?void 0:r.master_user_id)||t.id,this.masterUserId)}async refreshFromSync(){}transformLocalContacts(t){return t.map(r=>{try{const n=CF(r);if(!n)return console.error("Invalid contact data during transformation:",r),{id:r.id||crypto.randomUUID(),name:"Invalid Contact",phone:"",group_id:r.group_id||"",master_user_id:r.master_user_id||"",created_by:r.created_by||"",tags:[],notes:"",is_blocked:!1,created_at:On(new Date),updated_at:On(new Date)};const a=sn(n,"contact"),s={...a,name:Wn(a.name,"name",255),phone:Wn(a.phone,"phone",20),tags:mp(a.tags,"tags",i=>typeof i=="string"),notes:Wn(a.notes,"notes",1e3),is_blocked:Zl(a.is_blocked,"is_blocked"),groups:void 0};return on(s.id)||(console.warn("Invalid contact ID, generating new UUID:",s.id),s.id=crypto.randomUUID()),on(s.master_user_id)||console.warn("Invalid contact master_user_id:",s.master_user_id),(!s.phone||!kF(s.phone))&&console.warn("Invalid contact phone number:",s.phone),s}catch(n){return AF("transform","contact",r,n),{id:r.id||crypto.randomUUID(),name:"Error Contact",phone:"",group_id:r.group_id||"",master_user_id:r.master_user_id||"",created_by:r.created_by||"",tags:[],notes:"",is_blocked:!1,created_at:On(new Date),updated_at:On(new Date)}}})}async getContacts(){try{const t=await this.getMasterUserId(),r=this.syncManager.getIsOnline();let n=await ze.contacts.where("master_user_id").equals(t).and(a=>!a._deleted).toArray();if(n.length>0){const a=await this.enrichContactsWithGroups(n);return r&&this.backgroundSyncContacts().catch(console.warn),a}if(r){try{if(await this.syncManager.triggerSync(),n=await ze.contacts.where("master_user_id").equals(t).and(a=>!a._deleted).toArray(),n.length>0)return await this.enrichContactsWithGroups(n)}catch(a){console.warn("Sync failed, trying direct server fetch:",a)}return await this.fetchContactsFromServer()}else return console.log("Operating in offline mode - no contacts available locally"),[]}catch(t){if(console.error("Error fetching contacts:",t),!this.syncManager.getIsOnline()){try{const n=await this.getMasterUserId(),a=await ze.contacts.where("master_user_id").equals(n).and(s=>!s._deleted).toArray();if(a.length>0)return await this.enrichContactsWithGroups(a)}catch(n){console.error("Even offline fallback failed:",n)}return[]}try{return await this.fetchContactsFromServer()}catch(n){throw console.error("Server fetch also failed:",n),new Error(`Failed to fetch contacts: ${t instanceof Error?t.message:"Unknown error"}`)}}}async enrichContactsWithGroups(t){const r=[...new Set(t.map(s=>s.group_id))];if(r.length===0)return this.transformLocalContacts(t);const n=await ze.groups.where("id").anyOf(r).toArray(),a=new Map(n.map(s=>[s.id,s]));return t.map(s=>({...this.transformLocalContacts([s])[0],groups:s.group_id?a.get(s.group_id):void 0}))}async fetchContactsFromServer(){await this.getCurrentUser();const t=await this.getMasterUserId(),{data:r,error:n}=await ut.from("contacts").select(`
        *,
        groups (
          id,
          name,
          color
        )
      `).eq("master_user_id",t).eq("is_blocked",!1).order("name");if(n)throw n;return(r||[]).map(a=>({...sn(a),groups:a.groups}))}async getContactsByGroupId(t){try{const r=await this.getMasterUserId();let n=await ze.contacts.where("master_user_id").equals(r).and(s=>!s._deleted&&s.group_id===t).toArray();return n.length>0?await this.enrichContactsWithGroups(n):(await this.fetchContactsFromServer()).filter(s=>s.group_id===t)}catch(r){throw console.error("Error fetching contacts by group:",r),new Error(Jt(r))}}async getContactsByGroupIds(t){try{const r=await this.getMasterUserId();let n=await ze.contacts.where("master_user_id").equals(r).and(s=>!s._deleted&&t.includes(s.group_id)).toArray();return n.length>0?await this.enrichContactsWithGroups(n):(await this.fetchContactsFromServer()).filter(s=>t.includes(s.group_id))}catch(r){throw console.error("Error fetching contacts by groups:",r),new Error(Jt(r))}}async getAllContacts(){return await this.getContacts()}async searchContacts(t){try{const r=await this.getMasterUserId(),a=(await ze.contacts.where("master_user_id").equals(r).and(i=>!i._deleted).toArray()).filter(i=>{var l;return i.name.toLowerCase().includes(t.toLowerCase())||i.phone.includes(t)||((l=i.tags)==null?void 0:l.some(u=>u.toLowerCase().includes(t.toLowerCase())))});return a.length>0?await this.enrichContactsWithGroups(a):(await this.fetchContactsFromServer()).filter(i=>{var l;return i.name.toLowerCase().includes(t.toLowerCase())||i.phone.includes(t)||((l=i.tags)==null?void 0:l.some(u=>u.toLowerCase().includes(t.toLowerCase())))})}catch(r){throw console.error("Error searching contacts:",r),new Error(Jt(r))}}async getContactById(t){try{const r=await this.getMasterUserId(),n=await ze.contacts.get(t);if(n&&!n._deleted&&n.master_user_id===r)return(await this.enrichContactsWithGroups([n]))[0]||null;const{data:a,error:s}=await ut.from("contacts").select(`
          *,
          groups (
            id,
            name,
            color
          )
        `).eq("id",t).eq("master_user_id",r).single();if(s){if(s.code==="PGRST116")return null;throw s}return{...sn(a,"contact"),groups:a.groups}}catch(r){throw console.error("Error fetching contact by ID:",r),new Error(Jt(r))}}async createContact(t){try{if(!await Nr.canPerformAction("create_contacts","contacts"))throw new Error("Access denied: insufficient permissions to create contacts");const n=await this.getCurrentUser(),a=await this.getMasterUserId(),s=this.syncManager.getIsOnline(),i=lo({},!1),l=$a({},!1),u={...t,master_user_id:a,created_by:n.id,is_blocked:t.is_blocked||!1,created_at:i.created_at,updated_at:i.updated_at,_syncStatus:l._syncStatus,_lastModified:l._lastModified,_version:l._version,_deleted:!1},d=crypto.randomUUID(),m={id:d,...u};await ze.contacts.add(m);const p=ma(m);if(s)try{await this.syncManager.addToSyncQueue("contacts","create",d,p)}catch(y){console.warn("Immediate sync failed, will retry later:",y),this.syncManager.addToSyncQueue("contacts","create",d,p).catch(console.error)}else await this.syncManager.addToSyncQueue("contacts","create",d,p);return(await this.enrichContactsWithGroups([m]))[0]}catch(r){throw console.error("Error creating contact:",r),r instanceof Error?new Error(`Failed to create contact: ${r.message}`):new Error("Failed to create contact: Unknown error")}}async createContacts(t){try{if(!await Nr.canPerformAction("create_contacts","contacts"))throw new Error("Access denied: insufficient permissions to create contacts");const n=await this.getCurrentUser(),a=await this.getMasterUserId(),s=this.syncManager.getIsOnline(),i=lo({},!1),l=$a({},!1),u=[],d=[],m=[];for(const p of t)try{const v=crypto.randomUUID(),y={...p,master_user_id:a,created_by:n.id,is_blocked:p.is_blocked||!1,created_at:i.created_at,updated_at:i.updated_at,_syncStatus:l._syncStatus,_lastModified:l._lastModified,_version:l._version,_deleted:!1},w={id:v,...y};u.push(w);const x=ma(w);d.push({table:"contacts",type:"create",id:v,data:x})}catch(v){m.push(`Failed to prepare contact ${p.name}: ${v}`)}if(u.length>0){await ze.contacts.bulkAdd(u);for(const p of d)this.syncManager.addToSyncQueue(p.table,p.type,p.id,p.data).catch(v=>console.warn("Failed to queue sync item:",v));s&&this.backgroundSyncContacts()}return{success:m.length===0,created:u.length,errors:m}}catch(r){return console.error("Error creating multiple contacts:",r),{success:!1,created:0,errors:[r instanceof Error?r.message:"Unknown error"]}}}async updateContact(t,r){try{if(!await Nr.canPerformAction("update_contacts","contacts"))throw new Error("Access denied: insufficient permissions to update contacts");await this.getCurrentUser(),await this.getMasterUserId();const a=await ze.contacts.get(t);if((!a||a._deleted)&&!await this.getContactById(t))throw new Error("Contact not found");const s=lo({},!0),i=$a(a,!0),l={...r,updated_at:s.updated_at,_syncStatus:i._syncStatus,_lastModified:i._lastModified,_version:i._version};await ze.contacts.update(t,l);const u=await ze.contacts.get(t);if(u){const d=ma(u);return await this.syncManager.addToSyncQueue("contacts","update",t,d),(await this.enrichContactsWithGroups([u]))[0]||null}return null}catch(n){throw console.error("Error updating contact:",n),new Error(Jt(n))}}async deleteContact(t){try{if(!await Nr.canPerformAction("delete_contacts","contacts"))throw new Error("Access denied: insufficient permissions to delete contacts");await this.getMasterUserId();const n=await ze.contacts.get(t);if(!n||n._deleted)return await this.deleteContactFromServer(t),!0;const a=$a(n,!0);await ze.contacts.update(t,{_syncStatus:a._syncStatus,_lastModified:a._lastModified,_version:a._version,_deleted:!0});const s=ma(n);return await this.syncManager.addToSyncQueue("contacts","delete",t,s),!0}catch(r){throw console.error("Error deleting contact:",r),new Error(Jt(r))}}async deleteContactFromServer(t){const r=await this.getMasterUserId(),{error:n}=await ut.from("contacts").delete().eq("id",t).eq("master_user_id",r);if(n)throw n}async deleteMultipleContacts(t){try{await this.getMasterUserId();let r=0;for(const n of t)try{await this.deleteContact(n),r++}catch(a){console.error(`Error deleting contact ${n}:`,a)}return{success:r===t.length,deletedCount:r}}catch(r){return console.error("Error deleting multiple contacts:",r),{success:!1,deletedCount:0}}}async uploadContacts(t){return t?{success:!1,uploaded:0,errors:["Please use the new import functionality"]}:{success:!1,uploaded:0}}subscribeToContactUpdates(t){this.unsubscribeFromContactUpdates(),this.realtimeChannel=ut.channel("contacts").on("postgres_changes",{event:"*",schema:"public",table:"contacts"},async r=>{const{new:n,old:a,eventType:s}=r;if(s==="DELETE"){const i=sn(a);t(i,"DELETE")}else{const i=sn(n);t(i,s)}}).subscribe()}unsubscribeFromContactUpdates(){this.realtimeChannel&&(ut.removeChannel(this.realtimeChannel),this.realtimeChannel=null)}async getContactStats(){try{const t=await this.getMasterUserId(),r=await ze.contacts.where("master_user_id").equals(t).and(u=>!u._deleted).toArray();if(r.length>0){const u=r.length,d=r.filter(p=>p.is_blocked).length,m=u-d;return{total:u,active:m,blocked:d}}const{data:n,error:a}=await ut.from("contacts").select("is_blocked").eq("master_user_id",t);if(a)throw a;const s=(n==null?void 0:n.length)||0,i=(n==null?void 0:n.filter(u=>u.is_blocked).length)||0,l=s-i;return{total:s,active:l,blocked:i}}catch(t){throw console.error("Error fetching contact stats:",t),new Error(Jt(t))}}async forceSync(){await this.syncManager.triggerSync()}async getSyncStatus(){const t=await ze.contacts.where("master_user_id").equals(await this.getMasterUserId()).and(s=>!s._deleted).toArray(),r=t.filter(s=>s._syncStatus==="pending").length,n=t.filter(s=>s._syncStatus==="synced").length,a=t.filter(s=>s._syncStatus==="conflict").length;return{total:t.length,pending:r,synced:n,conflicts:a,syncManagerStatus:this.syncManager.getStatus()}}destroy(){this.unsubscribeFromContactUpdates(),this.syncManager.destroy()}}class MF{constructor(t){St(this,"realtimeChannel",null);St(this,"syncManager");St(this,"masterUserId",null);this.syncManager=t||new sc,this.setupSyncEventListeners()}setupSyncEventListeners(){this.syncManager.addEventListener(t=>{if(t.table==="templates")switch(t.type){case"sync_complete":console.log("Template sync completed");break;case"sync_error":console.error("Template sync error:",t.error);break;case"conflict_detected":console.warn("Template conflict detected:",t.message);break}})}async initialize(t){this.masterUserId=t,this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync(),this.syncManager.triggerSync().catch(r=>{console.warn("Initial sync failed, will retry later:",r)})}async backgroundSyncTemplates(){try{this.syncManager.triggerSync().catch(t=>{console.warn("Background sync failed:",t)})}catch(t){console.warn("Failed to trigger background sync:",t)}}async getCurrentUser(){const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t}async getMasterUserId(){if(this.masterUserId)return this.masterUserId;const t=await this.getCurrentUser(),{data:r,error:n}=await ut.from("profiles").select("master_user_id").eq("id",t.id).single();return n?(console.error("Error fetching user profile:",n),t.id):(this.masterUserId=(r==null?void 0:r.master_user_id)||t.id,this.masterUserId)}transformLocalTemplates(t){return t.map(r=>({...sn(r),variants:r.variants||(r.content?[r.content]:[]),content:r.content,variables:r.variables||this.extractVariablesFromVariants(r.variants||[r.content||""]),category:r.category||"general",is_active:r.is_active!==!1,usage_count:r.usage_count||0,assets:r.assets||[]}))}async getTemplates(){try{if(!await Nr.canPerformAction("read_templates","templates"))throw new Error("Access denied: insufficient permissions to read templates");const r=await this.getMasterUserId(),n=this.syncManager.getIsOnline();let a=await ze.templates.where("master_user_id").equals(r).and(s=>!s._deleted).toArray();if(a.length>0){const s=this.transformLocalTemplates(a);return n&&this.backgroundSyncTemplates().catch(console.warn),s}if(n){try{if(await this.syncManager.triggerSync(),a=await ze.templates.where("master_user_id").equals(r).and(s=>!s._deleted).toArray(),a.length>0)return this.transformLocalTemplates(a)}catch(s){console.warn("Sync failed, trying direct server fetch:",s)}return await this.fetchTemplatesFromServer()}else return console.log("Operating in offline mode - no templates available locally"),[]}catch(t){if(console.error("Error fetching templates:",t),!this.syncManager.getIsOnline()){try{const n=await this.getMasterUserId(),a=await ze.templates.where("master_user_id").equals(n).and(s=>!s._deleted).toArray();if(a.length>0)return this.transformLocalTemplates(a)}catch(n){console.error("Even offline fallback failed:",n)}return[]}try{return await this.fetchTemplatesFromServer()}catch(n){throw console.error("Server fetch also failed:",n),new Error(`Failed to fetch templates: ${t instanceof Error?t.message:"Unknown error"}`)}}}async fetchTemplatesFromServer(){await this.getCurrentUser();const t=await this.getMasterUserId(),{data:r,error:n}=await ut.from("templates").select(`
        id,
        name,
        variants,
        content,
        master_user_id,
        created_by,
        attachment_url,
        variables,
        category,
        is_active,
        usage_count,
        created_at,
        updated_at
      `).eq("master_user_id",t).eq("is_active",!0).order("updated_at",{ascending:!1});if(n)throw n;return(r||[]).map(a=>({...sn(a),variants:a.variants||(a.content?[a.content]:[]),content:a.content,variables:a.variables||this.extractVariablesFromVariants(a.variants||[a.content||""]),category:a.category||"general",is_active:a.is_active!==!1,usage_count:a.usage_count||0,assets:[]}))}async getTemplateById(t){try{const r=await this.getMasterUserId(),n=await ze.templates.get(t);if(n&&!n._deleted&&n.master_user_id===r)return this.transformLocalTemplates([n])[0]||null;const{data:a,error:s}=await ut.from("templates").select(`
          id,
          name,
          variants,
          content,
          master_user_id,
          created_by,
          attachment_url,
          variables,
          category,
          is_active,
          usage_count,
          created_at,
          updated_at
        `).eq("id",t).eq("master_user_id",r).single();if(s){if(s.code==="PGRST116")return null;throw s}return{...sn(a,"template"),variants:a.variants||(a.content?[a.content]:[]),content:a.content,variables:a.variables||this.extractVariablesFromVariants(a.variants||[a.content||""]),category:a.category||"general",is_active:a.is_active!==!1,usage_count:a.usage_count||0,assets:[]}}catch(r){throw console.error("Error fetching template:",r),new Error(Jt(r))}}async createTemplate(t){try{if(!await Nr.canPerformAction("create_templates","templates"))throw new Error("Access denied: insufficient permissions to create templates");const n=await this.getCurrentUser(),a=await this.getMasterUserId();if(!t.variants||t.variants.length<3)throw new Error("Template must have at least 3 variants");const s=t.variants.filter(y=>y.trim()!=="");if(s.length<3)throw new Error("Template must have at least 3 non-empty variants");const i=this.extractVariablesFromVariants(s),l=lo({},!1),u=$a({},!1),d={...t,variants:s,master_user_id:a,created_by:n.id,attachment_url:t.attachment_url,variables:i,category:t.category||"general",is_active:t.is_active!==!1,usage_count:0,created_at:l.created_at,updated_at:l.updated_at,_syncStatus:u._syncStatus,_lastModified:u._lastModified,_version:u._version,_deleted:!1},m=crypto.randomUUID(),p={id:m,...d};await ze.templates.add(p);const v=ma(p);return await this.syncManager.addToSyncQueue("templates","create",m,v),this.transformLocalTemplates([p])[0]}catch(r){throw console.error("Error creating template:",r),new Error(Jt(r))}}async updateTemplate(t,r){try{if(!await Nr.canPerformAction("update_templates","templates"))throw new Error("Access denied: insufficient permissions to update templates");await this.getCurrentUser(),await this.getMasterUserId();const a=await ze.templates.get(t);if((!a||a._deleted)&&!await this.getTemplateById(t))throw new Error("Template not found");if(r.variants){const d=r.variants.filter(m=>m.trim()!=="");if(d.length<3)throw new Error("Template must have at least 3 non-empty variants");r.variants=d}r.variants&&(r.variables=this.extractVariablesFromVariants(r.variants));const s=lo({},!0),i=$a(a,!0),l={...r,updated_at:s.updated_at,_syncStatus:i._syncStatus,_lastModified:i._lastModified,_version:i._version};await ze.templates.update(t,l);const u=await ze.templates.get(t);if(u){const d=ma(u);return await this.syncManager.addToSyncQueue("templates","update",t,d),this.transformLocalTemplates([u])[0]}throw new Error("Template update failed")}catch(n){throw console.error("Error updating template:",n),new Error(Jt(n))}}async deleteTemplate(t){try{if(!await Nr.canPerformAction("delete_templates","templates"))throw new Error("Access denied: insufficient permissions to delete templates");await this.getMasterUserId();const n=await ze.templates.get(t);if(!n||n._deleted){await this.deleteTemplateFromServer(t);return}const a=$a(n,!0);await ze.templates.update(t,{is_active:!1,updated_at:a._lastModified,_syncStatus:a._syncStatus,_lastModified:a._lastModified,_version:a._version,_deleted:!0});const s=ma(n);await this.syncManager.addToSyncQueue("templates","delete",t,s)}catch(r){throw console.error("Error deleting template:",r),new Error(Jt(r))}}async deleteTemplateFromServer(t){const r=await this.getMasterUserId(),{error:n}=await ut.from("templates").update({is_active:!1,updated_at:On(new Date)}).eq("id",t).eq("master_user_id",r);if(n)throw n.code==="PGRST116"?new Error("Template not found or access denied"):n}getRandomVariant(t){if(!t.variants||t.variants.length===0)return"";const r=Math.floor(Math.random()*t.variants.length);return t.variants[r]}getRandomVariantNoRepeat(t,r){if(!t.variants||t.variants.length===0)return{variant:"",index:-1};if(t.variants.length===1)return{variant:t.variants[0],index:0};let n;do n=Math.floor(Math.random()*t.variants.length);while(r!==void 0&&n===r&&t.variants.length>1);return{variant:t.variants[n],index:n}}extractVariablesFromVariants(t){return t.flatMap(n=>this.extractVariables(n)).filter((n,a,s)=>s.indexOf(n)===a)}extractVariables(t){const r=/\{([^}]+)\}/g,n=t.match(r);return n?n.map(a=>a.slice(1,-1)):[]}subscribeToTemplateUpdates(t){this.realtimeChannel=ut.channel("template-updates").on("postgres_changes",{event:"*",schema:"public",table:"templates"},r=>{r.new&&(r.new=sn(r.new)),r.old&&(r.old=sn(r.old)),t(r)}).subscribe()}destroy(){this.realtimeChannel&&(ut.removeChannel(this.realtimeChannel),this.realtimeChannel=null),this.syncManager.destroy()}async forceSync(){await this.syncManager.triggerSync()}async getSyncStatus(){const t=await ze.templates.where("master_user_id").equals(await this.getMasterUserId()).and(s=>!s._deleted).toArray(),r=t.filter(s=>s._syncStatus==="pending").length,n=t.filter(s=>s._syncStatus==="synced").length,a=t.filter(s=>s._syncStatus==="conflict").length;return{total:t.length,pending:r,synced:n,conflicts:a,syncManagerStatus:this.syncManager.getStatus()}}}new MF;class kY{constructor(t){St(this,"realtimeChannel",null);St(this,"syncManager");St(this,"masterUserId",null);this.syncManager=t||new sc,this.setupSyncEventListeners()}setupSyncEventListeners(){this.syncManager.addEventListener(t=>{if(t.table==="activityLogs")switch(t.type){case"sync_complete":console.log("History sync completed");break;case"sync_error":console.error("History sync error:",t.error);break;case"conflict_detected":console.warn("History conflict detected:",t.message);break}})}async initialize(t){this.masterUserId=t,this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync(),this.syncManager.triggerSync().catch(r=>{console.warn("Initial sync failed, will retry later:",r)})}async backgroundSyncHistory(){try{this.syncManager.triggerSync().catch(t=>{console.warn("Background sync failed:",t)})}catch(t){console.warn("Failed to trigger background sync:",t)}}async getCurrentUser(){const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t}async getMasterUserId(){if(this.masterUserId)return this.masterUserId;const t=await this.getCurrentUser(),{data:r,error:n}=await ut.from("profiles").select("master_user_id").eq("id",t.id).single();return n?(console.error("Error fetching user profile:",n),t.id):(this.masterUserId=(r==null?void 0:r.master_user_id)||t.id,this.masterUserId)}transformLocalLogs(t){return t.map(r=>{const n=sn(r);return{id:n.id,user_id:n.user_id,master_user_id:n.master_user_id,contact_group_id:n.contact_group_id||void 0,template_id:n.template_id||void 0,template_name:n.template_name||void 0,total_contacts:n.total_contacts,success_count:n.success_count,failed_count:n.failed_count,status:n.status,delay_range:n.delay_range,scheduled_for:n.scheduled_for||void 0,started_at:n.started_at||void 0,completed_at:n.completed_at||void 0,error_message:n.error_message||void 0,metadata:n.metadata||void 0,created_at:n.created_at,updated_at:n.updated_at}})}async getActivityLogs(){try{if(!await Nr.canPerformAction("read_history","history"))throw new Error("Access denied: insufficient permissions to read activity logs");const r=await this.getMasterUserId(),n=this.syncManager.getIsOnline();let a=await ze.activityLogs.where("master_user_id").equals(r).and(s=>!s._deleted).toArray();if(a.length>0){const s=this.transformLocalLogs(a);return n&&this.backgroundSyncHistory().catch(console.warn),s}if(n){try{if(await this.syncManager.triggerSync(),a=await ze.activityLogs.where("master_user_id").equals(r).and(s=>!s._deleted).toArray(),a.length>0)return this.transformLocalLogs(a)}catch(s){console.warn("Sync failed, trying direct server fetch:",s)}return await this.fetchLogsFromServer()}else return console.log("Operating in offline mode - no activity logs available locally"),[]}catch(t){if(console.error("Error fetching activity logs:",t),!this.syncManager.getIsOnline()){try{const n=await this.getMasterUserId(),a=await ze.activityLogs.where("master_user_id").equals(n).and(s=>!s._deleted).toArray();if(a.length>0)return this.transformLocalLogs(a)}catch(n){console.error("Even offline fallback failed:",n)}return[]}try{return await this.fetchLogsFromServer()}catch(n){throw console.error("Server fetch also failed:",n),new Error(`Failed to fetch activity logs: ${t instanceof Error?t.message:"Unknown error"}`)}}}async fetchLogsFromServer(){const t=await this.getMasterUserId(),{data:r,error:n}=await ut.from("history").select(`
        *,
        groups (
          id,
          name,
          color
        ),
        templates (
          id,
          name
        )
      `).eq("master_user_id",t).order("created_at",{ascending:!1});if(n)throw n;return(r||[]).map(a=>{const s=sn(a);return{id:s.id,user_id:s.user_id,master_user_id:s.master_user_id,contact_group_id:s.contact_group_id||void 0,template_id:s.template_id||void 0,template_name:s.template_name||void 0,total_contacts:s.total_contacts,success_count:s.success_count,failed_count:s.failed_count,status:s.status,delay_range:s.delay_range,scheduled_for:s.scheduled_for||void 0,started_at:s.started_at||void 0,completed_at:s.completed_at||void 0,error_message:s.error_message||void 0,metadata:s.metadata||void 0,created_at:s.created_at,updated_at:s.updated_at}})}async getLogsByStatus(t){try{const r=await this.getMasterUserId();let n=await ze.activityLogs.where("master_user_id").equals(r).and(s=>!s._deleted&&s.status===t).toArray();return n.length>0?this.transformLocalLogs(n):(await this.fetchLogsFromServer()).filter(s=>s.status===t)}catch(r){throw console.error("Error fetching logs by status:",r),new Error(Jt(r))}}async getLogsByDateRange(t,r){try{const n=await this.getMasterUserId();let a=await ze.activityLogs.where("master_user_id").equals(n).and(i=>{if(i._deleted)return!1;const l=new Date(i.created_at);return l>=new Date(t)&&l<=new Date(r)}).toArray();return a.length>0?this.transformLocalLogs(a):(await this.fetchLogsFromServer()).filter(i=>{const l=new Date(i.created_at);return l>=new Date(t)&&l<=new Date(r)})}catch(n){throw console.error("Error fetching logs by date range:",n),new Error(Jt(n))}}async createLog(t){try{if(!await Nr.canPerformAction("create_history","history"))throw new Error("Access denied: insufficient permissions to create activity logs");const n=await this.getCurrentUser(),a=await this.getMasterUserId(),s=lo({},!1),i=$a({},!1),l={...t,user_id:n.id,master_user_id:a,contact_group_id:t.contact_group_id||void 0,template_id:t.template_id||void 0,template_name:t.template_name||void 0,total_contacts:t.total_contacts,success_count:t.success_count,failed_count:t.failed_count,status:t.status,delay_range:t.delay_range,scheduled_for:t.scheduled_for||void 0,started_at:On(new Date),completed_at:t.completed_at||void 0,error_message:t.error_message||void 0,metadata:t.metadata||void 0,created_at:s.created_at,updated_at:s.updated_at,_syncStatus:i._syncStatus,_lastModified:i._lastModified,_version:i._version,_deleted:!1},u=crypto.randomUUID(),d={id:u,...l};await ze.activityLogs.add(d);const m=ma(d);return await this.syncManager.addToSyncQueue("activityLogs","create",u,m),this.transformLocalLogs([d])[0]}catch(r){throw console.error("Error creating activity log:",r),new Error(Jt(r))}}async updateLogStatus(t,r,n,a){try{await this.getMasterUserId();const s=await ze.activityLogs.get(t);if((!s||s._deleted)&&!await this.getLogById(t))throw new Error("Activity log not found");const i=lo({},!0),l=$a(s,!0),u={status:r,updated_at:i.updated_at,_syncStatus:l._syncStatus,_lastModified:l._lastModified,_version:l._version};n&&(u.completed_at=On(n)),a&&(u.error_message=a),await ze.activityLogs.update(t,u);const d=await ze.activityLogs.get(t);if(d){const m=ma(d);await this.syncManager.addToSyncQueue("activityLogs","update",t,m)}}catch(s){throw console.error("Error updating log status:",s),new Error(Jt(s))}}async getLogById(t){try{const r=await this.getMasterUserId(),n=await ze.activityLogs.get(t);if(n&&!n._deleted&&n.master_user_id===r)return this.transformLocalLogs([n])[0]||null;const{data:a,error:s}=await ut.from("history").select(`
          *,
          groups (
            id,
            name,
            color
          ),
          templates (
            id,
            name
          )
        `).eq("id",t).eq("master_user_id",r).single();if(s){if(s.code==="PGRST116")return null;throw s}const i=sn(a,"history");return{id:i.id,user_id:i.user_id,master_user_id:i.master_user_id,contact_group_id:i.contact_group_id||void 0,template_id:i.template_id||void 0,template_name:i.template_name||void 0,total_contacts:i.total_contacts,success_count:i.success_count,failed_count:i.failed_count,status:i.status,delay_range:i.delay_range,scheduled_for:i.scheduled_for||void 0,started_at:i.started_at||void 0,completed_at:i.completed_at||void 0,error_message:i.error_message||void 0,metadata:i.metadata||void 0,created_at:i.created_at,updated_at:i.updated_at}}catch(r){throw console.error("Error fetching log by ID:",r),new Error(Jt(r))}}async getLogsWithDetails(){try{const t=await this.getMasterUserId();let r=await ze.activityLogs.where("master_user_id").equals(t).and(a=>!a._deleted).toArray();return r.length>0?this.transformLocalLogs(r):await this.fetchLogsFromServer()}catch(t){throw console.error("Error fetching logs with details:",t),new Error(Jt(t))}}subscribeToActivityUpdates(t){this.unsubscribeFromActivityUpdates(),this.realtimeChannel=ut.channel("history").on("postgres_changes",{event:"*",schema:"public",table:"history"},r=>{const{new:n,old:a,eventType:s}=r,i=l=>{const u=sn(l);return{id:u.id,user_id:u.user_id,master_user_id:u.master_user_id,contact_group_id:u.contact_group_id||void 0,template_id:u.template_id||void 0,template_name:u.template_name||void 0,total_contacts:u.total_contacts,success_count:u.success_count,failed_count:u.failed_count,status:u.status,delay_range:u.delay_range,scheduled_for:u.scheduled_for||void 0,started_at:u.started_at||void 0,completed_at:u.completed_at||void 0,error_message:u.error_message||void 0,metadata:u.metadata||void 0,created_at:u.created_at,updated_at:u.updated_at}};s==="DELETE"?t(i(a),"DELETE"):t(i(n),s)}).subscribe()}unsubscribeFromActivityUpdates(){this.realtimeChannel&&(ut.removeChannel(this.realtimeChannel),this.realtimeChannel=null)}async getActivityStats(){try{const t=await this.getMasterUserId(),r=await ze.activityLogs.where("master_user_id").equals(t).and(w=>!w._deleted).toArray();if(r.length>0){const w=r.length,x=r.filter(D=>D.status==="completed").length,b=r.filter(D=>D.status==="failed").length,T=r.filter(D=>D.status==="running").length,M=r.filter(D=>D.status==="pending").length,k=r.reduce((D,O)=>D+(O.total_contacts||0),0),j=r.reduce((D,O)=>D+(O.success_count||0),0),R=r.reduce((D,O)=>D+(O.failed_count||0),0);return{totalLogs:w,completedLogs:x,failedLogs:b,runningLogs:T,pendingLogs:M,totalMessages:k,successfulMessages:j,failedMessages:R}}const{data:n,error:a}=await ut.from("history").select("status, success_count, failed_count, total_contacts").eq("master_user_id",t);if(a)throw a;const s=n||[],i=s.length,l=s.filter(w=>w.status==="completed").length,u=s.filter(w=>w.status==="failed").length,d=s.filter(w=>w.status==="running").length,m=s.filter(w=>w.status==="pending").length,p=s.reduce((w,x)=>w+(x.total_contacts||0),0),v=s.reduce((w,x)=>w+(x.success_count||0),0),y=s.reduce((w,x)=>w+(x.failed_count||0),0);return{totalLogs:i,completedLogs:l,failedLogs:u,runningLogs:d,pendingLogs:m,totalMessages:p,successfulMessages:v,failedMessages:y}}catch(t){throw console.error("Error fetching activity stats:",t),new Error(Jt(t))}}async getRecentActivity(t=5){try{const r=await this.getMasterUserId(),n=await ze.activityLogs.where("master_user_id").equals(r).and(l=>!l._deleted).reverse().limit(t).toArray();if(n.length>0)return this.transformLocalLogs(n);if(!this.syncManager.getIsOnline())return[];const{data:s,error:i}=await ut.from("history").select(`
          *,
          groups (
            id,
            name,
            color
          ),
          templates (
            id,
            name
          )
        `).eq("master_user_id",r).order("created_at",{ascending:!1}).limit(t);if(i)throw i;return(s||[]).map(l=>{const u=sn(l,"history");return{id:u.id,user_id:u.user_id,master_user_id:u.master_user_id,contact_group_id:u.contact_group_id||void 0,template_id:u.template_id||void 0,template_name:u.template_name||void 0,total_contacts:u.total_contacts,success_count:u.success_count,failed_count:u.failed_count,status:u.status,delay_range:u.delay_range,scheduled_for:u.scheduled_for||void 0,started_at:u.started_at||void 0,completed_at:u.completed_at||void 0,error_message:u.error_message||void 0,metadata:u.metadata||void 0,created_at:u.created_at,updated_at:u.updated_at}})}catch(r){return console.error("Error fetching recent activity:",r),[]}}async getAllMessageLogs(){try{const t=await this.getActivityLogs(),r=[];for(const n of t)if(n.metadata&&Array.isArray(n.metadata.logs)){const a=n.metadata.logs;r.push(...a)}return r.sort((n,a)=>{const s=n.sent_at?new Date(n.sent_at).getTime():0;return(a.sent_at?new Date(a.sent_at).getTime():0)-s})}catch(t){return console.error("Error fetching message logs:",t),[]}}async forceSync(){await this.syncManager.triggerSync()}async getSyncStatus(){const t=await ze.activityLogs.where("master_user_id").equals(await this.getMasterUserId()).and(s=>!s._deleted).toArray(),r=t.filter(s=>s._syncStatus==="pending").length,n=t.filter(s=>s._syncStatus==="synced").length,a=t.filter(s=>s._syncStatus==="conflict").length;return{total:t.length,pending:r,synced:n,conflicts:a,syncManagerStatus:this.syncManager.getStatus()}}destroy(){this.unsubscribeFromActivityUpdates(),this.syncManager.destroy()}}class CY{constructor(t){St(this,"realtimeChannel",null);St(this,"syncManager");St(this,"masterUserId",null);this.syncManager=t||new sc,this.setupSyncEventListeners()}setupSyncEventListeners(){this.syncManager.addEventListener(t=>{if(t.table==="groups")switch(t.type){case"sync_complete":console.log("Group sync completed");break;case"sync_error":console.error("Group sync error:",t.error);break;case"conflict_detected":console.warn("Group conflict detected:",t.message);break}})}async getCurrentUser(){const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t}async initialize(t){this.masterUserId=t,this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync(),this.syncManager.triggerSync().catch(r=>{console.warn("Initial sync failed, will retry later:",r)})}async backgroundSyncGroups(){try{this.syncManager.triggerSync().catch(t=>{console.warn("Background sync failed:",t)})}catch(t){console.warn("Failed to trigger background sync:",t)}}async getMasterUserId(){if(this.masterUserId)return this.masterUserId;const t=await this.getCurrentUser(),{data:r,error:n}=await ut.from("profiles").select("master_user_id").eq("id",t.id).single();return n?(console.error("Error fetching user profile:",n),t.id):(this.masterUserId=(r==null?void 0:r.master_user_id)||t.id,this.masterUserId)}async getGroups(){try{const t=await this.getMasterUserId(),r=this.syncManager.getIsOnline();let n=await ze.groups.where("master_user_id").equals(t).and(a=>!a._deleted&&a.is_active!==!1).toArray();if(n.length>0){const a=this.transformLocalGroups(n);return r&&this.backgroundSyncGroups().catch(console.warn),a}if(r){try{if(await this.syncManager.triggerSync(),n=await ze.groups.where("master_user_id").equals(t).and(a=>!a._deleted&&a.is_active!==!1).toArray(),n.length>0)return this.transformLocalGroups(n)}catch(a){console.warn("Sync failed, trying direct server fetch:",a)}return await this.fetchGroupsFromServer()}else return console.log("Operating in offline mode - no groups available locally"),[]}catch(t){if(console.error("Error fetching groups:",t),!this.syncManager.getIsOnline()){try{const n=await this.getMasterUserId(),a=await ze.groups.where("master_user_id").equals(n).and(s=>!s._deleted&&s.is_active!==!1).toArray();if(a.length>0)return this.transformLocalGroups(a)}catch(n){console.error("Even offline fallback failed:",n)}return[]}try{return await this.fetchGroupsFromServer()}catch(n){throw console.error("Server fetch also failed:",n),new Error(`Failed to fetch groups: ${t instanceof Error?t.message:"Unknown error"}`)}}}transformLocalGroups(t){return t.map(r=>({...sn(r),id:r.id,name:r.name,description:r.description||void 0,color:r.color||"#3b82f6",master_user_id:r.master_user_id||void 0,created_by:r.created_by||void 0,contact_count:r.contact_count||0,is_active:r.is_active!==!1}))}async fetchGroupsFromServer(){const t=await this.getMasterUserId(),{data:r,error:n}=await ut.from("groups").select("*").eq("master_user_id",t).eq("is_active",!0).order("name");if(n)throw n;return(r||[]).map(a=>({...sn(a),contact_count:a.contact_count||0}))}async getGroupById(t){try{const r=await this.getMasterUserId(),n=await ze.groups.get(t);if(n&&!n._deleted&&n.is_active!==!1&&n.master_user_id===r)return this.transformLocalGroups([n])[0]||null;const{data:a,error:s}=await ut.from("groups").select("*").eq("id",t).eq("master_user_id",r).eq("is_active",!0).single();if(s){if(s.code==="PGRST116")return null;throw s}return{...sn(a,"group"),contact_count:a.contact_count||0}}catch(r){throw console.error("Error fetching group by ID:",r),new Error(Jt(r))}}async createGroup(t){try{const r=await this.getCurrentUser(),n=await this.getMasterUserId();if(await this.isGroupNameTaken(t.name))throw new Error("Group name is already taken");const a=lo({},!1),s=$a({},!1),i={name:t.name,description:t.description||void 0,color:t.color||"#3b82f6",master_user_id:n,created_by:r.id,contact_count:0,is_active:!0,created_at:a.created_at,updated_at:a.updated_at,_syncStatus:s._syncStatus,_lastModified:s._lastModified,_version:s._version,_deleted:!1},l=crypto.randomUUID(),u={id:l,...i};await ze.groups.add(u);const d=ma(u);return await this.syncManager.addToSyncQueue("groups","create",l,d),this.transformLocalGroups([u])[0]}catch(r){throw console.error("Error creating group:",r),new Error(Jt(r))}}async updateGroup(t,r){try{await this.getMasterUserId();const n=await ze.groups.get(t);if((!n||n._deleted)&&!await this.getGroupById(t))throw new Error("Group not found");if(r.name&&r.name!==(n==null?void 0:n.name)&&await this.isGroupNameTaken(r.name,t))throw new Error("Group name is already taken");const a=lo({},!0),s=$a(n,!0),i={...r,updated_at:a.updated_at,_syncStatus:s._syncStatus,_lastModified:s._lastModified,_version:s._version};await ze.groups.update(t,i);const l=await ze.groups.get(t);if(l){const u=ma(l);return await this.syncManager.addToSyncQueue("groups","update",t,u),this.transformLocalGroups([l])[0]}return null}catch(n){throw console.error("Error updating group:",n),new Error(Jt(n))}}async deleteGroup(t){try{await this.getMasterUserId();const r=await ze.groups.get(t);if(!r||r._deleted)return await this.deleteGroupFromServer(t),!0;const n=$a(r,!0);await ze.groups.update(t,{is_active:!1,updated_at:n._lastModified,_syncStatus:n._syncStatus,_lastModified:n._lastModified,_version:n._version,_deleted:!0});const a=ma(r);return await this.syncManager.addToSyncQueue("groups","delete",t,a),!0}catch(r){throw console.error("Error deleting group:",r),new Error(Jt(r))}}async deleteGroupFromServer(t){const r=await this.getMasterUserId(),{error:n}=await ut.from("groups").update({is_active:!1,updated_at:On(new Date)}).eq("id",t).eq("master_user_id",r);if(n)throw n}async permanentlyDeleteGroup(t){try{const r=await this.getMasterUserId(),n=await ze.groups.get(t);if(n){await ze.groups.delete(t);const a=ma(n);await this.syncManager.addToSyncQueue("groups","delete",t,a)}else{const{error:a}=await ut.from("groups").delete().eq("id",t).eq("master_user_id",r);if(a)throw a}return!0}catch(r){throw console.error("Error permanently deleting group:",r),new Error(Jt(r))}}async getGroupsWithContactCounts(){try{const t=await this.getGroups();return await this.enrichGroupsWithContactCounts(t)}catch(t){throw console.error("Error fetching groups with contact counts:",t),new Error(Jt(t))}}async enrichGroupsWithContactCounts(t){try{const r=await this.getMasterUserId(),n=await ze.contacts.where("master_user_id").equals(r).and(s=>!s._deleted).toArray(),a=new Map;return n.forEach(s=>{const i=a.get(s.group_id)||0;a.set(s.group_id,i+1)}),t.map(s=>({...s,contact_count:a.get(s.id)||0}))}catch(r){return console.error("Error enriching groups with contact counts:",r),t}}async updateGroupContactCount(t){try{await this.updateGroup(t,{})}catch(r){console.error("Error updating group contact count:",r)}}async getActiveGroups(){try{const t=await this.getMasterUserId();let r=await ze.groups.where("master_user_id").equals(t).and(a=>!a._deleted&&a.is_active!==!1).toArray();return r.length>0?this.transformLocalGroups(r):(await this.fetchGroupsFromServer()).filter(a=>a.is_active!==!1)}catch(t){throw console.error("Error fetching active groups:",t),new Error(Jt(t))}}async searchGroups(t){try{const r=await this.getMasterUserId(),a=(await ze.groups.where("master_user_id").equals(r).and(i=>!i._deleted&&i.is_active!==!1).toArray()).filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.description&&i.description.toLowerCase().includes(t.toLowerCase()));return a.length>0?this.transformLocalGroups(a):(await this.fetchGroupsFromServer()).filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.description&&i.description.toLowerCase().includes(t.toLowerCase()))}catch(r){throw console.error("Error searching groups:",r),new Error(Jt(r))}}async getGroupStats(){try{const r=(await this.getGroupsWithContactCounts()).filter(i=>i.is_active!==!1),n=r.reduce((i,l)=>i+(l.contact_count||0),0),a=r.reduce((i,l)=>(l.contact_count||0)>(i.contact_count||0)?l:i,r[0]),s=r.length>0?Math.round(n/r.length):0;return{total:r.length,totalContacts:n,largestGroup:a||null,averageGroupSize:s}}catch(t){throw console.error("Error fetching group stats:",t),new Error(Jt(t))}}subscribeToGroupUpdates(t){this.unsubscribeFromGroupUpdates(),this.realtimeChannel=ut.channel("groups").on("postgres_changes",{event:"*",schema:"public",table:"groups"},async r=>{const{new:n,old:a,eventType:s}=r;if(s==="DELETE"){const i=sn(a);t(i,"DELETE")}else{const i=sn(n);t(i,s)}}).subscribe()}subscribeToGroupUpdatesForMaster(t,r){this.unsubscribeFromGroupUpdates(),this.realtimeChannel=ut.channel(`groups_${t}`).on("postgres_changes",{event:"*",schema:"public",table:"groups",filter:`master_user_id=eq.${t}`},async n=>{const{new:a,old:s,eventType:i}=n;if(i==="DELETE"){const l=sn(s);r(l,"DELETE")}else{const l=sn(a);r(l,i)}}).subscribe()}unsubscribeFromGroupUpdates(){this.realtimeChannel&&(ut.removeChannel(this.realtimeChannel),this.realtimeChannel=null)}async isGroupNameTaken(t,r){try{const n=await this.getMasterUserId();if((await ze.groups.where("master_user_id").equals(n).and(d=>!d._deleted&&d.is_active!==!1).toArray()).find(d=>d.name.toLowerCase()===t.toLowerCase()&&d.id!==r))return!0;let i=ut.from("groups").select("id").eq("master_user_id",n).eq("name",t).eq("is_active",!0);r&&(i=i.neq("id",r));const{data:l,error:u}=await i;if(u)throw u;return((l==null?void 0:l.length)||0)>0}catch(n){return console.error("Error checking group name:",n),!1}}async forceSync(){await this.syncManager.triggerSync()}async getSyncStatus(){const t=await ze.groups.where("master_user_id").equals(await this.getMasterUserId()).and(s=>!s._deleted).toArray(),r=t.filter(s=>s._syncStatus==="pending").length,n=t.filter(s=>s._syncStatus==="synced").length,a=t.filter(s=>s._syncStatus==="conflict").length;return{total:t.length,pending:r,synced:n,conflicts:a,syncManagerStatus:this.syncManager.getStatus()}}destroy(){this.unsubscribeFromGroupUpdates(),this.syncManager.destroy()}}class NF{constructor(t){St(this,"syncManager");St(this,"masterUserId",null);St(this,"initialSyncComplete",!1);St(this,"initialSyncPromise",null);this.syncManager=t||new sc}async initialize(t){this.masterUserId=t,this.syncManager.setMasterUserId(t),this.syncManager.startAutoSync()}isInitialSyncComplete(){return this.initialSyncComplete}async waitForInitialSync(t=5e3){if(this.initialSyncComplete)return!0;if(!this.initialSyncPromise)return!1;try{return await Promise.race([this.initialSyncPromise,new Promise((r,n)=>setTimeout(()=>n(new Error("Sync timeout")),t))]),!0}catch(r){return console.warn("Initial sync timeout or failed:",r),this.initialSyncComplete=!0,!1}}async getCurrentUser(){const t=await Nr.getCurrentUser();if(!t)throw new Error("User not authenticated");return t}async getMasterUserId(){if(this.masterUserId)return this.masterUserId;const t=await this.getCurrentUser(),{data:r,error:n}=await ut.from("profiles").select("master_user_id").eq("id",t.id).single();return n?(console.error("Error fetching user profile:",n),t.id):(this.masterUserId=(r==null?void 0:r.master_user_id)||t.id,this.masterUserId)}transformLocalAssets(t){return t.map(r=>{const n=sn(r),a=r.file_size||r.size||0,s=r.file_type||r.type||"",i=r.file_url||r.url||"";return{id:r.id,name:r.name,file_name:r.file_name||r.name,file_size:a,file_type:s,file_url:i,uploaded_by:r.uploaded_by||"",master_user_id:r.master_user_id||"",category:r.category,is_public:r.is_public!==!1,created_at:n.created_at||r.created_at,updated_at:n.updated_at||r.updated_at,size:a,type:s,url:i,uploadDate:r.created_at,mime_type:r.mime_type}})}async getAssets(){console.log("AssetService: getAssets() - Starting asset fetch operation"),console.log("AssetService: Checking initial sync completion status"),console.log("AssetService: Initial sync complete?",this.initialSyncComplete);try{if(!await Nr.canPerformAction("read_assets","assets"))throw console.error("AssetService: Access denied - insufficient permissions to read assets"),new Error("Access denied: insufficient permissions to read assets");const r=await this.getMasterUserId();console.log("AssetService: Fetching assets for master user ID:",r);let n=await ze.assets.where("master_user_id").equals(r).and(a=>!a._deleted).toArray();return console.log("AssetService: Found",n.length,"local assets before sync"),n.length>0?(console.log("AssetService: Returning",n.length,"local assets from database"),this.transformLocalAssets(n)):(console.log("AssetService: No local assets found, triggering sync to fetch from server..."),await this.syncManager.triggerSync(),console.log("AssetService: Sync completed, fetching assets from local DB again..."),n=await ze.assets.where("master_user_id").equals(r).and(a=>!a._deleted).toArray(),console.log("AssetService: Found",n.length,"local assets after sync"),n.length>0?(console.log("AssetService: Returning",n.length,"local assets from database after sync"),this.transformLocalAssets(n)):(console.log("AssetService: No assets found from server, returning empty array"),[]))}catch(t){return console.error("AssetService: Error fetching assets:",t),[]}}async getAssetById(t){console.log("AssetService: getAssetById() - Fetching asset with ID:",t);try{const r=await this.getMasterUserId();console.log("AssetService: Fetching asset for master user ID:",r);const n=await ze.assets.where("master_user_id").equals(r).and(a=>!a._deleted&&a.id===t).first();return n?(console.log("AssetService: Found asset in local database:",n.name,"with URL:",n.file_url),this.transformLocalAssets([n])[0]||null):(console.log("AssetService: Asset not found in local database"),null)}catch(r){return console.error("AssetService: Error fetching asset by ID:",r),null}}async getAssetsByIds(t){try{const r=await this.getMasterUserId(),n=await ze.assets.where("master_user_id").equals(r).and(a=>!a._deleted&&t.includes(a.id)).toArray();return n.length>0?this.transformLocalAssets(n):[]}catch(r){return console.error("Error fetching assets by IDs:",r),[]}}async getAssetsByCategory(t){try{const r=await this.getMasterUserId();let n=await ze.assets.where("master_user_id").equals(r).and(a=>!a._deleted&&a.category===t).toArray();return n.length>0?this.transformLocalAssets(n):[]}catch(r){return console.error("Error fetching assets by category:",r),[]}}async uploadAssetOnline(t,r){try{const n=await this.getCurrentUser(),a=await this.getMasterUserId(),s=`${a}/${Date.now()}_${t.name}`,{error:i}=await ut.storage.from("assets").upload(s,t);if(i)throw new Error(`Failed to upload file: ${i.message}`);const{data:l}=ut.storage.from("assets").getPublicUrl(s),u=lo({},!1),d=$a({},!1);On(new Date);const m={name:t.name,file_name:t.name,file_size:t.size,file_type:t.type,file_url:l.publicUrl,uploaded_by:n.id,category:r,master_user_id:a,is_public:!0,mime_type:t.type,created_at:u.created_at,updated_at:u.updated_at,_syncStatus:d._syncStatus,_lastModified:d._lastModified,_version:d._version,_deleted:!1},p=crypto.randomUUID(),v={id:p,...m};await ze.assets.add(v);const y=ma(v);return await this.syncManager.addToSyncQueue("assets","create",p,y),this.transformLocalAssets([v])[0]}catch(n){throw console.error("Error uploading asset:",n),new Error(Jt(n))}}async backgroundSyncAssets(){try{this.syncManager.triggerSync().catch(t=>{console.warn("Background sync failed:",t)})}catch(t){console.warn("Failed to trigger background sync:",t)}}async backgroundSyncPendingAssets(){try{const t=await this.getMasterUserId(),r=await ze.assets.where("master_user_id").equals(t).and(a=>a._syncStatus==="pending").toArray();if(r.length===0)return;if(!this.syncManager.getIsOnline()){console.log("Offline, skipping pending asset sync");return}for(const a of r)try{const s=await this.getCachedAssetFile(a.id);s&&(await this.uploadAssetOnline(s,a.category),await ze.assets.update(a.id,{_syncStatus:"synced",_lastModified:On(new Date)}))}catch(s){console.error(`Failed to sync pending asset ${a.id}:`,s),await ze.assets.update(a.id,{_syncStatus:"pending",_lastModified:On(new Date)})}}catch(t){console.error("Error during background sync of pending assets:",t)}}async queueUpload(t,r){console.log("AssetService: queueUpload() - Starting asset upload process for file:",t.name),console.log("AssetService: File details - type:",t.type,"size:",t.size,"category:",r.category);try{const n=await this.getCurrentUser(),a=await this.getMasterUserId();console.log("AssetService: Current user:",n.id,"Master user:",a);const s=this.syncManager.getIsOnline();console.log("AssetService: Online status:",s);const i=crypto.randomUUID();console.log("AssetService: Generated asset ID:",i);const l=On(new Date),u={name:t.name,file_name:t.name,file_size:t.size,file_type:t.type,file_url:"",uploaded_by:n.id,category:r.category,master_user_id:a,is_public:!0,mime_type:t.type,created_at:l,updated_at:l,_syncStatus:"pending",_lastModified:l,_version:1,_deleted:!1},d={id:i,...u};if(console.log("AssetService: Adding asset to local database..."),await ze.assets.add(d),console.log("AssetService: Asset added to local database"),console.log("AssetService: Caching asset file in blob storage..."),await this.cacheAssetFile(i,t),console.log("AssetService: Asset file cached successfully"),s){console.log("AssetService: Device is online, attempting direct upload to Supabase Storage...");try{const m=`${a}/${Date.now()}_${t.name}`;console.log("AssetService: Uploading file to Supabase Storage with filename:",m);const{error:p}=await ut.storage.from("assets").upload(m,t);if(p)throw console.error("AssetService: Upload to Supabase Storage failed:",p.message),new Error(`Failed to upload file: ${p.message}`);console.log("AssetService: File uploaded successfully to Supabase Storage");const{data:v}=ut.storage.from("assets").getPublicUrl(m);console.log("AssetService: Generated public URL:",v.publicUrl);const y={...d,file_url:v.publicUrl,_syncStatus:"pending",_lastModified:On(new Date)};await ze.assets.update(i,{file_url:v.publicUrl,_syncStatus:"pending",_lastModified:On(new Date)}),console.log("AssetService: Local asset updated with URL");const w=ma(y);console.log("AssetService: Queueing asset for sync:",{id:i,master_user_id:w.master_user_id,has_master_user_id:!!w.master_user_id}),await this.syncManager.addToSyncQueue("assets","create",i,w),console.log("AssetService: Asset queued for sync");const x=this.transformLocalAssets([y])[0];return console.log("AssetService: Upload complete, returning asset:",x.name),x}catch(m){return console.error("AssetService: Failed to upload to storage, will retry later:",m),await this.syncManager.addToSyncQueue("assets","create",i,ma(d)),this.transformLocalAssets([d])[0]}}else{console.log("AssetService: Device is offline, queueing for background sync"),await this.syncManager.addToSyncQueue("assets","create",i,ma(d)),console.log("AssetService: Asset queued for background sync");const m=this.transformLocalAssets([d])[0];return console.log("AssetService: Upload queued, returning asset:",m.name),m}}catch(n){throw console.error("AssetService: Error queueing asset upload:",n),new Error(Jt(n))}}async deleteAsset(t){try{const r=await this.getMasterUserId(),n=await ze.assets.where("master_user_id").equals(r).and(i=>!i._deleted&&i.id===t).first();if(!n)return await this.deleteAssetFromServer(t),console.log(`AssetService: Asset ${t} not found locally, attempted server-side deletion`),!0;console.log(`AssetService: Asset deleted locally with metadata - ID: ${t}, Name: ${n.name}, Type: ${n.file_type}, Size: ${n.file_size} bytes, Category: ${n.category}. Waiting to sync delete on cloud.`);const a=$a(n,!0);await ze.assets.update(t,{_syncStatus:a._syncStatus,_lastModified:a._lastModified,_version:a._version,_deleted:!0});const s=ma(n);if(await this.syncManager.addToSyncQueue("assets","delete",t,s),n.url)try{const i=this.extractFileNameFromUrl(n.url);i&&await ut.storage.from("assets").remove([i])}catch(i){console.warn("Failed to delete file from storage:",i)}return!0}catch(r){throw console.error("Error deleting asset:",r),new Error(Jt(r))}}async deleteAssetFromServer(t){const r=await this.getMasterUserId(),n=await ze.assets.where("master_user_id").equals(r).and(a=>a.id===t).first();if(n!=null&&n.url)try{const a=this.extractFileNameFromUrl(n.url);a&&await ut.storage.from("assets").remove([a])}catch(a){console.warn("Failed to delete file from storage:",a)}}extractFileNameFromUrl(t){try{const r=t.split("/"),n=r[r.length-1];return n?`${r[r.length-2]}/${n}`:null}catch{return null}}async getWhatsAppCompatibleAssets(){try{return(await this.getAssets()).filter(r=>{const n=(r.type||"").toLowerCase(),a=r.category;return a==="image"&&n.includes("image")||a==="document"&&n.includes("pdf")||a==="video"&&n.includes("video")})}catch(t){return console.error("Error fetching WhatsApp compatible assets:",t),[]}}canSendViaWhatsApp(t){const r={image:16777216,video:16777216,document:104857600},n=(t.type||"").toLowerCase(),a=t.category,s=t.size||0;return a==="image"&&n.includes("image")?s<=r.image:a==="video"&&n.includes("video")?s<=r.video:a==="document"&&n.includes("pdf")?s<=r.document:!1}async getAssetStats(){try{const t=await this.getAssets(),r=t.reduce((s,i)=>s+(i.size||0),0),n=t.reduce((s,i)=>(s[i.category]=(s[i.category]||0)+1,s),{}),a=t.reduce((s,i)=>(i.size||0)>(s.size||0)?i:s,t[0]);return{total:t.length,totalSize:r,categoryStats:n,largestAsset:a||null,averageSize:t.length>0?Math.round(r/t.length):0}}catch(t){return console.error("Error fetching asset stats:",t),{total:0,totalSize:0,categoryStats:{},largestAsset:null,averageSize:0}}}getAssetDisplayInfo(t){switch(t.category){case"image":return{icon:"",label:"Image",description:`${t.name} (${this.formatFileSize(t.size||0)})`};case"video":return{icon:"",label:"Video",description:`${t.name} (${this.formatFileSize(t.size||0)})`};case"document":return{icon:"",label:"Document",description:`${t.name} (${this.formatFileSize(t.size||0)})`};case"audio":return{icon:"",label:"Audio",description:`${t.name} (${this.formatFileSize(t.size||0)})`};default:return{icon:"",label:"File",description:`${t.name} (${this.formatFileSize(t.size||0)})`}}}formatFileSize(t){if(t===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,a)).toFixed(2))+" "+n[a]}getAssetCategories(){return[{value:"image",label:"Images",icon:""},{value:"video",label:"Videos",icon:""},{value:"audio",label:"Audio",icon:""},{value:"document",label:"Documents",icon:""},{value:"other",label:"Other",icon:""}]}getCategoryFromFileType(t){const r=t.type.toLowerCase();return r.startsWith("image/")?"image":r.startsWith("video/")?"video":r.startsWith("audio/")?"audio":r.includes("pdf")||r.includes("document")||r.includes("text/")?"document":"other"}async forceSync(){await this.syncManager.triggerSync()}async getSyncStatus(){const t=await ze.assets.where("master_user_id").equals(await this.getMasterUserId()).and(s=>!s._deleted).toArray(),r=t.filter(s=>s._syncStatus==="pending").length,n=t.filter(s=>s._syncStatus==="synced").length,a=t.filter(s=>s._syncStatus==="conflict").length;return{total:t.length,pending:r,synced:n,conflicts:a,syncManagerStatus:this.syncManager.getStatus()}}destroy(){this.syncManager.destroy()}async cacheAssetFile(t,r){console.log("AssetService: cacheAssetFile() - Attempting to cache asset with ID:",t,"size:",r.size,"bytes");try{const n=await this.getMasterUserId();console.log("AssetService: Validating asset exists for user:",n);const a=await ze.assets.where("master_user_id").equals(n).and(d=>d.id===t).first();if(!a)throw console.error(`AssetService: Asset with ID ${t} not found, cannot cache`),new Error(`Asset with ID ${t} not found`);console.log("AssetService: Asset validation passed, asset found:",a.name);const s=16*1024*1024;if(r.size>s)throw console.error(`AssetService: Asset exceeds maximum size of ${s} bytes`),new Error(`Asset exceeds maximum size of ${s} bytes`);const i=await this.getCurrentStorageUsage(),l=500*1024*1024;console.log(`AssetService: Current cache usage: ${i} bytes, requested: ${r.size} bytes, max: ${l} bytes`),i+r.size>l&&(console.log("AssetService: Cache size limit approaching, attempting to evict oldest assets..."),await this.evictOldestAssets(r.size),console.log("AssetService: Asset eviction completed"));const u={asset_id:t,blob:r,mime_type:r.type,size:r.size,cached_at:On(new Date),last_accessed:On(new Date),_version:1};await ze.asset_blobs.put(u),console.log(`AssetService: Asset ${t} cached successfully, size: ${r.size} bytes`)}catch(n){throw console.error(`AssetService: Error caching asset file ${t}:`,n),new Error(`Failed to cache asset: ${Jt(n)}`)}}async getCachedAssetFile(t){console.log("AssetService: getCachedAssetFile() - Attempting to retrieve cached asset with ID:",t);try{const r=await ze.asset_blobs.get(t);return r?(await ze.asset_blobs.update(t,{last_accessed:On(new Date)}),console.log(`AssetService: Asset ${t} retrieved from cache, size: ${r.size} bytes, type: ${r.mime_type}`),r.blob):(console.log(`AssetService: Asset ${t} not found in cache`),null)}catch(r){return console.error(`AssetService: Error retrieving cached asset file ${t}:`,r),null}}async getAssetWithCache(t){console.log("AssetService: getAssetWithCache() - Attempting to retrieve asset with ID:",t);try{let r=await this.getCachedAssetFile(t);if(r)return console.log("AssetService: Asset found in cache, returning cached version"),r;console.log("AssetService: Asset not found in cache, looking for local asset record...");const n=await this.getMasterUserId(),a=await ze.assets.where("master_user_id").equals(n).and(l=>l.id===t).first();if(!a)throw console.error(`AssetService: Asset with ID ${t} not found in local database`),new Error(`Asset with ID ${t} not found`);console.log("AssetService: Found asset record, attempting to download from URL:",a.file_url),console.log("AssetService: Fetching asset from server URL:",a.file_url);const s=await fetch(a.file_url);if(!s.ok)throw console.error(`AssetService: Failed to fetch asset from ${a.file_url}: ${s.status} ${s.statusText}`),new Error(`Failed to fetch asset from ${a.file_url}: ${s.status} ${s.statusText}`);const i=await s.blob();console.log("AssetService: Asset downloaded successfully, size:",i.size,"bytes, type:",i.type);try{await this.cacheAssetFile(t,i),console.log("AssetService: Asset cached successfully for future use")}catch(l){console.warn(`AssetService: Failed to cache asset ${t}:`,l)}return console.log("AssetService: Successfully retrieved and cached asset"),i}catch(r){throw console.error(`AssetService: Error getting asset with cache ${t}:`,r),new Error(`Failed to get asset: ${Jt(r)}`)}}async clearAssetCache(t){try{t?await ze.asset_blobs.where("cached_at").below(On(t)).delete():await ze.asset_blobs.clear(),console.log("Asset cache cleared successfully")}catch(r){throw console.error("Error clearing asset cache:",r),new Error(`Failed to clear asset cache: ${Jt(r)}`)}}async getCurrentStorageUsage(){try{return(await ze.asset_blobs.toArray()).reduce((r,n)=>r+n.size,0)}catch(t){return console.error("Error getting current storage usage:",t),0}}async evictOldestAssets(t){try{const r=await ze.asset_blobs.orderBy("last_accessed").toArray();let n=0,a=0;for(;n<t&&a<r.length;){const s=r[a];await ze.asset_blobs.delete(s.asset_id),n+=s.size,a++}console.log(`Evicted ${a} cached assets to free up ${n} bytes`)}catch(r){throw console.error("Error evicting oldest assets:",r),new Error(`Failed to evict assets: ${Jt(r)}`)}}async syncAssetsFromSupabase(t){console.log("AssetService: syncAssetsFromSupabase() - Starting full asset content sync");try{const r=await this.getMasterUserId(),n=await ze.assets.where("master_user_id").equals(r).and(i=>!i._deleted).toArray();if(n.length===0){console.log("AssetService: No assets found in local DB. Checking Supabase directly...");const{data:i,error:l}=await ut.from("assets").select("*").eq("master_user_id",r);if(l)return console.error("AssetService: Error checking Supabase for assets:",l),t&&t(100),{syncedCount:0,skippedCount:0,errorCount:0};if(!i||i.length===0)return console.log("AssetService: No assets found on Supabase either."),t&&t(100),{syncedCount:0,skippedCount:0,errorCount:0};console.log(`AssetService: Found ${i.length} assets on Supabase that were missing locally. Syncing metadata...`),await ze.assets.bulkPut(i.map(u=>({...u,_syncStatus:"synced",_lastModified:new Date().toISOString(),_version:1,_deleted:!1}))),n.push(...i)}const a=n.map(i=>i.id);console.log(`AssetService: Found ${a.length} assets to check/download`);const s=await this.prefetchAssets(a,t);return console.log("AssetService: Full asset content sync completed",s),{syncedCount:s.success,skippedCount:s.skipped,errorCount:s.failed}}catch(r){return console.error("AssetService: Error during full asset content sync:",r),{syncedCount:0,skippedCount:0,errorCount:0}}}async prefetchAssets(t,r){console.log("AssetService: prefetchAssets() - Starting prefetch for",t.length,"assets");const n=3,a=t.length;let s=0,i=0,l=0,u=0;const d=async v=>{try{if(await this.getCachedAssetFile(v)){console.log(`AssetService: Asset ${v} already cached, skipping download`),l++;return}const w=await this.getMasterUserId(),x=await ze.assets.where("master_user_id").equals(w).and(M=>M.id===v).first();if(!x){console.warn(`AssetService: Asset with ID ${v} not found for prefetch`),u++;return}if(!x.file_url){console.log(`AssetService: Asset ${v} has no URL, skipping`),l++;return}console.log(`AssetService: Downloading asset ${v} from URL:`,x.file_url);const b=await fetch(x.file_url);if(!b.ok)throw new Error(`Failed to prefetch asset from ${x.file_url}: ${b.status}`);const T=await b.blob();console.log(`AssetService: Downloaded asset ${v}, size:`,T.size,"bytes"),await this.cacheAssetFile(v,T),console.log(`AssetService: Asset ${v} successfully cached`),i++}catch(y){console.error(`AssetService: Error pre-fetching asset ${v}:`,y),u++}finally{s++,r&&r(Math.round(s/a*100))}},m=new Set,p=[];for(const v of t){const y=d(v).then(()=>{m.delete(y)});p.push(y),m.add(y),m.size>=n&&await Promise.race(m)}return await Promise.all(p),console.log(`AssetService: Prefetch completed. Processed ${s}/${a} assets. Success: ${i}, Skipped: ${l}, Failed: ${u}`),{success:i,skipped:l,failed:u}}}new NF;const AY={async createPayment(e,t){const{data:r,error:n}=await ut.functions.invoke("create-payment",{body:{plan_id:e,payment_method:t,return_url:`${window.location.origin}/settings`}});if(n)throw console.error("Error creating payment:",n),n;return r},async verifyPayment(e){const{data:t,error:r}=await ut.functions.invoke("verify-payment",{body:{transaction_id:e}});if(r)throw console.error("Error verifying payment:",r),r;return t},async subscribeToPaymentUpdates(e,t){const r=ut.channel(`payment:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_transactions",filter:`id=eq.${e}`},n=>{t(n.new)}).subscribe();return{unsubscribe:()=>r.unsubscribe()}},async cancelPayment(e){const{data:t,error:r}=await ut.from("payment_transactions").update({status:"expired"}).eq("id",e).select().single();if(r)throw console.error("Error cancelling payment:",r),r;return t}};class MY{constructor(t){}async createPayment(t,r,n){const{data:a,error:s}=await ut.functions.invoke("create-payment",{body:{plan_type:t,amount:r,user_id:n,return_url:`${window.location.origin}/subscription`}});if(s)throw console.error("Error creating payment:",s),s;return a}async subscribeToPaymentUpdates(t,r){const n=ut.channel(`payment:${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"payment_transactions",filter:`id=eq.${t}`},a=>{r(a.new)}).subscribe();return{unsubscribe:()=>n.unsubscribe()}}async cancelPayment(t){const{data:r,error:n}=await ut.from("payment_transactions").update({status:"expired"}).eq("id",t).select().single();if(n)throw console.error("Error cancelling payment:",n),n;return r}}const Sy={async getCurrentSubscription(){const e=await Nr.getCurrentUser();if(!e)return null;const{data:t,error:r}=await ut.from("subscriptions").select("*").eq("master_user_id",e.id).single();return r?(console.error("Error fetching subscription:",r),null):t},async getPricingPlans(){const{data:e,error:t}=await ut.from("pricing_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw console.error("Error fetching pricing plans:",t),t;return e||[]},async getPaymentHistory(){const e=await Nr.getCurrentUser();if(!e)return[];const{data:t,error:r}=await ut.from("payment_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching payment history:",r),r;return t||[]},async getUserQuota(){const e=await Nr.getCurrentUser();if(!e)return null;const{data:t,error:r}=await ut.from("user_quotas").select("*").eq("master_user_id",e.id).single();return r?(console.error("Error fetching quota:",r),null):t}},jF={async getBillingInfo(e){const{data:t,error:r}=await ut.from("billing_information").select("*").eq("user_id",e).single();if(r&&r.code!=="PGRST116")throw console.error("Error fetching billing info:",r),r;return t},async saveBillingInfo(e,t){const{data:r,error:n}=await ut.from("billing_information").upsert({user_id:e,...t,updated_at:new Date().toISOString()}).select().single();if(n)throw console.error("Error saving billing info:",n),n;return r},async getRefundRequests(e){const{data:t,error:r}=await ut.from("refund_requests").select(`
        *,
        transaction:payment_transactions(
          transaction_id,
          amount,
          plan_purchased,
          created_at
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching refund requests:",r),r;return t},async createRefundRequest(e,t){const r=new Date,n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=Math.floor(1e4+Math.random()*9e4),i=`REF-${n}-${a}-${s}`,{data:l,error:u}=await ut.from("refund_requests").insert({user_id:e,...t,refund_number:i,status:"submitted"}).select().single();if(u)throw console.error("Error creating refund request:",u),u;return l},async generateInvoice(e){const{data:t,error:r}=await ut.functions.invoke("generate-invoice",{body:{transaction_id:e}});if(r)throw console.error("Error generating invoice:",r),r;return t}},bd=class bd{constructor(){St(this,"initializedServices",new Set);St(this,"masterUserId",null);St(this,"templateService",null);St(this,"contactService",null);St(this,"groupService",null);St(this,"assetService",null);St(this,"historyService",null);St(this,"quotaService",null);St(this,"authService",null);St(this,"paymentService",null);St(this,"syncManager",null);St(this,"isInitializing",!1);St(this,"initializationPromise",null);St(this,"_isDashboardInitialized",!1)}static getInstance(){return bd.instance||(bd.instance=new bd),bd.instance}isInitialized(){return this.initializedServices.size===8&&this.templateService!==null&&this.contactService!==null&&this.groupService!==null&&this.assetService!==null&&this.historyService!==null&&this.quotaService!==null&&this.authService!==null&&this.paymentService!==null&&!this.isInitializing}isDashboardInitialized(){return this._isDashboardInitialized}markDashboardInitialized(){this._isDashboardInitialized=!0}async initializeAllServices(t){if(!t)throw new Error("Master user ID is required to initialize services.");if(this.isInitialized()&&this.masterUserId===t){console.log("Services already initialized for this user");return}return this.isInitializing&&this.initializationPromise?(console.log("Initialization in progress, waiting for completion..."),this.initializationPromise):(this.isInitializing=!0,this.masterUserId=t,this.initializationPromise=(async()=>{try{this.syncManager=new sc,console.log("Initializing AuthService..."),await this.initializeService("auth",()=>this.initializeAuthService(t)),console.log("Initializing TemplateService..."),await this.initializeService("template",()=>this.initializeTemplateService(t)),console.log("Initializing ContactService..."),await this.initializeService("contact",()=>this.initializeContactService(t)),console.log("Initializing GroupService..."),await this.initializeService("group",()=>this.initializeGroupService(t)),console.log("Initializing AssetService..."),await this.initializeService("asset",()=>this.initializeAssetService(t)),console.log("Initializing HistoryService..."),await this.initializeService("history",()=>this.initializeHistoryService(t)),console.log("Initializing QuotaService..."),await this.initializeService("quota",()=>this.initializeQuotaService(t)),console.log("Initializing PaymentService..."),await this.initializeService("payment",()=>this.initializePaymentService(t)),console.log("All services initialized successfully")}catch(r){throw console.error("Service initialization failed:",r),r}finally{this.isInitializing=!1}})(),this.initializationPromise)}getTemplateService(){if(!this.templateService)throw new Error("TemplateService not initialized. Call initializeAllServices first.");return this.templateService}getContactService(){if(!this.contactService)throw new Error("ContactService not initialized. Call initializeAllServices first.");return this.contactService}getGroupService(){if(!this.groupService)throw new Error("GroupService not initialized. Call initializeAllServices first.");return this.groupService}getAssetService(){if(!this.assetService)throw new Error("AssetService not initialized. Call initializeAllServices first.");return this.assetService}getHistoryService(){if(!this.historyService)throw new Error("HistoryService not initialized. Call initializeAllServices first.");return this.historyService}getQuotaService(){if(!this.quotaService)throw new Error("QuotaService not initialized. Call initializeAllServices first.");return this.quotaService}getAuthService(){if(!this.authService)throw new Error("AuthService not initialized. Call initializeAllServices first.");return this.authService}getPaymentService(){if(!this.paymentService)throw new Error("PaymentService not initialized. Call initializeAllServices first.");return this.paymentService}async initializeService(t,r){if(!this.initializedServices.has(t))try{await r(),this.initializedServices.add(t)}catch(n){throw console.error(`Failed to initialize service '${t}':`,n),new Error(`Initialization failed for service: ${t}`)}}async initializeTemplateService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.templateService=new MF(this.syncManager),await this.templateService.initialize(t)}async initializeContactService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.contactService=new TY(this.syncManager),await this.contactService.initialize(t)}async initializeGroupService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.groupService=new CY(this.syncManager),await this.groupService.initialize(t)}async initializeAssetService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.assetService=new NF(this.syncManager),await this.assetService.initialize(t)}async initializeHistoryService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.historyService=new kY(this.syncManager),await this.historyService.initialize(t)}async initializeAuthService(t){this.authService=new hp}async initializeQuotaService(t){if(!this.syncManager)throw new Error("SyncManager not initialized");this.quotaService=new EY(this.syncManager)}async initializePaymentService(t){this.paymentService=new MY}};St(bd,"instance");let t2=bd;const ya=t2.getInstance(),NY=1,jY=1e6;let yb=0;function RY(){return yb=(yb+1)%Number.MAX_SAFE_INTEGER,yb.toString()}const xb=new Map,fj=e=>{if(xb.has(e))return;const t=setTimeout(()=>{xb.delete(e),pp({type:"REMOVE_TOAST",toastId:e})},jY);xb.set(e,t)},OY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,NY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?fj(r):e.toasts.forEach(n=>{fj(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nx=[];let ax={toasts:[]};function pp(e){ax=OY(ax,e),nx.forEach(t=>{t(ax)})}function gp({...e}){const t=RY(),r=a=>pp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>pp({type:"DISMISS_TOAST",toastId:t});return pp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function bg(){const[e,t]=E.useState(ax);return E.useEffect(()=>(nx.push(t),()=>{const r=nx.indexOf(t);r>-1&&nx.splice(r,1)}),[e]),{...e,toast:gp,dismiss:r=>pp({type:"DISMISS_TOAST",toastId:r})}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),hj=e=>{const t=PY(e);return t.charAt(0).toUpperCase()+t.slice(1)},RF=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),FY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},u)=>E.createElement("svg",{ref:u,...IY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:RF("lucide",a),...!s&&!FY(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,m])=>E.createElement(d,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=E.forwardRef(({className:n,...a},s)=>E.createElement(LY,{ref:s,iconNode:t,className:RF(`lucide-${DY(hj(e))}`,`lucide-${e}`,n),...a}));return r.displayName=hj(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ic=At("arrow-left",BY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],mj=At("bell",UY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],VY=At("calendar",zY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],OF=At("chart-column",HY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kd=At("check",$Y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DF=At("chevron-down",qY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],WY=At("chevron-up",GY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zd=At("circle-alert",KY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vu=At("circle-check-big",XY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PF=At("circle-check",YY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],s0=At("circle-x",QY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sg=At("clock",JY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eQ=At("credit-card",ZY);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FF=At("database",tQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tx=At("download",rQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],aQ=At("ellipsis",nQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wb=At("eye-off",sQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_b=At("eye",iQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Fp=At("file-image",oQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],pj=At("file-spreadsheet",lQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],i0=At("file-text",cQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],lT=At("file-video",uQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],IF=At("file",dQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gj=At("folder-open",fQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mQ=At("globe",hQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],gQ=At("hard-drive",pQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],LF=At("hash",vQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xQ=At("key",yQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Is=At("loader-circle",wQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],bQ=At("loader",_Q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dh=At("lock",SQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],TQ=At("log-out",EQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ey=At("mail",kQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],AQ=At("menu",CQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Hl=At("message-square",MQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],jQ=At("paperclip",NQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],BF=At("pause",RQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cT=At("phone",OQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],UF=At("play",DQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zF=At("plus",PQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],vj=At("qr-code",FQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bb=At("refresh-cw",IQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],BQ=At("rotate-cw",LQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VF=At("save",UQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eg=At("search",zQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xd=At("send",VQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uT=At("settings",HQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kx=At("shield",$Q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],GQ=At("smartphone",qQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tg=At("square-pen",WQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],XQ=At("tag",KQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QQ=At("target",YQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],o0=At("trash-2",JQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HF=At("trending-up",ZQ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cd=At("triangle-alert",eJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dT=At("upload",tJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nJ=At("user-check",rJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$F=At("user-plus",aJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h1=At("user",sJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],oJ=At("users-round",iJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Oi=At("users",lJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],so=At("x",cJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m1=At("zap",uJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fJ=At("zoom-in",dJ);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],mJ=At("zoom-out",hJ);function Lo(e,t){var r=t&&t.cache?t.cache:_J,n=t&&t.serializer?t.serializer:xJ,a=t&&t.strategy?t.strategy:vJ;return a(e,{cache:r,serializer:n})}function pJ(e){return e==null||typeof e=="number"||typeof e=="boolean"}function gJ(e,t,r,n){var a=pJ(n)?n:r(n),s=t.get(a);return typeof s>"u"&&(s=e.call(this,n),t.set(a,s)),s}function qF(e,t,r){var n=Array.prototype.slice.call(arguments,3),a=r(n),s=t.get(a);return typeof s>"u"&&(s=e.apply(this,n),t.set(a,s)),s}function GF(e,t,r,n,a){return r.bind(t,e,n,a)}function vJ(e,t){var r=e.length===1?gJ:qF;return GF(e,this,r,t.cache.create(),t.serializer)}function yJ(e,t){return GF(e,this,qF,t.cache.create(),t.serializer)}var xJ=function(){return JSON.stringify(arguments)},wJ=(function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,r){this.cache[t]=r},e})(),_J={create:function(){return new wJ}},Bo={variadic:yJ},Dr;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Dr||(Dr={}));var Tn;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(Tn||(Tn={}));var l0;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(l0||(l0={}));function yj(e){return e.type===Tn.literal}function bJ(e){return e.type===Tn.argument}function WF(e){return e.type===Tn.number}function KF(e){return e.type===Tn.date}function XF(e){return e.type===Tn.time}function YF(e){return e.type===Tn.select}function QF(e){return e.type===Tn.plural}function SJ(e){return e.type===Tn.pound}function JF(e){return e.type===Tn.tag}function ZF(e){return!!(e&&typeof e=="object"&&e.type===l0.number)}function r2(e){return!!(e&&typeof e=="object"&&e.type===l0.dateTime)}var eI=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,EJ=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function TJ(e){var t={};return e.replace(EJ,function(r){var n=r.length;switch(r[0]){case"G":t.era=n===4?"long":n===5?"narrow":"short";break;case"y":t.year=n===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=n===4?"long":n===5?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var kJ=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function CJ(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(kJ).filter(function(v){return v.length>0}),r=[],n=0,a=t;n<a.length;n++){var s=a[n],i=s.split("/");if(i.length===0)throw new Error("Invalid number skeleton");for(var l=i[0],u=i.slice(1),d=0,m=u;d<m.length;d++){var p=m[d];if(p.length===0)throw new Error("Invalid number skeleton")}r.push({stem:l,options:u})}return r}function AJ(e){return e.replace(/^(.*?)-/,"")}var xj=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,tI=/^(@+)?(\+|#+)?[rs]?$/g,MJ=/(\*)(0+)|(#+)(0+)|(0+)/g,rI=/^(0+)$/;function wj(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(tI,function(r,n,a){return typeof a!="string"?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):a==="+"?t.minimumSignificantDigits=n.length:n[0]==="#"?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+(typeof a=="string"?a.length:0)),""}),t}function nI(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function NJ(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!rI.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function _j(e){var t={},r=nI(e);return r||t}function jJ(e){for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];switch(a.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=AJ(a.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Et(Et(Et({},t),{notation:"scientific"}),a.options.reduce(function(u,d){return Et(Et({},u),_j(d))},{}));continue;case"engineering":t=Et(Et(Et({},t),{notation:"engineering"}),a.options.reduce(function(u,d){return Et(Et({},u),_j(d))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(a.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(a.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");a.options[0].replace(MJ,function(u,d,m,p,v,y){if(d)t.minimumIntegerDigits=m.length;else{if(p&&v)throw new Error("We currently do not support maximum integer digits");if(y)throw new Error("We currently do not support exact integer digits")}return""});continue}if(rI.test(a.stem)){t.minimumIntegerDigits=a.stem.length;continue}if(xj.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(xj,function(u,d,m,p,v,y){return m==="*"?t.minimumFractionDigits=d.length:p&&p[0]==="#"?t.maximumFractionDigits=p.length:v&&y?(t.minimumFractionDigits=v.length,t.maximumFractionDigits=v.length+y.length):(t.minimumFractionDigits=d.length,t.maximumFractionDigits=d.length),""});var s=a.options[0];s==="w"?t=Et(Et({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=Et(Et({},t),wj(s)));continue}if(tI.test(a.stem)){t=Et(Et({},t),wj(a.stem));continue}var i=nI(a.stem);i&&(t=Et(Et({},t),i));var l=NJ(a.stem);l&&(t=Et(Et({},t),l))}return t}var Ty={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function RJ(e,t){for(var r="",n=0;n<e.length;n++){var a=e.charAt(n);if(a==="j"){for(var s=0;n+1<e.length&&e.charAt(n+1)===a;)s++,n++;var i=1+(s&1),l=s<2?1:3+(s>>1),u="a",d=OJ(t);for((d=="H"||d=="k")&&(l=0);l-- >0;)r+=u;for(;i-- >0;)r=d+r}else a==="J"?r+="H":r+=a}return r}function OJ(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,n;r!=="root"&&(n=e.maximize().region);var a=Ty[n||""]||Ty[r||""]||Ty["".concat(r,"-001")]||Ty["001"];return a[0]}var Sb,DJ=new RegExp("^".concat(eI.source,"*")),PJ=new RegExp("".concat(eI.source,"*$"));function Ir(e,t){return{start:e,end:t}}var FJ=!!String.prototype.startsWith&&"_a".startsWith("a",1),IJ=!!String.fromCodePoint,LJ=!!Object.fromEntries,BJ=!!String.prototype.codePointAt,UJ=!!String.prototype.trimStart,zJ=!!String.prototype.trimEnd,VJ=!!Number.isSafeInteger,HJ=VJ?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},n2=!0;try{var $J=sI("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");n2=((Sb=$J.exec("a"))===null||Sb===void 0?void 0:Sb[0])==="a"}catch{n2=!1}var bj=FJ?function(t,r,n){return t.startsWith(r,n)}:function(t,r,n){return t.slice(n,n+r.length)===r},a2=IJ?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n="",a=t.length,s=0,i;a>s;){if(i=t[s++],i>1114111)throw RangeError(i+" is not a valid code point");n+=i<65536?String.fromCharCode(i):String.fromCharCode(((i-=65536)>>10)+55296,i%1024+56320)}return n},Sj=LJ?Object.fromEntries:function(t){for(var r={},n=0,a=t;n<a.length;n++){var s=a[n],i=s[0],l=s[1];r[i]=l}return r},aI=BJ?function(t,r){return t.codePointAt(r)}:function(t,r){var n=t.length;if(!(r<0||r>=n)){var a=t.charCodeAt(r),s;return a<55296||a>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?a:(a-55296<<10)+(s-56320)+65536}},qJ=UJ?function(t){return t.trimStart()}:function(t){return t.replace(DJ,"")},GJ=zJ?function(t){return t.trimEnd()}:function(t){return t.replace(PJ,"")};function sI(e,t){return new RegExp(e,t)}var s2;if(n2){var Ej=sI("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");s2=function(t,r){var n;Ej.lastIndex=r;var a=Ej.exec(t);return(n=a[1])!==null&&n!==void 0?n:""}}else s2=function(t,r){for(var n=[];;){var a=aI(t,r);if(a===void 0||iI(a)||YJ(a))break;n.push(a),r+=a>=65536?2:1}return a2.apply(void 0,n)};var WJ=(function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,n){for(var a=[];!this.isEOF();){var s=this.char();if(s===123){var i=this.parseArgument(t,n);if(i.err)return i;a.push(i.val)}else{if(s===125&&t>0)break;if(s===35&&(r==="plural"||r==="selectordinal")){var l=this.clonePosition();this.bump(),a.push({type:Tn.pound,location:Ir(l,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(Dr.UNMATCHED_CLOSING_TAG,Ir(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&i2(this.peek()||0)){var i=this.parseTag(t,r);if(i.err)return i;a.push(i.val)}else{var i=this.parseLiteral(t,r);if(i.err)return i;a.push(i.val)}}}return{val:a,err:null}},e.prototype.parseTag=function(t,r){var n=this.clonePosition();this.bump();var a=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Tn.literal,value:"<".concat(a,"/>"),location:Ir(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(t+1,r,!0);if(s.err)return s;var i=s.val,l=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!i2(this.char()))return this.error(Dr.INVALID_TAG,Ir(l,this.clonePosition()));var u=this.clonePosition(),d=this.parseTagName();return a!==d?this.error(Dr.UNMATCHED_CLOSING_TAG,Ir(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Tn.tag,value:a,children:i,location:Ir(n,this.clonePosition())},err:null}:this.error(Dr.INVALID_TAG,Ir(l,this.clonePosition())))}else return this.error(Dr.UNCLOSED_TAG,Ir(n,this.clonePosition()))}else return this.error(Dr.INVALID_TAG,Ir(n,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&XJ(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var n=this.clonePosition(),a="";;){var s=this.tryParseQuote(r);if(s){a+=s;continue}var i=this.tryParseUnquoted(t,r);if(i){a+=i;continue}var l=this.tryParseLeftAngleBracket();if(l){a+=l;continue}break}var u=Ir(n,this.clonePosition());return{val:{type:Tn.literal,value:a,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!KJ(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(n);this.bump()}return a2.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(r==="plural"||r==="selectordinal")||n===125&&t>0?null:(this.bump(),a2(n))},e.prototype.parseArgument=function(t,r){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Ir(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Dr.EMPTY_ARGUMENT,Ir(n,this.clonePosition()));var a=this.parseIdentifierIfPossible().value;if(!a)return this.error(Dr.MALFORMED_ARGUMENT,Ir(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Ir(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Tn.argument,value:a,location:Ir(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Ir(n,this.clonePosition())):this.parseArgumentOptions(t,r,a,n);default:return this.error(Dr.MALFORMED_ARGUMENT,Ir(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),n=s2(this.message,r),a=r+n.length;this.bumpTo(a);var s=this.clonePosition(),i=Ir(t,s);return{value:n,location:i}},e.prototype.parseArgumentOptions=function(t,r,n,a){var s,i=this.clonePosition(),l=this.parseIdentifierIfPossible().value,u=this.clonePosition();switch(l){case"":return this.error(Dr.EXPECT_ARGUMENT_TYPE,Ir(i,u));case"number":case"date":case"time":{this.bumpSpace();var d=null;if(this.bumpIf(",")){this.bumpSpace();var m=this.clonePosition(),p=this.parseSimpleArgStyleIfPossible();if(p.err)return p;var v=GJ(p.val);if(v.length===0)return this.error(Dr.EXPECT_ARGUMENT_STYLE,Ir(this.clonePosition(),this.clonePosition()));var y=Ir(m,this.clonePosition());d={style:v,styleLocation:y}}var w=this.tryParseArgumentClose(a);if(w.err)return w;var x=Ir(a,this.clonePosition());if(d&&bj(d==null?void 0:d.style,"::",0)){var b=qJ(d.style.slice(2));if(l==="number"){var p=this.parseNumberSkeletonFromString(b,d.styleLocation);return p.err?p:{val:{type:Tn.number,value:n,location:x,style:p.val},err:null}}else{if(b.length===0)return this.error(Dr.EXPECT_DATE_TIME_SKELETON,x);var T=b;this.locale&&(T=RJ(b,this.locale));var v={type:l0.dateTime,pattern:T,location:d.styleLocation,parsedOptions:this.shouldParseSkeletons?TJ(T):{}},M=l==="date"?Tn.date:Tn.time;return{val:{type:M,value:n,location:x,style:v},err:null}}}return{val:{type:l==="number"?Tn.number:l==="date"?Tn.date:Tn.time,value:n,location:x,style:(s=d==null?void 0:d.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var k=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Dr.EXPECT_SELECT_ARGUMENT_OPTIONS,Ir(k,Et({},k)));this.bumpSpace();var j=this.parseIdentifierIfPossible(),R=0;if(l!=="select"&&j.value==="offset"){if(!this.bumpIf(":"))return this.error(Dr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ir(this.clonePosition(),this.clonePosition()));this.bumpSpace();var p=this.tryParseDecimalInteger(Dr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Dr.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(p.err)return p;this.bumpSpace(),j=this.parseIdentifierIfPossible(),R=p.val}var D=this.tryParsePluralOrSelectOptions(t,l,r,j);if(D.err)return D;var w=this.tryParseArgumentClose(a);if(w.err)return w;var O=Ir(a,this.clonePosition());return l==="select"?{val:{type:Tn.select,value:n,options:Sj(D.val),location:O},err:null}:{val:{type:Tn.plural,value:n,options:Sj(D.val),offset:R,pluralType:l==="plural"?"cardinal":"ordinal",location:O},err:null}}default:return this.error(Dr.INVALID_ARGUMENT_TYPE,Ir(i,u))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Ir(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var a=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Dr.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ir(a,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var n=[];try{n=CJ(t)}catch{return this.error(Dr.INVALID_NUMBER_SKELETON,r)}return{val:{type:l0.number,tokens:n,location:r,parsedOptions:this.shouldParseSkeletons?jJ(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,n,a){for(var s,i=!1,l=[],u=new Set,d=a.value,m=a.location;;){if(d.length===0){var p=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var v=this.tryParseDecimalInteger(Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Dr.INVALID_PLURAL_ARGUMENT_SELECTOR);if(v.err)return v;m=Ir(p,this.clonePosition()),d=this.message.slice(p.offset,this.offset())}else break}if(u.has(d))return this.error(r==="select"?Dr.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Dr.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,m);d==="other"&&(i=!0),this.bumpSpace();var y=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Dr.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ir(this.clonePosition(),this.clonePosition()));var w=this.parseMessage(t+1,r,n);if(w.err)return w;var x=this.tryParseArgumentClose(y);if(x.err)return x;l.push([d,{value:w.val,location:Ir(y,this.clonePosition())}]),u.add(d),this.bumpSpace(),s=this.parseIdentifierIfPossible(),d=s.value,m=s.location}return l.length===0?this.error(r==="select"?Dr.EXPECT_SELECT_ARGUMENT_SELECTOR:Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ir(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(Dr.MISSING_OTHER_CLAUSE,Ir(this.clonePosition(),this.clonePosition())):{val:l,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var n=1,a=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var s=!1,i=0;!this.isEOF();){var l=this.char();if(l>=48&&l<=57)s=!0,i=i*10+(l-48),this.bump();else break}var u=Ir(a,this.clonePosition());return s?(i*=n,HJ(i)?{val:i,err:null}:this.error(r,u)):this.error(t,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=aI(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(bj(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),n=this.message.indexOf(t,r);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&iI(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),n=this.message.charCodeAt(r+(t>=65536?2:1));return n??null},e})();function i2(e){return e>=97&&e<=122||e>=65&&e<=90}function KJ(e){return i2(e)||e===47}function XJ(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function iI(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function YJ(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function o2(e){e.forEach(function(t){if(delete t.location,YF(t)||QF(t))for(var r in t.options)delete t.options[r].location,o2(t.options[r].value);else WF(t)&&ZF(t.style)||(KF(t)||XF(t))&&r2(t.style)?delete t.style.location:JF(t)&&o2(t.children)})}function QJ(e,t){t===void 0&&(t={}),t=Et({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new WJ(e,t).parse();if(r.err){var n=SyntaxError(Dr[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return t!=null&&t.captureLocation||o2(r.val),r.val}var Jo;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Jo||(Jo={}));var Mu=(function(e){Vs(t,e);function t(r,n,a){var s=e.call(this,r)||this;return s.code=n,s.originalMessage=a,s}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t})(Error),Tj=(function(e){Vs(t,e);function t(r,n,a,s){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(n,'". Options are "').concat(Object.keys(a).join('", "'),'"'),Jo.INVALID_VALUE,s)||this}return t})(Mu),JJ=(function(e){Vs(t,e);function t(r,n,a){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(n),Jo.INVALID_VALUE,a)||this}return t})(Mu),ZJ=(function(e){Vs(t,e);function t(r,n){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(n,'"'),Jo.MISSING_VALUE,n)||this}return t})(Mu),gs;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(gs||(gs={}));function eZ(e){return e.length<2?e:e.reduce(function(t,r){var n=t[t.length-1];return!n||n.type!==gs.literal||r.type!==gs.literal?t.push(r):n.value+=r.value,t},[])}function oI(e){return typeof e=="function"}function sx(e,t,r,n,a,s,i){if(e.length===1&&yj(e[0]))return[{type:gs.literal,value:e[0].value}];for(var l=[],u=0,d=e;u<d.length;u++){var m=d[u];if(yj(m)){l.push({type:gs.literal,value:m.value});continue}if(SJ(m)){typeof s=="number"&&l.push({type:gs.literal,value:r.getNumberFormat(t).format(s)});continue}var p=m.value;if(!(a&&p in a))throw new ZJ(p,i);var v=a[p];if(bJ(m)){(!v||typeof v=="string"||typeof v=="number")&&(v=typeof v=="string"||typeof v=="number"?String(v):""),l.push({type:typeof v=="string"?gs.literal:gs.object,value:v});continue}if(KF(m)){var y=typeof m.style=="string"?n.date[m.style]:r2(m.style)?m.style.parsedOptions:void 0;l.push({type:gs.literal,value:r.getDateTimeFormat(t,y).format(v)});continue}if(XF(m)){var y=typeof m.style=="string"?n.time[m.style]:r2(m.style)?m.style.parsedOptions:n.time.medium;l.push({type:gs.literal,value:r.getDateTimeFormat(t,y).format(v)});continue}if(WF(m)){var y=typeof m.style=="string"?n.number[m.style]:ZF(m.style)?m.style.parsedOptions:void 0;y&&y.scale&&(v=v*(y.scale||1)),l.push({type:gs.literal,value:r.getNumberFormat(t,y).format(v)});continue}if(JF(m)){var w=m.children,x=m.value,b=a[x];if(!oI(b))throw new JJ(x,"function",i);var T=sx(w,t,r,n,a,s),M=b(T.map(function(R){return R.value}));Array.isArray(M)||(M=[M]),l.push.apply(l,M.map(function(R){return{type:typeof R=="string"?gs.literal:gs.object,value:R}}))}if(YF(m)){var k=m.options[v]||m.options.other;if(!k)throw new Tj(m.value,v,Object.keys(m.options),i);l.push.apply(l,sx(k.value,t,r,n,a));continue}if(QF(m)){var k=m.options["=".concat(v)];if(!k){if(!Intl.PluralRules)throw new Mu(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Jo.MISSING_INTL_API,i);var j=r.getPluralRules(t,{type:m.pluralType}).select(v-(m.offset||0));k=m.options[j]||m.options.other}if(!k)throw new Tj(m.value,v,Object.keys(m.options),i);l.push.apply(l,sx(k.value,t,r,n,a,v-(m.offset||0)));continue}}return eZ(l)}function tZ(e,t){return t?Et(Et(Et({},e||{}),t||{}),Object.keys(e).reduce(function(r,n){return r[n]=Et(Et({},e[n]),t[n]||{}),r},{})):e}function rZ(e,t){return t?Object.keys(e).reduce(function(r,n){return r[n]=tZ(e[n],t[n]),r},Et({},e)):e}function Eb(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function nZ(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Lo(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.NumberFormat).bind.apply(t,Js([void 0],r,!1)))},{cache:Eb(e.number),strategy:Bo.variadic}),getDateTimeFormat:Lo(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.DateTimeFormat).bind.apply(t,Js([void 0],r,!1)))},{cache:Eb(e.dateTime),strategy:Bo.variadic}),getPluralRules:Lo(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.PluralRules).bind.apply(t,Js([void 0],r,!1)))},{cache:Eb(e.pluralRules),strategy:Bo.variadic})}}var lI=(function(){function e(t,r,n,a){r===void 0&&(r=e.defaultLocale);var s=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(u){var d=s.formatToParts(u);if(d.length===1)return d[0].value;var m=d.reduce(function(p,v){return!p.length||v.type!==gs.literal||typeof p[p.length-1]!="string"?p.push(v.value):p[p.length-1]+=v.value,p},[]);return m.length<=1?m[0]||"":m},this.formatToParts=function(u){return sx(s.ast,s.locales,s.formatters,s.formats,u,void 0,s.message)},this.resolvedOptions=function(){var u;return{locale:((u=s.resolvedLocale)===null||u===void 0?void 0:u.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var i=a||{};i.formatters;var l=Bs(i,["formatters"]);this.ast=e.__parse(t,Et(Et({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=rZ(e.formats,n),this.formatters=a&&a.formatters||nZ(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=QJ,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e})(),Jd;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(Jd||(Jd={}));var kg=(function(e){Vs(t,e);function t(r,n,a){var s=this,i=a?a instanceof Error?a:new Error(String(a)):void 0;return s=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(n,`
`).concat(i?`
`.concat(i.message,`
`).concat(i.stack):""))||this,s.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s,t),s}return t})(Error),aZ=(function(e){Vs(t,e);function t(r,n){return e.call(this,Jd.UNSUPPORTED_FORMATTER,r,n)||this}return t})(kg),sZ=(function(e){Vs(t,e);function t(r,n){return e.call(this,Jd.INVALID_CONFIG,r,n)||this}return t})(kg),kj=(function(e){Vs(t,e);function t(r,n){return e.call(this,Jd.MISSING_DATA,r,n)||this}return t})(kg),Ui=(function(e){Vs(t,e);function t(r,n,a){var s=e.call(this,Jd.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(n,`
`),a)||this;return s.locale=n,s}return t})(kg),Tb=(function(e){Vs(t,e);function t(r,n,a,s){var i=e.call(this,"".concat(r,`
MessageID: `).concat(a==null?void 0:a.id,`
Default Message: `).concat(a==null?void 0:a.defaultMessage,`
Description: `).concat(a==null?void 0:a.description,`
`),n,s)||this;return i.descriptor=a,i.locale=n,i}return t})(Ui),iZ=(function(e){Vs(t,e);function t(r,n){var a=e.call(this,Jd.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(n,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(s){var i;return(i=s.value)!==null&&i!==void 0?i:JSON.stringify(s)}).join(),")"):"id"," as fallback."))||this;return a.descriptor=r,a}return t})(kg);function oZ(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function E0(e,t,r){return r===void 0&&(r={}),t.reduce(function(n,a){return a in e?n[a]=e[a]:a in r&&(n[a]=r[a]),n},{})}var lZ=function(e){},cZ=function(e){},cI={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:lZ,onWarn:cZ};function uI(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function fd(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function uZ(e){e===void 0&&(e=uI());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,a=Lo(function(){for(var l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new((l=Intl.DateTimeFormat).bind.apply(l,Js([void 0],u,!1)))},{cache:fd(e.dateTime),strategy:Bo.variadic}),s=Lo(function(){for(var l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new((l=Intl.NumberFormat).bind.apply(l,Js([void 0],u,!1)))},{cache:fd(e.number),strategy:Bo.variadic}),i=Lo(function(){for(var l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new((l=Intl.PluralRules).bind.apply(l,Js([void 0],u,!1)))},{cache:fd(e.pluralRules),strategy:Bo.variadic});return{getDateTimeFormat:a,getNumberFormat:s,getMessageFormat:Lo(function(l,u,d,m){return new lI(l,u,d,Et({formatters:{getNumberFormat:s,getDateTimeFormat:a,getPluralRules:i}},m||{}))},{cache:fd(e.message),strategy:Bo.variadic}),getRelativeTimeFormat:Lo(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new(t.bind.apply(t,Js([void 0],l,!1)))},{cache:fd(e.relativeTime),strategy:Bo.variadic}),getPluralRules:i,getListFormat:Lo(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new(r.bind.apply(r,Js([void 0],l,!1)))},{cache:fd(e.list),strategy:Bo.variadic}),getDisplayNames:Lo(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return new(n.bind.apply(n,Js([void 0],l,!1)))},{cache:fd(e.displayNames),strategy:Bo.variadic})}}function fT(e,t,r,n){var a=e&&e[t],s;if(a&&(s=a[r]),s)return s;n(new aZ("No ".concat(t," format named: ").concat(r)))}function ky(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=Et({timeZone:t},e[n]),r},{})}function Cj(e,t){var r=Object.keys(Et(Et({},e),t));return r.reduce(function(n,a){return n[a]=Et(Et({},e[a]||{}),t[a]||{}),n},{})}function Aj(e,t){if(!t)return e;var r=lI.formats;return Et(Et(Et({},r),e),{date:Cj(ky(r.date,t),ky(e.date||{},t)),time:Cj(ky(r.time,t),ky(e.time||{},t))})}var l2=function(e,t,r,n,a){var s=e.locale,i=e.formats,l=e.messages,u=e.defaultLocale,d=e.defaultFormats,m=e.fallbackOnEmptyString,p=e.onError,v=e.timeZone,y=e.defaultRichTextElements;r===void 0&&(r={id:""});var w=r.id,x=r.defaultMessage;oZ(!!w,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var b=String(w),T=l&&Object.prototype.hasOwnProperty.call(l,b)&&l[b];if(Array.isArray(T)&&T.length===1&&T[0].type===Tn.literal)return T[0].value;if(!n&&T&&typeof T=="string"&&!y)return T.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=Et(Et({},y),n||{}),i=Aj(i,v),d=Aj(d,v),!T){if(m===!1&&T==="")return T;if((!x||s&&s.toLowerCase()!==u.toLowerCase())&&p(new iZ(r,s)),x)try{var M=t.getMessageFormat(x,u,d,a);return M.format(n)}catch(k){return p(new Tb('Error formatting default message for: "'.concat(b,'", rendering default message verbatim'),s,r,k)),typeof x=="string"?x:b}return b}try{var M=t.getMessageFormat(T,s,i,Et({formatters:t},a||{}));return M.format(n)}catch(k){p(new Tb('Error formatting message: "'.concat(b,'", using ').concat(x?"default message":"id"," as fallback."),s,r,k))}if(x)try{var M=t.getMessageFormat(x,u,d,a);return M.format(n)}catch(k){p(new Tb('Error formatting the default message for: "'.concat(b,'", rendering message verbatim'),s,r,k))}return typeof T=="string"?T:typeof x=="string"?x:b},dZ=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Cg(e,t,r,n){var a=e.locale,s=e.formats,i=e.onError,l=e.timeZone;n===void 0&&(n={});var u=n.format,d=Et(Et({},l&&{timeZone:l}),u&&fT(s,t,u,i)),m=E0(n,dZ,d);return t==="time"&&!m.hour&&!m.minute&&!m.second&&!m.timeStyle&&!m.dateStyle&&(m=Et(Et({},m),{hour:"numeric",minute:"numeric"})),r(a,m)}function fZ(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r[0],s=r[1],i=s===void 0?{}:s,l=typeof a=="string"?new Date(a||0):a;try{return Cg(e,"date",t,i).format(l)}catch(u){e.onError(new Ui("Error formatting date.",e.locale,u))}return String(l)}function hZ(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r[0],s=r[1],i=s===void 0?{}:s,l=typeof a=="string"?new Date(a||0):a;try{return Cg(e,"time",t,i).format(l)}catch(u){e.onError(new Ui("Error formatting time.",e.locale,u))}return String(l)}function mZ(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r[0],s=r[1],i=r[2],l=i===void 0?{}:i,u=typeof a=="string"?new Date(a||0):a,d=typeof s=="string"?new Date(s||0):s;try{return Cg(e,"dateTimeRange",t,l).formatRange(u,d)}catch(m){e.onError(new Ui("Error formatting date time range.",e.locale,m))}return String(u)}function pZ(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r[0],s=r[1],i=s===void 0?{}:s,l=typeof a=="string"?new Date(a||0):a;try{return Cg(e,"date",t,i).formatToParts(l)}catch(u){e.onError(new Ui("Error formatting date.",e.locale,u))}return[]}function gZ(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r[0],s=r[1],i=s===void 0?{}:s,l=typeof a=="string"?new Date(a||0):a;try{return Cg(e,"time",t,i).formatToParts(l)}catch(u){e.onError(new Ui("Error formatting time.",e.locale,u))}return[]}var vZ=["style","type","fallback","languageDisplay"];function yZ(e,t,r,n){var a=e.locale,s=e.onError,i=Intl.DisplayNames;i||s(new Mu(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Jo.MISSING_INTL_API));var l=E0(n,vZ);try{return t(a,l).of(r)}catch(u){s(new Ui("Error formatting display name.",a,u))}}var xZ=["type","style"],Mj=Date.now();function wZ(e){return"".concat(Mj,"_").concat(e,"_").concat(Mj)}function _Z(e,t,r,n){n===void 0&&(n={});var a=dI(e,t,r,n).reduce(function(s,i){var l=i.value;return typeof l!="string"?s.push(l):typeof s[s.length-1]=="string"?s[s.length-1]+=l:s.push(l),s},[]);return a.length===1?a[0]:a.length===0?"":a}function dI(e,t,r,n){var a=e.locale,s=e.onError;n===void 0&&(n={});var i=Intl.ListFormat;i||s(new Mu(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Jo.MISSING_INTL_API));var l=E0(n,xZ);try{var u={},d=Array.from(r).map(function(m,p){if(typeof m=="object"&&m!==null){var v=wZ(p);return u[v]=m,v}return String(m)});return t(a,l).formatToParts(d).map(function(m){return m.type==="literal"?m:Et(Et({},m),{value:u[m.value]||m.value})})}catch(m){s(new Ui("Error formatting list.",a,m))}return r}var bZ=["type"];function SZ(e,t,r,n){var a=e.locale,s=e.onError;n===void 0&&(n={}),Intl.PluralRules||s(new Mu(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Jo.MISSING_INTL_API));var i=E0(n,bZ);try{return t(a,i).select(r)}catch(l){s(new Ui("Error formatting plural.",a,l))}return"other"}var EZ=["numeric","style"];function TZ(e,t,r){var n=e.locale,a=e.formats,s=e.onError;r===void 0&&(r={});var i=r.format,l=!!i&&fT(a,"relative",i,s)||{},u=E0(r,EZ,l);return t(n,u)}function kZ(e,t,r,n,a){a===void 0&&(a={}),n||(n="second");var s=Intl.RelativeTimeFormat;s||e.onError(new Mu(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Jo.MISSING_INTL_API));try{return TZ(e,t,a).format(r,n)}catch(i){e.onError(new Ui("Error formatting relative time.",e.locale,i))}return String(r)}var CZ=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function fI(e,t,r){var n=e.locale,a=e.formats,s=e.onError;r===void 0&&(r={});var i=r.format,l=i&&fT(a,"number",i,s)||{},u=E0(r,CZ,l);return t(n,u)}function AZ(e,t,r,n){n===void 0&&(n={});try{return fI(e,t,n).format(r)}catch(a){e.onError(new Ui("Error formatting number.",e.locale,a))}return String(r)}function MZ(e,t,r,n){n===void 0&&(n={});try{return fI(e,t,n).formatToParts(r)}catch(a){e.onError(new Ui("Error formatting number.",e.locale,a))}return[]}function NZ(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function jZ(e){e.onWarn&&e.defaultRichTextElements&&NZ(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function RZ(e,t){var r=uZ(t),n=Et(Et({},cI),e),a=n.locale,s=n.defaultLocale,i=n.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&i?i(new kj('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&i&&i(new kj('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(i&&i(new sZ('"locale" was not configured, using "'.concat(s,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),n.locale=n.defaultLocale||"en"),jZ(n),Et(Et({},n),{formatters:r,formatNumber:AZ.bind(null,n,r.getNumberFormat),formatNumberToParts:MZ.bind(null,n,r.getNumberFormat),formatRelativeTime:kZ.bind(null,n,r.getRelativeTimeFormat),formatDate:fZ.bind(null,n,r.getDateTimeFormat),formatDateToParts:pZ.bind(null,n,r.getDateTimeFormat),formatTime:hZ.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:mZ.bind(null,n,r.getDateTimeFormat),formatTimeToParts:gZ.bind(null,n,r.getDateTimeFormat),formatPlural:SZ.bind(null,n,r.getPluralRules),formatMessage:l2.bind(null,n,r),$t:l2.bind(null,n,r),formatList:_Z.bind(null,n,r.getListFormat),formatListToParts:dI.bind(null,n,r.getListFormat),formatDisplayName:yZ.bind(null,n,r.getDisplayNames)})}function OZ(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function hI(e){OZ(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var mI=Et(Et({},cI),{textComponent:E.Fragment}),DZ=function(e,t){return E.isValidElement(e)?E.cloneElement(e,{key:t}):e},pI=function(e){var t;return(t=E.Children.map(e,DZ))!==null&&t!==void 0?t:[]};function PZ(e){return function(t){return e(pI(t))}}function c2(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),a=r.length;if(n.length!==a)return!1;for(var s=0;s<a;s++){var i=r[s];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}var kb={exports:{}},Qr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function FZ(){if(Nj)return Qr;Nj=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,M=e?Symbol.for("react.scope"):60119;function k(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case t:switch(R=R.type,R){case u:case d:case n:case s:case a:case p:return R;default:switch(R=R&&R.$$typeof,R){case l:case m:case w:case y:case i:return R;default:return D}}case r:return D}}}function j(R){return k(R)===d}return Qr.AsyncMode=u,Qr.ConcurrentMode=d,Qr.ContextConsumer=l,Qr.ContextProvider=i,Qr.Element=t,Qr.ForwardRef=m,Qr.Fragment=n,Qr.Lazy=w,Qr.Memo=y,Qr.Portal=r,Qr.Profiler=s,Qr.StrictMode=a,Qr.Suspense=p,Qr.isAsyncMode=function(R){return j(R)||k(R)===u},Qr.isConcurrentMode=j,Qr.isContextConsumer=function(R){return k(R)===l},Qr.isContextProvider=function(R){return k(R)===i},Qr.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Qr.isForwardRef=function(R){return k(R)===m},Qr.isFragment=function(R){return k(R)===n},Qr.isLazy=function(R){return k(R)===w},Qr.isMemo=function(R){return k(R)===y},Qr.isPortal=function(R){return k(R)===r},Qr.isProfiler=function(R){return k(R)===s},Qr.isStrictMode=function(R){return k(R)===a},Qr.isSuspense=function(R){return k(R)===p},Qr.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===d||R===s||R===a||R===p||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===w||R.$$typeof===y||R.$$typeof===i||R.$$typeof===l||R.$$typeof===m||R.$$typeof===b||R.$$typeof===T||R.$$typeof===M||R.$$typeof===x)},Qr.typeOf=k,Qr}var jj;function IZ(){return jj||(jj=1,kb.exports=FZ()),kb.exports}var Cb,Rj;function LZ(){if(Rj)return Cb;Rj=1;var e=IZ(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=n,s[e.Memo]=a;function i(w){return e.isMemo(w)?a:s[w.$$typeof]||t}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,v=Object.prototype;function y(w,x,b){if(typeof x!="string"){if(v){var T=p(x);T&&T!==v&&y(w,T,b)}var M=u(x);d&&(M=M.concat(d(x)));for(var k=i(w),j=i(x),R=0;R<M.length;++R){var D=M[R];if(!r[D]&&!(b&&b[D])&&!(j&&j[D])&&!(k&&k[D])){var O=m(x,D);try{l(w,D,O)}catch{}}}}return w}return Cb=y,Cb}LZ();var hT=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=E.createContext(null)):E.createContext(null);hT.Consumer;var BZ=hT.Provider,UZ=BZ,zZ=hT;function Hs(){var e=E.useContext(zZ);return hI(e),e}var u2;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(u2||(u2={}));var d2;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(d2||(d2={}));function gI(e){var t=function(r){var n=Hs(),a=r.value,s=r.children,i=Bs(r,["value","children"]),l=typeof a=="string"?new Date(a||0):a,u=e==="formatDate"?n.formatDateToParts(l,i):n.formatTimeToParts(l,i);return s(u)};return t.displayName=d2[e],t}function Ag(e){var t=function(r){var n=Hs(),a=r.value,s=r.children,i=Bs(r,["value","children"]),l=n[e](a,i);if(typeof s=="function")return s(l);var u=n.textComponent||E.Fragment;return E.createElement(u,null,l)};return t.displayName=u2[e],t}function vI(e){return e&&Object.keys(e).reduce(function(t,r){var n=e[r];return t[r]=oI(n)?PZ(n):n,t},{})}var Oj=function(e,t,r,n){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];var i=vI(n),l=l2.apply(void 0,Js([e,t,r,i],a,!1));return Array.isArray(l)?pI(l):l},Dj=function(e,t){var r=e.defaultRichTextElements,n=Bs(e,["defaultRichTextElements"]),a=vI(r),s=RZ(Et(Et(Et({},mI),n),{defaultRichTextElements:a}),t),i={locale:s.locale,timeZone:s.timeZone,fallbackOnEmptyString:s.fallbackOnEmptyString,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:a};return Et(Et({},s),{formatMessage:Oj.bind(null,i,s.formatters),$t:Oj.bind(null,i,s.formatters)})};function VZ(e,t){var r=e.values,n=Bs(e,["values"]),a=t.values,s=Bs(t,["values"]);return c2(a,r)&&c2(n,s)}function yI(e){var t=Hs(),r=t.formatMessage,n=t.textComponent,a=n===void 0?E.Fragment:n,s=e.id,i=e.description,l=e.defaultMessage,u=e.values,d=e.children,m=e.tagName,p=m===void 0?a:m,v=e.ignoreTag,y={id:s,description:i,defaultMessage:l},w=r(y,u,{ignoreTag:v});return typeof d=="function"?d(Array.isArray(w)?w:[w]):p?E.createElement(p,null,w):E.createElement(E.Fragment,null,w)}yI.displayName="FormattedMessage";var tt=E.memo(yI,VZ);tt.displayName="MemoizedFormattedMessage";function Ab(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var HZ=(function(e){Vs(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=uI(),r.state={cache:r.cache,intl:Dj(Ab(r.props),r.cache),prevConfig:Ab(r.props)},r}return t.getDerivedStateFromProps=function(r,n){var a=n.prevConfig,s=n.cache,i=Ab(r);return c2(a,i)?null:{intl:Dj(i,s),prevConfig:i}},t.prototype.render=function(){return hI(this.state.intl),E.createElement(UZ,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=mI,t})(E.PureComponent);Ag("formatDate");Ag("formatTime");Ag("formatNumber");Ag("formatList");Ag("formatDisplayName");gI("formatDate");gI("formatTime");const $Z={"common.app.name":"Xender-In","common.button.login":"Sign In","common.button.register":"Sign Up","common.button.submit":"Submit","common.button.cancel":"Cancel","common.button.back":"Back","common.button.save":"Save Changes","common.button.continue":"Continue","common.button.try_again":"Try Again","common.loading":"Loading...","common.success":"Success","common.error":"Error","common.required":"Required","common.status.success":"Success!","common.status.error":"Error","common.status.pending":"Pending","auth.login.title":"Sign In","auth.login.subtitle":"Sign in to your WhatsApp automation account","auth.login.email.label":"Email","auth.login.email.placeholder":"Enter your email","auth.login.password.label":"Password","auth.login.password.placeholder":"Enter your password","auth.login.forgot_password":"Forgot password?","auth.login.no_account":"Don't have an account?","auth.login.sign_up_link":"Sign up","auth.login.signing_in":"Signing in...","auth.login.success":"Logged in successfully","auth.login.failed":"Login failed","auth.register.title":"Create Account","auth.register.subtitle":"Join Xender-In WhatsApp Automation","auth.register.name.label":"Full Name","auth.register.name.placeholder":"Enter your name","auth.register.confirm_password.label":"Confirm Password","auth.register.confirm_password.placeholder":"Confirm your password","auth.register.creating_account":"Creating account...","auth.register.has_account":"Already have an account?","auth.register.sign_in_link":"Sign in","auth.register.success":"Account created successfully","auth.register.password_mismatch":"Passwords do not match","auth.register.failed":"Registration failed","auth.register.email_exists":"Email already registered. Please login.","auth.register.creating":"Creating account...","auth.register.submit":"Create Account","auth.register.have_account":"Already have an account?","auth.register.success_title":"Registration Successful!","auth.register.success_message":"Your account has been created successfully. You can now log in.","auth.register.continue_login":"Continue to Login","auth.forgot_password.title":"Reset Password","auth.forgot_password.subtitle":"Enter your email to receive reset instructions","auth.forgot_password.send_button":"Send Reset Email","auth.forgot_password.sending":"Sending...","auth.forgot_password.back_to_login":"Back to Login","auth.forgot_password.success_title":"Reset Email Sent!","auth.forgot_password.success_desc":"Please check your email for password reset instructions.","auth.forgot_password.sent":"Reset email sent","auth.forgot_password.failed":"Failed to send reset email","auth.forgot_password.submit":"Send Reset Email","auth.forgot_password.success_message":"Please check your email for password reset instructions.","dashboard.menu.dashboard":"Dashboard","dashboard.menu.contacts":"Contacts","dashboard.menu.contacts.desc":"Manage your contacts","dashboard.menu.groups":"Groups","dashboard.menu.groups.desc":"Manage contact groups","dashboard.menu.templates":"Templates","dashboard.menu.templates.desc":"Create and manage templates","dashboard.menu.assets":"Asset Files","dashboard.menu.assets.desc":"Upload and manage asset files","dashboard.menu.send":"Send Messages","dashboard.menu.send.desc":"Configure and send messages","dashboard.menu.history":"History","dashboard.menu.history.desc":"View activity history","dashboard.menu.settings":"Settings","dashboard.menu.settings.desc":"App settings","dashboard.menu.logout":"Logout","dashboard.sidebar.management":"Management","dashboard.overview.title":"Dashboard Overview","dashboard.overview.subtitle":"Welcome back! Here's what's happening with your campaigns.","dashboard.stats.contacts":"Total Contacts","dashboard.stats.active_contacts":"Active contacts","dashboard.stats.contacts.desc":"Active contacts","dashboard.stats.templates":"Templates","dashboard.stats.active_templates":"Active templates","dashboard.stats.templates.desc":"Active templates","dashboard.stats.sent":"Messages Sent","dashboard.stats.messages":"Messages Sent","dashboard.stats.sent.desc":"This month","dashboard.stats.this_month":"This month","dashboard.stats.quota":"Quota Usage","dashboard.activity.title":"Recent Activity","dashboard.activity.subtitle":"Your latest campaign and message activities","dashboard.activity.campaign":"Message Campaign","dashboard.quick_actions.title":"Quick Actions","dashboard.quick_actions.subtitle":"Common tasks and shortcuts","settings.title":"Settings","settings.subtitle":"Welcome, {name} - Manage your account and preferences","settings.tab.payment":"Payment & Subscription","settings.tab.profile":"Account & Profile","settings.tab.database":"Database & Sync","settings.tab.team":"Team","settings.tab.notifications":"Notifications","settings.tab.security":"Security","settings.coming_soon":"Coming soon...","send.mode.static":"Static","send.mode.dynamic":"Dynamic","contacts.title":"Contacts","contacts.subtitle":"Manage your WhatsApp contacts organized by groups","contacts.button.manage_groups":"Manage Groups","contacts.button.upload":"Upload Contacts","contacts.button.add":"Add Contact","contacts.stats.total":"Total Contacts","contacts.stats.total.desc":"All contacts","contacts.stats.groups":"Groups","contacts.stats.groups.desc":"Contact groups","contacts.stats.avg_size":"Avg Group Size","contacts.stats.avg_size.desc":"Contacts per group","contacts.search.title":"Search Contacts","contacts.search.desc":"Search contacts by name, phone, or tags. Group filtering handled via database logic.","contacts.search.placeholder":"Search contacts by name, phone, or tags...","contacts.list.title":"Contacts List","contacts.list.desc.search":'All contacts matching "{query}"',"contacts.list.desc.all":"All contacts across all groups","contacts.button.delete_selected":"Delete ({count})","contacts.empty.search":"No contacts found matching your search.","contacts.empty.all":"No contacts found. Add some contacts to get started.","contacts.table.name":"Name","contacts.table.phone":"Phone","contacts.table.group":"Group","contacts.table.tags":"Tags","contacts.table.created":"Created","contacts.table.actions":"Actions","contacts.badge.unknown_group":"Unknown Group","contacts.badge.no_tags":"No tags","contacts.action.edit":"Edit","contacts.action.delete":"Delete","contacts.dialog.bulk_delete.title":"Confirm Bulk Delete","contacts.dialog.bulk_delete.desc":"Are you sure you want to delete {count} contact{s}? This action cannot be undone.","contacts.dialog.bulk_delete.confirm":"Delete All","contacts.dialog.bulk_delete.deleting":"Deleting...","contacts.dialog.delete.title":"Confirm Delete","contacts.dialog.delete.desc":"Are you sure you want to delete this contact? This action cannot be undone.","contacts.notification.load_error":"Error loading contact for editing","contacts.notification.delete_success":"{name} has been deleted successfully.","contacts.notification.delete_error":"Failed to delete contact. Please try again.","contacts.notification.delete_error_generic":"An error occurred while deleting the contact.","contacts.notification.bulk_delete_success":"{count} contact{s} deleted successfully.","contacts.notification.bulk_delete_error":"Failed to delete contacts. Please try again.","contacts.notification.bulk_delete_error_generic":"An error occurred while deleting contacts.","contacts.notification.upload_success":"Contacts uploaded successfully","templates.title":"Templates","templates.subtitle":"Create and manage message templates","templates.button.new":"New Template","templates.dialog.create.title":"Create New Template","templates.dialog.create.desc":"Create a reusable message template with variables","templates.form.name.label":"Template Name","templates.form.name.placeholder":"Enter template name","templates.form.variant.label":"Variant {number}","templates.form.variant.placeholder":"Enter variant {number} message content. Use {variable_name} for dynamic content.","templates.form.help":"Use {variable_name} for dynamic content (e.g., {name}, {amount}, {date}). Each variant provides a different message version for randomization.","templates.button.create":"Create Template","templates.button.update":"Update Template","templates.search.title":"Search Templates","templates.search.placeholder":"Search templates by name or content...","templates.loading":"Loading templates...","templates.empty.search":"No templates found matching your search.","templates.empty.all":"No templates created yet.","templates.dialog.edit.title":"Edit Template","templates.dialog.edit.desc":"Update your message template","templates.dialog.delete.title":"Delete Template","templates.dialog.delete.desc":"Are you sure you want to delete this template? This action cannot be undone.","templates.validation.min_variants":"Template must have at least 3 non-empty variants","history.title":"Message History","history.subtitle":"View individual message sending logs","history.button.view_activity":"View Activity Logs","history.stats.total":"Total Messages","history.stats.total.desc":"All time messages","history.stats.delivered":"Delivered","history.stats.delivered.desc":"Successfully sent","history.stats.failed":"Failed","history.stats.failed.desc":"Failed delivery","history.search.title":"Search & Filter","history.search.placeholder":"Search by name or phone...","history.filter.status.placeholder":"Filter by status","history.filter.status.all":"All Status","history.filter.status.sent":"Sent","history.filter.status.failed":"Failed","history.filter.status.pending":"Pending","history.list.title":"Message Logs","history.list.desc":"Detailed log of individual messages sent","history.empty.search":"No message logs found matching your filters.","history.empty.all":"No message logs yet.","history.table.status":"Status","history.table.contact":"Contact Name","history.table.phone":"Phone Number","history.table.sent_at":"Sent At","history.table.details":"Details","assets.title":"Asset Files","assets.subtitle":"Upload and manage your media assets and documents","assets.stats.total":"Total Files","assets.stats.total.desc":"Uploaded files","assets.stats.size":"Total Size","assets.stats.size.desc":"Storage used","assets.stats.images":"Images","assets.stats.images.desc":"JPG, PNG","assets.stats.videos":"Videos","assets.stats.videos.desc":"MP4 files","assets.stats.documents":"Documents","assets.stats.documents.desc":"PDF files","assets.upload.title":"Upload Files","assets.upload.desc":"Drag and drop your files here, or click to browse. Only PNG, JPG, PDF, and MP4 files are accepted, up to 10MB each.","assets.upload.drop_active":"Drop files here","assets.upload.drop_idle":"Upload your files","assets.upload.browse":"or click to browse your computer","assets.upload.accepted":"Accepted: JPG, PNG, PDF, MP4  Max size: 10MB","assets.upload.uploading":"Uploading...","assets.list.title":"Uploaded Files","assets.list.desc":"Manage your uploaded assets and documents","assets.empty.title":"No files uploaded yet","assets.empty.desc":"Upload your first file to get started with asset management","assets.toast.invalid_type":"File Type Rejected","assets.toast.invalid_type.desc":"{name}: Only PNG, JPG, PDF, and MP4 files are allowed.","assets.toast.too_large":"File Too Large","assets.toast.too_large.desc":"{name}: File size exceeds 10MB limit.","assets.toast.delete_success":"File Deleted","assets.toast.delete_success.desc":"File has been deleted successfully.","assets.toast.delete_failed":"Delete Failed","send.result.success":"Successful:","send.result.failed":"Failed:"},qZ={"common.app.name":"Xender-In","common.button.login":"Masuk","common.button.register":"Daftar","common.button.submit":"Kirim","common.button.cancel":"Batal","common.button.back":"Kembali","common.button.save":"Simpan Perubahan","common.button.continue":"Lanjutkan","common.button.try_again":"Coba Lagi","common.loading":"Memuat...","common.success":"Berhasil","common.error":"Error","common.required":"Wajib diisi","common.status.success":"Berhasil!","common.status.error":"Error","common.status.pending":"Menunggu","common.button.logout":"Keluar","auth.login.title":"Masuk","auth.login.subtitle":"Masuk ke akun otomatisasi WhatsApp Anda","auth.login.email.label":"Email","auth.login.email.placeholder":"Masukkan email Anda","auth.login.password.label":"Kata Sandi","auth.login.password.placeholder":"Masukkan kata sandi Anda","auth.login.forgot_password":"Lupa kata sandi?","auth.login.no_account":"Belum punya akun?","auth.login.sign_up_link":"Daftar","auth.login.signing_in":"Sedang masuk...","auth.login.success":"Berhasil masuk","auth.login.failed":"Gagal masuk","auth.register.title":"Buat Akun","auth.register.subtitle":"Bergabung dengan Xender-In WhatsApp Automation","auth.register.name.label":"Nama Lengkap","auth.register.name.placeholder":"Masukkan nama Anda","auth.register.confirm_password.label":"Konfirmasi Kata Sandi","auth.register.confirm_password.placeholder":"Konfirmasi kata sandi Anda","auth.register.creating_account":"Membuat akun...","auth.register.has_account":"Sudah punya akun?","auth.register.sign_in_link":"Masuk","auth.register.success":"Akun berhasil dibuat","auth.register.password_mismatch":"Kata sandi tidak cocok","auth.register.failed":"Pendaftaran gagal","auth.register.email_exists":"Email sudah terdaftar. Silakan masuk.","auth.register.creating":"Membuat akun...","auth.register.submit":"Buat Akun","auth.register.have_account":"Sudah punya akun?","auth.register.success_title":"Pendaftaran Berhasil!","auth.register.success_message":"Akun Anda berhasil dibuat. Anda sekarang dapat masuk.","auth.register.continue_login":"Lanjut ke Masuk","auth.forgot_password.title":"Atur Ulang Kata Sandi","auth.forgot_password.subtitle":"Masukkan email Anda untuk menerima instruksi reset","auth.forgot_password.send_button":"Kirim Email Reset","auth.forgot_password.sending":"Mengirim...","auth.forgot_password.back_to_login":"Kembali ke Masuk","auth.forgot_password.success_title":"Email Reset Terkirim!","auth.forgot_password.success_desc":"Silakan periksa email Anda untuk instruksi reset kata sandi.","auth.forgot_password.sent":"Email reset terkirim","auth.forgot_password.failed":"Gagal mengirim email reset","auth.forgot_password.submit":"Kirim Email Reset","auth.forgot_password.success_message":"Silakan periksa email Anda untuk instruksi reset kata sandi.","dashboard.menu.dashboard":"Dasbor","dashboard.menu.contacts":"Kontak","dashboard.menu.contacts.desc":"Kelola kontak Anda","dashboard.menu.groups":"Grup","dashboard.menu.groups.desc":"Kelola grup kontak","dashboard.menu.templates":"Template","dashboard.menu.templates.desc":"Buat dan kelola template","dashboard.menu.assets":"File Aset","dashboard.menu.assets.desc":"Unggah dan kelola file aset","dashboard.menu.send":"Kirim Pesan","dashboard.menu.send.desc":"Konfigurasi dan kirim pesan","dashboard.menu.history":"Riwayat","dashboard.menu.history.desc":"Lihat riwayat aktivitas","dashboard.menu.settings":"Pengaturan","dashboard.menu.settings.desc":"Pengaturan aplikasi","dashboard.menu.logout":"Keluar","dashboard.sidebar.management":"Manajemen","dashboard.overview.title":"Ringkasan Dasbor","dashboard.overview.subtitle":"Selamat datang kembali! Inilah yang terjadi dengan kampanye Anda.","dashboard.stats.contacts":"Total Kontak","dashboard.stats.active_contacts":"Kontak aktif","dashboard.stats.contacts.desc":"Kontak aktif","dashboard.stats.templates":"Template","dashboard.stats.active_templates":"Template aktif","dashboard.stats.templates.desc":"Template aktif","dashboard.stats.sent":"Pesan Terkirim","dashboard.stats.messages":"Pesan Terkirim","dashboard.stats.sent.desc":"Bulan ini","dashboard.stats.this_month":"Bulan ini","dashboard.stats.quota":"Penggunaan Kuota","dashboard.activity.title":"Aktivitas Terbaru","dashboard.activity.subtitle":"Aktivitas kampanye dan pesan terbaru Anda","dashboard.activity.campaign":"Kampanye Pesan","dashboard.quick_actions.title":"Aksi Cepat","dashboard.quick_actions.subtitle":"Tugas umum dan pintasan","settings.title":"Pengaturan","settings.subtitle":"Selamat datang, {name} - Kelola akun dan preferensi Anda","settings.tab.payment":"Pembayaran & Langganan","settings.tab.profile":"Akun & Profil","settings.tab.database":"Database & Sinkronisasi","settings.tab.team":"Tim","settings.tab.notifications":"Notifikasi","settings.tab.security":"Keamanan","settings.coming_soon":"Segera hadir...","contacts.title":"Kontak","contacts.subtitle":"Kelola kontak WhatsApp Anda yang diatur berdasarkan grup","contacts.button.manage_groups":"Kelola Grup","contacts.button.upload":"Unggah Kontak","contacts.button.add":"Tambah Kontak","contacts.stats.total":"Total Kontak","contacts.stats.total.desc":"Semua kontak","contacts.stats.groups":"Grup","contacts.stats.groups.desc":"Grup kontak","contacts.stats.avg_size":"Rata-rata Ukuran Grup","contacts.stats.avg_size.desc":"Kontak per grup","contacts.search.title":"Cari Kontak","contacts.search.desc":"Cari kontak berdasarkan nama, telepon, atau tag. Pemfilteran grup ditangani melalui logika database.","contacts.search.placeholder":"Cari kontak berdasarkan nama, telepon, atau tag...","contacts.list.title":"Daftar Kontak","contacts.list.desc.search":'Semua kontak yang cocok dengan "{query}"',"contacts.list.desc.all":"Semua kontak di semua grup","contacts.button.delete_selected":"Hapus ({count})","contacts.empty.search":"Tidak ada kontak yang ditemukan sesuai pencarian Anda.","contacts.empty.all":"Tidak ada kontak ditemukan. Tambahkan beberapa kontak untuk memulai.","contacts.table.name":"Nama","contacts.table.phone":"Telepon","contacts.table.group":"Grup","contacts.table.tags":"Tag","contacts.table.created":"Dibuat","contacts.table.actions":"Aksi","contacts.badge.unknown_group":"Grup Tidak Diketahui","contacts.badge.no_tags":"Tidak ada tag","contacts.action.edit":"Edit","contacts.action.delete":"Hapus","contacts.dialog.bulk_delete.title":"Konfirmasi Hapus Massal","contacts.dialog.bulk_delete.desc":"Apakah Anda yakin ingin menghapus {count} kontak? Tindakan ini tidak dapat dibatalkan.","contacts.dialog.bulk_delete.confirm":"Hapus Semua","contacts.dialog.bulk_delete.deleting":"Menghapus...","contacts.dialog.delete.title":"Konfirmasi Hapus","contacts.dialog.delete.desc":"Apakah Anda yakin ingin menghapus kontak ini? Tindakan ini tidak dapat dibatalkan.","contacts.notification.load_error":"Gagal memuat kontak untuk diedit","contacts.notification.delete_success":"{name} telah berhasil dihapus.","contacts.notification.delete_error":"Gagal menghapus kontak. Silakan coba lagi.","contacts.notification.delete_error_generic":"Terjadi kesalahan saat menghapus kontak.","contacts.notification.bulk_delete_success":"{count} kontak berhasil dihapus.","contacts.notification.bulk_delete_error":"Gagal menghapus kontak. Silakan coba lagi.","contacts.notification.bulk_delete_error_generic":"Terjadi kesalahan saat menghapus kontak.","contacts.notification.upload_success":"Kontak berhasil diunggah","templates.title":"Template","templates.subtitle":"Buat dan kelola template pesan","templates.button.new":"Template Baru","templates.dialog.create.title":"Buat Template Baru","templates.dialog.create.desc":"Buat template pesan yang dapat digunakan kembali dengan variabel","templates.form.name.label":"Nama Template","templates.form.name.placeholder":"Masukkan nama template","templates.form.variant.label":"Varian {number}","templates.form.variant.placeholder":"Masukkan konten pesan varian {number}. Gunakan {variable_name} untuk konten dinamis.","templates.form.help":"Gunakan {variable_name} untuk konten dinamis (misalnya, {name}, {amount}, {date}). Setiap varian menyediakan versi pesan yang berbeda untuk pengacakan.","templates.button.create":"Buat Template","templates.button.update":"Perbarui Template","templates.search.title":"Cari Template","templates.search.placeholder":"Cari template berdasarkan nama atau konten...","templates.loading":"Memuat template...","templates.empty.search":"Tidak ada template yang ditemukan sesuai pencarian Anda.","templates.empty.all":"Belum ada template yang dibuat.","templates.dialog.edit.title":"Edit Template","templates.dialog.edit.desc":"Perbarui template pesan Anda","templates.dialog.delete.title":"Hapus Template","templates.dialog.delete.desc":"Apakah Anda yakin ingin menghapus template ini? Tindakan ini tidak dapat dibatalkan.","templates.validation.min_variants":"Template harus memiliki minimal 3 varian yang tidak kosong","history.title":"Riwayat Pesan","history.subtitle":"Lihat log pengiriman pesan individu","history.button.view_activity":"Lihat Log Aktivitas","history.stats.total":"Total Pesan","history.stats.total.desc":"Pesan sepanjang waktu","history.stats.delivered":"Terkirim","history.stats.delivered.desc":"Berhasil dikirim","history.stats.failed":"Gagal","history.stats.failed.desc":"Gagal dikirim","history.search.title":"Cari & Filter","history.search.placeholder":"Cari berdasarkan nama atau telepon...","history.filter.status.placeholder":"Filter berdasarkan status","history.filter.status.all":"Semua Status","history.filter.status.sent":"Terkirim","history.filter.status.failed":"Gagal","history.filter.status.pending":"Menunggu","history.list.title":"Log Pesan","history.list.desc":"Log rinci pesan individu yang dikirim","history.empty.search":"Tidak ada log pesan yang ditemukan sesuai filter Anda.","history.empty.all":"Belum ada log pesan.","history.table.status":"Status","history.table.contact":"Nama Kontak","history.table.phone":"Nomor Telepon","history.table.sent_at":"Dikirim Pada","history.table.details":"Detail","assets.title":"File Aset","assets.subtitle":"Unggah dan kelola aset media dan dokumen Anda","assets.stats.total":"Total File","assets.stats.total.desc":"File diunggah","assets.stats.size":"Total Ukuran","assets.stats.size.desc":"Penyimpanan digunakan","assets.stats.images":"Gambar","assets.stats.images.desc":"JPG, PNG","assets.stats.videos":"Video","assets.stats.videos.desc":"File MP4","assets.stats.documents":"Dokumen","assets.stats.documents.desc":"File PDF","assets.upload.title":"Unggah File","assets.upload.desc":"Seret dan lepas file Anda di sini, atau klik untuk menelusuri. Hanya file PNG, JPG, PDF, dan MP4 yang diterima, masing-masing hingga 10MB.","assets.upload.drop_active":"Lepaskan file di sini","assets.upload.drop_idle":"Unggah file Anda","assets.upload.browse":"atau klik untuk menelusuri komputer Anda","assets.upload.accepted":"Diterima: JPG, PNG, PDF, MP4  Ukuran maks: 10MB","assets.upload.uploading":"Mengunggah...","assets.list.title":"File Diunggah","assets.list.desc":"Kelola aset dan dokumen yang diunggah","assets.empty.title":"Belum ada file yang diunggah","assets.empty.desc":"Unggah file pertama Anda untuk memulai manajemen aset","assets.toast.invalid_type":"Jenis File Ditolak","assets.toast.invalid_type.desc":"{name}: Hanya file PNG, JPG, PDF, dan MP4 yang diperbolehkan.","assets.toast.too_large":"File Terlalu Besar","assets.toast.too_large.desc":"{name}: Ukuran file melebihi batas 10MB.","assets.toast.delete_success":"File Dihapus","assets.toast.delete_success.desc":"File berhasil dihapus.","assets.toast.delete_failed":"Gagal Menghapus","send.result.success":"Berhasil:","send.result.failed":"Gagal:"},xI=E.createContext(void 0),GZ={en:$Z,id:qZ};function WZ({children:e}){const[t,r]=E.useState(()=>{const a=localStorage.getItem("app_locale");return a==="en"||a==="id"?a:"en"}),n=a=>{r(a),localStorage.setItem("app_locale",a)};return f.jsx(xI.Provider,{value:{locale:t,setLocale:n},children:f.jsx(HZ,{locale:t,messages:GZ[t],defaultLocale:"en",children:e})})}function KZ(){const e=E.useContext(xI);if(e===void 0)throw new Error("useLocale must be used within an IntlProvider");return e}function yt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function XZ(e,t){const r=E.createContext(t),n=s=>{const{children:i,...l}=s,u=E.useMemo(()=>l,Object.values(l));return f.jsx(r.Provider,{value:u,children:i})};n.displayName=e+"Provider";function a(s){const i=E.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function zi(e,t=[]){let r=[];function n(s,i){const l=E.createContext(i),u=r.length;r=[...r,i];const d=p=>{var T;const{scope:v,children:y,...w}=p,x=((T=v==null?void 0:v[e])==null?void 0:T[u])||l,b=E.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:b,children:y})};d.displayName=s+"Provider";function m(p,v){var x;const y=((x=v==null?void 0:v[e])==null?void 0:x[u])||l,w=E.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,m]}const a=()=>{const s=r.map(i=>E.createContext(i));return function(l){const u=(l==null?void 0:l[e])||s;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,YZ(a,...t)]}function YZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var qa=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},QZ=uE[" useInsertionEffect ".trim().toString()]||qa;function ec({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=JZ({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:a;{const m=E.useRef(e!==void 0);E.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,n])}const d=E.useCallback(m=>{var p;if(l){const v=ZZ(m)?m(e):m;v!==e&&((p=i.current)==null||p.call(i,v))}else s(m)},[l,e,s,i]);return[u,d]}function JZ({defaultProp:e,onChange:t}){const[r,n]=E.useState(e),a=E.useRef(r),s=E.useRef(t);return QZ(()=>{s.current=t},[t]),E.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function ZZ(e){return typeof e=="function"}function eee(e){const t=tee(e),r=E.forwardRef((n,a)=>{const{children:s,...i}=n,l=E.Children.toArray(s),u=l.find(nee);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function tee(e){const t=E.forwardRef((r,n)=>{const{children:a,...s}=r;if(E.isValidElement(a)){const i=see(a),l=aee(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ree=Symbol("radix.slottable");function nee(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ree}function aee(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function see(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=iee.reduce((e,t)=>{const r=eee(`Primitive.${t}`),n=E.forwardRef((a,s)=>{const{asChild:i,...l}=a,u=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mT(e,t){e&&v0.flushSync(()=>e.dispatchEvent(t))}function Pj(e){const t=oee(e),r=E.forwardRef((n,a)=>{const{children:s,...i}=n,l=E.Children.toArray(s),u=l.find(cee);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function oee(e){const t=E.forwardRef((r,n)=>{const{children:a,...s}=r;if(E.isValidElement(a)){const i=dee(a),l=uee(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lee=Symbol("radix.slottable");function cee(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lee}function uee(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function dee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mg(e){const t=e+"CollectionProvider",[r,n]=zi(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:T}=x,M=za.useRef(null),k=za.useRef(new Map).current;return f.jsx(a,{scope:b,itemMap:k,collectionRef:M,children:T})};i.displayName=t;const l=e+"CollectionSlot",u=Pj(l),d=za.forwardRef((x,b)=>{const{scope:T,children:M}=x,k=s(l,T),j=xr(b,k.collectionRef);return f.jsx(u,{ref:j,children:M})});d.displayName=l;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=Pj(m),y=za.forwardRef((x,b)=>{const{scope:T,children:M,...k}=x,j=za.useRef(null),R=xr(b,j),D=s(m,T);return za.useEffect(()=>(D.itemMap.set(j,{ref:j,...k}),()=>void D.itemMap.delete(j))),f.jsx(v,{[p]:"",ref:R,children:M})});y.displayName=m;function w(x){const b=s(e+"CollectionConsumer",x);return za.useCallback(()=>{const M=b.collectionRef.current;if(!M)return[];const k=Array.from(M.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((D,O)=>k.indexOf(D.ref.current)-k.indexOf(O.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:d,ItemSlot:y},w,n]}var fee=E.createContext(void 0);function Ng(e){const t=E.useContext(fee);return e||t||"ltr"}function Us(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function hee(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e);E.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mee="DismissableLayer",f2="dismissableLayer.update",pee="dismissableLayer.pointerDownOutside",gee="dismissableLayer.focusOutside",Fj,wI=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jg=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...u}=e,d=E.useContext(wI),[m,p]=E.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=E.useState({}),w=xr(t,O=>p(O)),x=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(b),M=m?x.indexOf(m):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,j=M>=T,R=yee(O=>{const B=O.target,V=[...d.branches].some(ne=>ne.contains(B));!j||V||(a==null||a(O),i==null||i(O),O.defaultPrevented||l==null||l())},v),D=xee(O=>{const B=O.target;[...d.branches].some(ne=>ne.contains(B))||(s==null||s(O),i==null||i(O),O.defaultPrevented||l==null||l())},v);return hee(O=>{M===d.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},v),E.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Ij(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Fj)}},[m,v,r,d]),E.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Ij())},[m,d]),E.useEffect(()=>{const O=()=>y({});return document.addEventListener(f2,O),()=>document.removeEventListener(f2,O)},[]),f.jsx(Wt.div,{...u,ref:w,style:{pointerEvents:k?j?"auto":"none":void 0,...e.style},onFocusCapture:yt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:yt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:yt(e.onPointerDownCapture,R.onPointerDownCapture)})});jg.displayName=mee;var vee="DismissableLayerBranch",_I=E.forwardRef((e,t)=>{const r=E.useContext(wI),n=E.useRef(null),a=xr(t,n);return E.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),f.jsx(Wt.div,{...e,ref:a})});_I.displayName=vee;function yee(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e),n=E.useRef(!1),a=E.useRef(()=>{});return E.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let u=function(){bI(pee,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xee(e,t=globalThis==null?void 0:globalThis.document){const r=Us(e),n=E.useRef(!1);return E.useEffect(()=>{const a=s=>{s.target&&!n.current&&bI(gee,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ij(){const e=new CustomEvent(f2);document.dispatchEvent(e)}function bI(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?mT(a,s):a.dispatchEvent(s)}var wee=jg,_ee=_I,Mb=0;function pT(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lj()),document.body.insertAdjacentElement("beforeend",e[1]??Lj()),Mb++,()=>{Mb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mb--}},[])}function Lj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nb="focusScope.autoFocusOnMount",jb="focusScope.autoFocusOnUnmount",Bj={bubbles:!1,cancelable:!0},bee="FocusScope",p1=E.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,u]=E.useState(null),d=Us(a),m=Us(s),p=E.useRef(null),v=xr(t,x=>u(x)),y=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let x=function(k){if(y.paused||!l)return;const j=k.target;l.contains(j)?p.current=j:Yc(p.current,{select:!0})},b=function(k){if(y.paused||!l)return;const j=k.relatedTarget;j!==null&&(l.contains(j)||Yc(p.current,{select:!0}))},T=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Yc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const M=new MutationObserver(T);return l&&M.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),M.disconnect()}}},[n,l,y.paused]),E.useEffect(()=>{if(l){zj.add(y);const x=document.activeElement;if(!l.contains(x)){const T=new CustomEvent(Nb,Bj);l.addEventListener(Nb,d),l.dispatchEvent(T),T.defaultPrevented||(See(Aee(SI(l)),{select:!0}),document.activeElement===x&&Yc(l))}return()=>{l.removeEventListener(Nb,d),setTimeout(()=>{const T=new CustomEvent(jb,Bj);l.addEventListener(jb,m),l.dispatchEvent(T),T.defaultPrevented||Yc(x??document.body,{select:!0}),l.removeEventListener(jb,m),zj.remove(y)},0)}}},[l,d,m,y]);const w=E.useCallback(x=>{if(!r&&!n||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(b&&T){const M=x.currentTarget,[k,j]=Eee(M);k&&j?!x.shiftKey&&T===j?(x.preventDefault(),r&&Yc(k,{select:!0})):x.shiftKey&&T===k&&(x.preventDefault(),r&&Yc(j,{select:!0})):T===M&&x.preventDefault()}},[r,n,y.paused]);return f.jsx(Wt.div,{tabIndex:-1,...i,ref:v,onKeyDown:w})});p1.displayName=bee;function See(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yc(n,{select:t}),document.activeElement!==r)return}function Eee(e){const t=SI(e),r=Uj(t,e),n=Uj(t.reverse(),e);return[r,n]}function SI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uj(e,t){for(const r of e)if(!Tee(r,{upTo:t}))return r}function Tee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kee(e){return e instanceof HTMLInputElement&&"select"in e}function Yc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kee(e)&&t&&e.select()}}var zj=Cee();function Cee(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Vj(e,t),e.unshift(t)},remove(t){var r;e=Vj(e,t),(r=e[0])==null||r.resume()}}}function Vj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Aee(e){return e.filter(t=>t.tagName!=="A")}var Mee=uE[" useId ".trim().toString()]||(()=>{}),Nee=0;function Xo(e){const[t,r]=E.useState(Mee());return qa(()=>{r(n=>n??String(Nee++))},[e]),e||(t?`radix-${t}`:"")}const jee=["top","right","bottom","left"],yu=Math.min,Zs=Math.max,Cx=Math.round,Cy=Math.floor,Yo=e=>({x:e,y:e}),Ree={left:"right",right:"left",bottom:"top",top:"bottom"},Oee={start:"end",end:"start"};function h2(e,t,r){return Zs(e,yu(t,r))}function tc(e,t){return typeof e=="function"?e(t):e}function rc(e){return e.split("-")[0]}function T0(e){return e.split("-")[1]}function gT(e){return e==="x"?"y":"x"}function vT(e){return e==="y"?"height":"width"}const Dee=new Set(["top","bottom"]);function qo(e){return Dee.has(rc(e))?"y":"x"}function yT(e){return gT(qo(e))}function Pee(e,t,r){r===void 0&&(r=!1);const n=T0(e),a=yT(e),s=vT(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Ax(i)),[i,Ax(i)]}function Fee(e){const t=Ax(e);return[m2(e),t,m2(t)]}function m2(e){return e.replace(/start|end/g,t=>Oee[t])}const Hj=["left","right"],$j=["right","left"],Iee=["top","bottom"],Lee=["bottom","top"];function Bee(e,t,r){switch(e){case"top":case"bottom":return r?t?$j:Hj:t?Hj:$j;case"left":case"right":return t?Iee:Lee;default:return[]}}function Uee(e,t,r,n){const a=T0(e);let s=Bee(rc(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(m2)))),s}function Ax(e){return e.replace(/left|right|bottom|top/g,t=>Ree[t])}function zee(e){return{top:0,right:0,bottom:0,left:0,...e}}function EI(e){return typeof e!="number"?zee(e):{top:e,right:e,bottom:e,left:e}}function Mx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function qj(e,t,r){let{reference:n,floating:a}=e;const s=qo(t),i=yT(t),l=vT(i),u=rc(t),d=s==="y",m=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,v=n[l]/2-a[l]/2;let y;switch(u){case"top":y={x:m,y:n.y-a.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-a.width,y:p};break;default:y={x:n.x,y:n.y}}switch(T0(t)){case"start":y[i]-=v*(r&&d?-1:1);break;case"end":y[i]+=v*(r&&d?-1:1);break}return y}const Vee=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:p}=qj(d,n,u),v=n,y={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:T}=l[x],{x:M,y:k,data:j,reset:R}=await T({x:m,y:p,initialPlacement:n,placement:v,strategy:a,middlewareData:y,rects:d,platform:i,elements:{reference:e,floating:t}});m=M??m,p=k??p,y={...y,[b]:{...y[b],...j}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(d=R.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):R.rects),{x:m,y:p}=qj(d,v,u)),x=-1)}return{x:m,y:p,placement:v,strategy:a,middlewareData:y}};async function Ip(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=tc(t,e),w=EI(y),b=l[v?p==="floating"?"reference":"floating":p],T=Mx(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:u})),M=p==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},R=Mx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:M,offsetParent:k,strategy:u}):M);return{top:(T.top-R.top+w.top)/j.y,bottom:(R.bottom-T.bottom+w.bottom)/j.y,left:(T.left-R.left+w.left)/j.x,right:(R.right-T.right+w.right)/j.x}}const Hee=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:u}=t,{element:d,padding:m=0}=tc(e,t)||{};if(d==null)return{};const p=EI(m),v={x:r,y:n},y=yT(a),w=vT(y),x=await i.getDimensions(d),b=y==="y",T=b?"top":"left",M=b?"bottom":"right",k=b?"clientHeight":"clientWidth",j=s.reference[w]+s.reference[y]-v[y]-s.floating[w],R=v[y]-s.reference[y],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let O=D?D[k]:0;(!O||!await(i.isElement==null?void 0:i.isElement(D)))&&(O=l.floating[k]||s.floating[w]);const B=j/2-R/2,V=O/2-x[w]/2-1,ne=yu(p[T],V),ie=yu(p[M],V),Q=ne,ve=O-x[w]-ie,G=O/2-x[w]/2+B,fe=h2(Q,G,ve),K=!u.arrow&&T0(a)!=null&&G!==fe&&s.reference[w]/2-(G<Q?ne:ie)-x[w]/2<0,re=K?G<Q?G-Q:G-ve:0;return{[y]:v[y]+re,data:{[y]:fe,centerOffset:G-fe-re,...K&&{alignmentOffset:re}},reset:K}}}),$ee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=tc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const T=rc(a),M=qo(l),k=rc(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(d.floating)),R=v||(k||!x?[Ax(l)]:Fee(l)),D=w!=="none";!v&&D&&R.push(...Uee(l,x,w,j));const O=[l,...R],B=await Ip(t,b),V=[];let ne=((n=s.flip)==null?void 0:n.overflows)||[];if(m&&V.push(B[T]),p){const G=Pee(a,i,j);V.push(B[G[0]],B[G[1]])}if(ne=[...ne,{placement:a,overflows:V}],!V.every(G=>G<=0)){var ie,Q;const G=(((ie=s.flip)==null?void 0:ie.index)||0)+1,fe=O[G];if(fe&&(!(p==="alignment"?M!==qo(fe):!1)||ne.every(le=>qo(le.placement)===M?le.overflows[0]>0:!0)))return{data:{index:G,overflows:ne},reset:{placement:fe}};let K=(Q=ne.filter(re=>re.overflows[0]<=0).sort((re,le)=>re.overflows[1]-le.overflows[1])[0])==null?void 0:Q.placement;if(!K)switch(y){case"bestFit":{var ve;const re=(ve=ne.filter(le=>{if(D){const J=qo(le.placement);return J===M||J==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(J=>J>0).reduce((J,Me)=>J+Me,0)]).sort((le,J)=>le[1]-J[1])[0])==null?void 0:ve[0];re&&(K=re);break}case"initialPlacement":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function Gj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wj(e){return jee.some(t=>e[t]>=0)}const qee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=tc(e,t);switch(n){case"referenceHidden":{const s=await Ip(t,{...a,elementContext:"reference"}),i=Gj(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Wj(i)}}}case"escaped":{const s=await Ip(t,{...a,altBoundary:!0}),i=Gj(s,r.floating);return{data:{escapedOffsets:i,escaped:Wj(i)}}}default:return{}}}}},TI=new Set(["left","top"]);async function Gee(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=rc(r),l=T0(r),u=qo(r)==="y",d=TI.has(i)?-1:1,m=s&&u?-1:1,p=tc(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),u?{x:y*m,y:v*d}:{x:v*d,y:y*m}}const Wee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,u=await Gee(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+u.x,y:s+u.y,data:{...u,placement:i}}}}},Kee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:T,y:M}=b;return{x:T,y:M}}},...u}=tc(e,t),d={x:r,y:n},m=await Ip(t,u),p=qo(rc(a)),v=gT(p);let y=d[v],w=d[p];if(s){const b=v==="y"?"top":"left",T=v==="y"?"bottom":"right",M=y+m[b],k=y-m[T];y=h2(M,y,k)}if(i){const b=p==="y"?"top":"left",T=p==="y"?"bottom":"right",M=w+m[b],k=w-m[T];w=h2(M,w,k)}const x=l.fn({...t,[v]:y,[p]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[v]:s,[p]:i}}}}}},Xee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=tc(e,t),m={x:r,y:n},p=qo(a),v=gT(p);let y=m[v],w=m[p];const x=tc(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const k=v==="y"?"height":"width",j=s.reference[v]-s.floating[k]+b.mainAxis,R=s.reference[v]+s.reference[k]-b.mainAxis;y<j?y=j:y>R&&(y=R)}if(d){var T,M;const k=v==="y"?"width":"height",j=TI.has(rc(a)),R=s.reference[p]-s.floating[k]+(j&&((T=i.offset)==null?void 0:T[p])||0)+(j?0:b.crossAxis),D=s.reference[p]+s.reference[k]+(j?0:((M=i.offset)==null?void 0:M[p])||0)-(j?b.crossAxis:0);w<R?w=R:w>D&&(w=D)}return{[v]:y,[p]:w}}}},Yee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:u=()=>{},...d}=tc(e,t),m=await Ip(t,d),p=rc(a),v=T0(a),y=qo(a)==="y",{width:w,height:x}=s.floating;let b,T;p==="top"||p==="bottom"?(b=p,T=v===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(T=p,b=v==="end"?"top":"bottom");const M=x-m.top-m.bottom,k=w-m.left-m.right,j=yu(x-m[b],M),R=yu(w-m[T],k),D=!t.middlewareData.shift;let O=j,B=R;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(B=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=M),D&&!v){const ne=Zs(m.left,0),ie=Zs(m.right,0),Q=Zs(m.top,0),ve=Zs(m.bottom,0);y?B=w-2*(ne!==0||ie!==0?ne+ie:Zs(m.left,m.right)):O=x-2*(Q!==0||ve!==0?Q+ve:Zs(m.top,m.bottom))}await u({...t,availableWidth:B,availableHeight:O});const V=await i.getDimensions(l.floating);return w!==V.width||x!==V.height?{reset:{rects:!0}}:{}}}};function g1(){return typeof window<"u"}function k0(e){return kI(e)?(e.nodeName||"").toLowerCase():"#document"}function ii(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rl(e){var t;return(t=(kI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kI(e){return g1()?e instanceof Node||e instanceof ii(e).Node:!1}function go(e){return g1()?e instanceof Element||e instanceof ii(e).Element:!1}function Zo(e){return g1()?e instanceof HTMLElement||e instanceof ii(e).HTMLElement:!1}function Kj(e){return!g1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ii(e).ShadowRoot}const Qee=new Set(["inline","contents"]);function Rg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=vo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Qee.has(a)}const Jee=new Set(["table","td","th"]);function Zee(e){return Jee.has(k0(e))}const ete=[":popover-open",":modal"];function v1(e){return ete.some(t=>{try{return e.matches(t)}catch{return!1}})}const tte=["transform","translate","scale","rotate","perspective"],rte=["transform","translate","scale","rotate","perspective","filter"],nte=["paint","layout","strict","content"];function xT(e){const t=wT(),r=go(e)?vo(e):e;return tte.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||rte.some(n=>(r.willChange||"").includes(n))||nte.some(n=>(r.contain||"").includes(n))}function ate(e){let t=xu(e);for(;Zo(t)&&!c0(t);){if(xT(t))return t;if(v1(t))return null;t=xu(t)}return null}function wT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ste=new Set(["html","body","#document"]);function c0(e){return ste.has(k0(e))}function vo(e){return ii(e).getComputedStyle(e)}function y1(e){return go(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xu(e){if(k0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kj(e)&&e.host||rl(e);return Kj(t)?t.host:t}function CI(e){const t=xu(e);return c0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zo(t)&&Rg(t)?t:CI(t)}function Lp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=CI(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=ii(a);if(s){const l=p2(i);return t.concat(i,i.visualViewport||[],Rg(a)?a:[],l&&r?Lp(l):[])}return t.concat(a,Lp(a,[],r))}function p2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AI(e){const t=vo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zo(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Cx(r)!==s||Cx(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function _T(e){return go(e)?e:e.contextElement}function Lh(e){const t=_T(e);if(!Zo(t))return Yo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=AI(t);let i=(s?Cx(r.width):r.width)/n,l=(s?Cx(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const ite=Yo(0);function MI(e){const t=ii(e);return!wT()||!t.visualViewport?ite:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ote(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ii(e)?!1:t}function Zd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=_T(e);let i=Yo(1);t&&(n?go(n)&&(i=Lh(n)):i=Lh(e));const l=ote(s,r,n)?MI(s):Yo(0);let u=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,m=a.width/i.x,p=a.height/i.y;if(s){const v=ii(s),y=n&&go(n)?ii(n):n;let w=v,x=p2(w);for(;x&&n&&y!==w;){const b=Lh(x),T=x.getBoundingClientRect(),M=vo(x),k=T.left+(x.clientLeft+parseFloat(M.paddingLeft))*b.x,j=T.top+(x.clientTop+parseFloat(M.paddingTop))*b.y;u*=b.x,d*=b.y,m*=b.x,p*=b.y,u+=k,d+=j,w=ii(x),x=p2(w)}}return Mx({width:m,height:p,x:u,y:d})}function x1(e,t){const r=y1(e).scrollLeft;return t?t.left+r:Zd(rl(e)).left+r}function NI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-x1(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function lte(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=rl(n),l=t?v1(t.floating):!1;if(n===i||l&&s)return r;let u={scrollLeft:0,scrollTop:0},d=Yo(1);const m=Yo(0),p=Zo(n);if((p||!p&&!s)&&((k0(n)!=="body"||Rg(i))&&(u=y1(n)),Zo(n))){const y=Zd(n);d=Lh(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const v=i&&!p&&!s?NI(i,u):Yo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+m.x+v.x,y:r.y*d.y-u.scrollTop*d.y+m.y+v.y}}function cte(e){return Array.from(e.getClientRects())}function ute(e){const t=rl(e),r=y1(e),n=e.ownerDocument.body,a=Zs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Zs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+x1(e);const l=-r.scrollTop;return vo(n).direction==="rtl"&&(i+=Zs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}const Xj=25;function dte(e,t){const r=ii(e),n=rl(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,u=0;if(a){s=a.width,i=a.height;const m=wT();(!m||m&&t==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}const d=x1(n);if(d<=0){const m=n.ownerDocument,p=m.body,v=getComputedStyle(p),y=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(n.clientWidth-p.clientWidth-y);w<=Xj&&(s-=w)}else d<=Xj&&(s+=d);return{width:s,height:i,x:l,y:u}}const fte=new Set(["absolute","fixed"]);function hte(e,t){const r=Zd(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Zo(e)?Lh(e):Yo(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,u=a*s.x,d=n*s.y;return{width:i,height:l,x:u,y:d}}function Yj(e,t,r){let n;if(t==="viewport")n=dte(e,r);else if(t==="document")n=ute(rl(e));else if(go(t))n=hte(t,r);else{const a=MI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Mx(n)}function jI(e,t){const r=xu(e);return r===t||!go(r)||c0(r)?!1:vo(r).position==="fixed"||jI(r,t)}function mte(e,t){const r=t.get(e);if(r)return r;let n=Lp(e,[],!1).filter(l=>go(l)&&k0(l)!=="body"),a=null;const s=vo(e).position==="fixed";let i=s?xu(e):e;for(;go(i)&&!c0(i);){const l=vo(i),u=xT(i);!u&&l.position==="fixed"&&(a=null),(s?!u&&!a:!u&&l.position==="static"&&!!a&&fte.has(a.position)||Rg(i)&&!u&&jI(e,i))?n=n.filter(m=>m!==i):a=l,i=xu(i)}return t.set(e,n),n}function pte(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?v1(t)?[]:mte(t,this._c):[].concat(r),n],l=i[0],u=i.reduce((d,m)=>{const p=Yj(t,m,a);return d.top=Zs(p.top,d.top),d.right=yu(p.right,d.right),d.bottom=yu(p.bottom,d.bottom),d.left=Zs(p.left,d.left),d},Yj(t,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function gte(e){const{width:t,height:r}=AI(e);return{width:t,height:r}}function vte(e,t,r){const n=Zo(t),a=rl(t),s=r==="fixed",i=Zd(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=Yo(0);function d(){u.x=x1(a)}if(n||!n&&!s)if((k0(t)!=="body"||Rg(a))&&(l=y1(t)),n){const y=Zd(t,!0,s,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else a&&d();s&&!n&&a&&d();const m=a&&!n&&!s?NI(a,l):Yo(0),p=i.left+l.scrollLeft-u.x-m.x,v=i.top+l.scrollTop-u.y-m.y;return{x:p,y:v,width:i.width,height:i.height}}function Rb(e){return vo(e).position==="static"}function Qj(e,t){if(!Zo(e)||vo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rl(e)===r&&(r=r.ownerDocument.body),r}function RI(e,t){const r=ii(e);if(v1(e))return r;if(!Zo(e)){let a=xu(e);for(;a&&!c0(a);){if(go(a)&&!Rb(a))return a;a=xu(a)}return r}let n=Qj(e,t);for(;n&&Zee(n)&&Rb(n);)n=Qj(n,t);return n&&c0(n)&&Rb(n)&&!xT(n)?r:n||ate(e)||r}const yte=async function(e){const t=this.getOffsetParent||RI,r=this.getDimensions,n=await r(e.floating);return{reference:vte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xte(e){return vo(e).direction==="rtl"}const wte={convertOffsetParentRelativeRectToViewportRelativeRect:lte,getDocumentElement:rl,getClippingRect:pte,getOffsetParent:RI,getElementRects:yte,getClientRects:cte,getDimensions:gte,getScale:Lh,isElement:go,isRTL:xte};function OI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _te(e,t){let r=null,n;const a=rl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=e.getBoundingClientRect(),{left:m,top:p,width:v,height:y}=d;if(l||t(),!v||!y)return;const w=Cy(p),x=Cy(a.clientWidth-(m+v)),b=Cy(a.clientHeight-(p+y)),T=Cy(m),k={rootMargin:-w+"px "+-x+"px "+-b+"px "+-T+"px",threshold:Zs(0,yu(1,u))||1};let j=!0;function R(D){const O=D[0].intersectionRatio;if(O!==u){if(!j)return i();O?i(!1,O):n=setTimeout(()=>{i(!1,1e-7)},1e3)}O===1&&!OI(d,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(R,{...k,root:a.ownerDocument})}catch{r=new IntersectionObserver(R,k)}r.observe(e)}return i(!0),s}function bte(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=_T(e),m=a||s?[...d?Lp(d):[],...Lp(t)]:[];m.forEach(T=>{a&&T.addEventListener("scroll",r,{passive:!0}),s&&T.addEventListener("resize",r)});const p=d&&l?_te(d,r):null;let v=-1,y=null;i&&(y=new ResizeObserver(T=>{let[M]=T;M&&M.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),r()}),d&&!u&&y.observe(d),y.observe(t));let w,x=u?Zd(e):null;u&&b();function b(){const T=Zd(e);x&&!OI(x,T)&&r(),x=T,w=requestAnimationFrame(b)}return r(),()=>{var T;m.forEach(M=>{a&&M.removeEventListener("scroll",r),s&&M.removeEventListener("resize",r)}),p==null||p(),(T=y)==null||T.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const Ste=Wee,Ete=Kee,Tte=$ee,kte=Yee,Cte=qee,Jj=Hee,Ate=Xee,Mte=(e,t,r)=>{const n=new Map,a={platform:wte,...r},s={...a.platform,_c:n};return Vee(e,t,{...a,platform:s})};var Nte=typeof document<"u",jte=function(){},ix=Nte?E.useLayoutEffect:jte;function Nx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Nx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Nx(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function DI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zj(e,t){const r=DI(e);return Math.round(t*r)/r}function Ob(e){const t=E.useRef(e);return ix(()=>{t.current=e}),t}function Rte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[m,p]=E.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=E.useState(n);Nx(v,n)||y(n);const[w,x]=E.useState(null),[b,T]=E.useState(null),M=E.useCallback(le=>{le!==D.current&&(D.current=le,x(le))},[]),k=E.useCallback(le=>{le!==O.current&&(O.current=le,T(le))},[]),j=s||w,R=i||b,D=E.useRef(null),O=E.useRef(null),B=E.useRef(m),V=u!=null,ne=Ob(u),ie=Ob(a),Q=Ob(d),ve=E.useCallback(()=>{if(!D.current||!O.current)return;const le={placement:t,strategy:r,middleware:v};ie.current&&(le.platform=ie.current),Mte(D.current,O.current,le).then(J=>{const Me={...J,isPositioned:Q.current!==!1};G.current&&!Nx(B.current,Me)&&(B.current=Me,v0.flushSync(()=>{p(Me)}))})},[v,t,r,ie,Q]);ix(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,p(le=>({...le,isPositioned:!1})))},[d]);const G=E.useRef(!1);ix(()=>(G.current=!0,()=>{G.current=!1}),[]),ix(()=>{if(j&&(D.current=j),R&&(O.current=R),j&&R){if(ne.current)return ne.current(j,R,ve);ve()}},[j,R,ve,ne,V]);const fe=E.useMemo(()=>({reference:D,floating:O,setReference:M,setFloating:k}),[M,k]),K=E.useMemo(()=>({reference:j,floating:R}),[j,R]),re=E.useMemo(()=>{const le={position:r,left:0,top:0};if(!K.floating)return le;const J=Zj(K.floating,m.x),Me=Zj(K.floating,m.y);return l?{...le,transform:"translate("+J+"px, "+Me+"px)",...DI(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:Me}},[r,l,K.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:ve,refs:fe,elements:K,floatingStyles:re}),[m,ve,fe,K,re])}const Ote=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Jj({element:n.current,padding:a}).fn(r):{}:n?Jj({element:n,padding:a}).fn(r):{}}}},Dte=(e,t)=>({...Ste(e),options:[e,t]}),Pte=(e,t)=>({...Ete(e),options:[e,t]}),Fte=(e,t)=>({...Ate(e),options:[e,t]}),Ite=(e,t)=>({...Tte(e),options:[e,t]}),Lte=(e,t)=>({...kte(e),options:[e,t]}),Bte=(e,t)=>({...Cte(e),options:[e,t]}),Ute=(e,t)=>({...Ote(e),options:[e,t]});var zte="Arrow",PI=E.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return f.jsx(Wt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});PI.displayName=zte;var Vte=PI;function bT(e){const[t,r]=E.useState(void 0);return qa(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ST="Popper",[FI,w1]=zi(ST),[Hte,II]=FI(ST),LI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=E.useState(null);return f.jsx(Hte,{scope:t,anchor:n,onAnchorChange:a,children:r})};LI.displayName=ST;var BI="PopperAnchor",UI=E.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=II(BI,r),i=E.useRef(null),l=xr(t,i),u=E.useRef(null);return E.useEffect(()=>{const d=u.current;u.current=(n==null?void 0:n.current)||i.current,d!==u.current&&s.onAnchorChange(u.current)}),n?null:f.jsx(Wt.div,{...a,ref:l})});UI.displayName=BI;var ET="PopperContent",[$te,qte]=FI(ET),zI=E.forwardRef((e,t)=>{var he,Re,ye,Ue,st,X;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,b=II(ET,r),[T,M]=E.useState(null),k=xr(t,zt=>M(zt)),[j,R]=E.useState(null),D=bT(j),O=(D==null?void 0:D.width)??0,B=(D==null?void 0:D.height)??0,V=n+(s!=="center"?"-"+s:""),ne=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ie=Array.isArray(d)?d:[d],Q=ie.length>0,ve={padding:ne,boundary:ie.filter(Wte),altBoundary:Q},{refs:G,floatingStyles:fe,placement:K,isPositioned:re,middlewareData:le}=Rte({strategy:"fixed",placement:V,whileElementsMounted:(...zt)=>bte(...zt,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[Dte({mainAxis:a+B,alignmentAxis:i}),u&&Pte({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Fte():void 0,...ve}),u&&Ite({...ve}),Lte({...ve,apply:({elements:zt,rects:Ot,availableWidth:qt,availableHeight:it})=>{const{width:We,height:ar}=Ot.reference,fr=zt.floating.style;fr.setProperty("--radix-popper-available-width",`${qt}px`),fr.setProperty("--radix-popper-available-height",`${it}px`),fr.setProperty("--radix-popper-anchor-width",`${We}px`),fr.setProperty("--radix-popper-anchor-height",`${ar}px`)}}),j&&Ute({element:j,padding:l}),Kte({arrowWidth:O,arrowHeight:B}),v&&Bte({strategy:"referenceHidden",...ve})]}),[J,Me]=$I(K),H=Us(w);qa(()=>{re&&(H==null||H())},[re,H]);const L=(he=le.arrow)==null?void 0:he.x,Y=(Re=le.arrow)==null?void 0:Re.y,Z=((ye=le.arrow)==null?void 0:ye.centerOffset)!==0,[W,ue]=E.useState();return qa(()=>{T&&ue(window.getComputedStyle(T).zIndex)},[T]),f.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:re?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Ue=le.transformOrigin)==null?void 0:Ue.x,(st=le.transformOrigin)==null?void 0:st.y].join(" "),...((X=le.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx($te,{scope:r,placedSide:J,onArrowChange:R,arrowX:L,arrowY:Y,shouldHideArrow:Z,children:f.jsx(Wt.div,{"data-side":J,"data-align":Me,...x,ref:k,style:{...x.style,animation:re?void 0:"none"}})})})});zI.displayName=ET;var VI="PopperArrow",Gte={top:"bottom",right:"left",bottom:"top",left:"right"},HI=E.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=qte(VI,n),i=Gte[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(Vte,{...a,ref:r,style:{...a.style,display:"block"}})})});HI.displayName=VI;function Wte(e){return e!==null}var Kte=e=>({name:"transformOrigin",options:e,fn(t){var b,T,M;const{placement:r,rects:n,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[d,m]=$I(r),p={start:"0%",center:"50%",end:"100%"}[m],v=(((T=a.arrow)==null?void 0:T.x)??0)+l/2,y=(((M=a.arrow)==null?void 0:M.y)??0)+u/2;let w="",x="";return d==="bottom"?(w=i?p:`${v}px`,x=`${-u}px`):d==="top"?(w=i?p:`${v}px`,x=`${n.floating.height+u}px`):d==="right"?(w=`${-u}px`,x=i?p:`${y}px`):d==="left"&&(w=`${n.floating.width+u}px`,x=i?p:`${y}px`),{data:{x:w,y:x}}}});function $I(e){const[t,r="center"]=e.split("-");return[t,r]}var qI=LI,GI=UI,WI=zI,KI=HI,Xte="Portal",Og=E.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=E.useState(!1);qa(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Zz.createPortal(f.jsx(Wt.div,{...n,ref:t}),i):null});Og.displayName=Xte;function Yte(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var wo=e=>{const{present:t,children:r}=e,n=Qte(t),a=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),s=xr(n.ref,Jte(a));return typeof r=="function"||n.isPresent?E.cloneElement(a,{ref:s}):null};wo.displayName="Presence";function Qte(e){const[t,r]=E.useState(),n=E.useRef(null),a=E.useRef(e),s=E.useRef("none"),i=e?"mounted":"unmounted",[l,u]=Yte(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Ay(n.current);s.current=l==="mounted"?d:"none"},[l]),qa(()=>{const d=n.current,m=a.current;if(m!==e){const v=s.current,y=Ay(d);e?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),qa(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,p=y=>{const x=Ay(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&x&&(u("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},v=y=>{y.target===t&&(s.current=Ay(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Ay(e){return(e==null?void 0:e.animationName)||"none"}function Jte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Db="rovingFocusGroup.onEntryFocus",Zte={bubbles:!1,cancelable:!0},Dg="RovingFocusGroup",[g2,XI,ere]=Mg(Dg),[tre,_1]=zi(Dg,[ere]),[rre,nre]=tre(Dg),YI=E.forwardRef((e,t)=>f.jsx(g2.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(g2.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(are,{...e,ref:t})})}));YI.displayName=Dg;var are=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...p}=e,v=E.useRef(null),y=xr(t,v),w=Ng(s),[x,b]=ec({prop:i,defaultProp:l??null,onChange:u,caller:Dg}),[T,M]=E.useState(!1),k=Us(d),j=XI(r),R=E.useRef(!1),[D,O]=E.useState(0);return E.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(Db,k),()=>B.removeEventListener(Db,k)},[k]),f.jsx(rre,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:x,onItemFocus:E.useCallback(B=>b(B),[b]),onItemShiftTab:E.useCallback(()=>M(!0),[]),onFocusableItemAdd:E.useCallback(()=>O(B=>B+1),[]),onFocusableItemRemove:E.useCallback(()=>O(B=>B-1),[]),children:f.jsx(Wt.div,{tabIndex:T||D===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:yt(e.onMouseDown,()=>{R.current=!0}),onFocus:yt(e.onFocus,B=>{const V=!R.current;if(B.target===B.currentTarget&&V&&!T){const ne=new CustomEvent(Db,Zte);if(B.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const ie=j().filter(K=>K.focusable),Q=ie.find(K=>K.active),ve=ie.find(K=>K.id===x),fe=[Q,ve,...ie].filter(Boolean).map(K=>K.ref.current);ZI(fe,m)}}R.current=!1}),onBlur:yt(e.onBlur,()=>M(!1))})})}),QI="RovingFocusGroupItem",JI=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,u=Xo(),d=s||u,m=nre(QI,r),p=m.currentTabStopId===d,v=XI(r),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=m;return E.useEffect(()=>{if(n)return y(),()=>w()},[n,y,w]),f.jsx(g2.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:f.jsx(Wt.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:yt(e.onMouseDown,b=>{n?m.onItemFocus(d):b.preventDefault()}),onFocus:yt(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:yt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const T=ore(b,m.orientation,m.dir);if(T!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let k=v().filter(j=>j.focusable).map(j=>j.ref.current);if(T==="last")k.reverse();else if(T==="prev"||T==="next"){T==="prev"&&k.reverse();const j=k.indexOf(b.currentTarget);k=m.loop?lre(k,j+1):k.slice(j+1)}setTimeout(()=>ZI(k))}}),children:typeof i=="function"?i({isCurrentTabStop:p,hasTabStop:x!=null}):i})})});JI.displayName=QI;var sre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ire(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ore(e,t,r){const n=ire(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sre[n]}function ZI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var e6=YI,t6=JI;function cre(e){const t=ure(e),r=E.forwardRef((n,a)=>{const{children:s,...i}=n,l=E.Children.toArray(s),u=l.find(fre);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function ure(e){const t=E.forwardRef((r,n)=>{const{children:a,...s}=r;if(E.isValidElement(a)){const i=mre(a),l=hre(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dre=Symbol("radix.slottable");function fre(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dre}function hre(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function mre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vh=new WeakMap,My=new WeakMap,Ny={},Pb=0,r6=function(e){return e&&(e.host||r6(e.parentNode))},gre=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=r6(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},vre=function(e,t,r,n){var a=gre(t,Array.isArray(e)?e:[e]);Ny[r]||(Ny[r]=new WeakMap);var s=Ny[r],i=[],l=new Set,u=new Set(a),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};a.forEach(d);var m=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))m(v);else try{var y=v.getAttribute(n),w=y!==null&&y!=="false",x=(vh.get(v)||0)+1,b=(s.get(v)||0)+1;vh.set(v,x),s.set(v,b),i.push(v),x===1&&w&&My.set(v,!0),b===1&&v.setAttribute(r,"true"),w||v.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return m(t),l.clear(),Pb++,function(){i.forEach(function(p){var v=vh.get(p)-1,y=s.get(p)-1;vh.set(p,v),s.set(p,y),v||(My.has(p)||p.removeAttribute(n),My.delete(p)),y||p.removeAttribute(r)}),Pb--,Pb||(vh=new WeakMap,vh=new WeakMap,My=new WeakMap,Ny={})}},TT=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=pre(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),vre(n,a,r,"aria-hidden")):function(){return null}},ox="right-scroll-bar-position",lx="width-before-scroll-bar",yre="with-scroll-bars-hidden",xre="--removed-body-scroll-bar-size";function Fb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wre(e,t){var r=E.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var _re=typeof window<"u"?E.useLayoutEffect:E.useEffect,eR=new WeakMap;function bre(e,t){var r=wre(null,function(n){return e.forEach(function(a){return Fb(a,n)})});return _re(function(){var n=eR.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||Fb(l,null)}),s.forEach(function(l){a.has(l)||Fb(l,i)})}eR.set(r,e)},[e]),r}function Sre(e){return e}function Ere(e,t){t===void 0&&(t=Sre);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var u=function(){var m=i;i=[],m.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),r}}}};return a}function Tre(e){e===void 0&&(e={});var t=Ere(null);return t.options=Et({async:!0,ssr:!1},e),t}var n6=function(e){var t=e.sideCar,r=Bs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Et({},r))};n6.isSideCarExport=!0;function kre(e,t){return e.useMedium(t),n6}var a6=Tre(),Ib=function(){},b1=E.forwardRef(function(e,t){var r=E.useRef(null),n=E.useState({onScrollCapture:Ib,onWheelCapture:Ib,onTouchMoveCapture:Ib}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,m=e.enabled,p=e.shards,v=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,T=e.as,M=T===void 0?"div":T,k=e.gapMode,j=Bs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,D=bre([r,t]),O=Et(Et({},j),a);return E.createElement(E.Fragment,null,m&&E.createElement(R,{sideCar:a6,removeScrollBar:d,shards:p,noRelative:y,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:k}),i?E.cloneElement(E.Children.only(l),Et(Et({},O),{ref:D})):E.createElement(M,Et({},O,{className:u,ref:D}),l))});b1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};b1.classNames={fullWidth:lx,zeroRight:ox};var Cre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Are(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cre();return t&&e.setAttribute("nonce",t),e}function Mre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jre=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Are())&&(Mre(t,r),Nre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rre=function(){var e=jre();return function(t,r){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},s6=function(){var e=Rre(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Ore={left:0,top:0,right:0,gap:0},Lb=function(e){return parseInt(e||"",10)||0},Dre=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Lb(r),Lb(n),Lb(a)]},Pre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ore;var t=Dre(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Fre=s6(),Bh="data-scroll-locked",Ire=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ox,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ox," .").concat(ox,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lx," .").concat(lx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bh,`] {
    `).concat(xre,": ").concat(l,`px;
  }
`)},tR=function(){var e=parseInt(document.body.getAttribute(Bh)||"0",10);return isFinite(e)?e:0},Lre=function(){E.useEffect(function(){return document.body.setAttribute(Bh,(tR()+1).toString()),function(){var e=tR()-1;e<=0?document.body.removeAttribute(Bh):document.body.setAttribute(Bh,e.toString())}},[])},Bre=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Lre();var s=E.useMemo(function(){return Pre(a)},[a]);return E.createElement(Fre,{styles:Ire(s,!t,a,r?"":"!important")})},v2=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return v2=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{v2=!1}var yh=v2?{passive:!1}:!1,Ure=function(e){return e.tagName==="TEXTAREA"},i6=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ure(e)&&r[t]==="visible")},zre=function(e){return i6(e,"overflowY")},Vre=function(e){return i6(e,"overflowX")},rR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=o6(e,n);if(a){var s=l6(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Hre=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$re=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},o6=function(e,t){return e==="v"?zre(t):Vre(t)},l6=function(e,t){return e==="v"?Hre(t):$re(t)},qre=function(e,t){return e==="h"&&t==="rtl"?-1:1},Gre=function(e,t,r,n,a){var s=qre(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,u=t.contains(l),d=!1,m=i>0,p=0,v=0;do{if(!l)break;var y=l6(e,l),w=y[0],x=y[1],b=y[2],T=x-b-s*w;(w||T)&&o6(e,l)&&(p+=T,v+=w);var M=l.parentNode;l=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(m&&Math.abs(p)<1||!m&&Math.abs(v)<1)&&(d=!0),d},Ry=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nR=function(e){return[e.deltaX,e.deltaY]},aR=function(e){return e&&"current"in e?e.current:e},Wre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xre=0,xh=[];function Yre(e){var t=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),a=E.useState(Xre++)[0],s=E.useState(s6)[0],i=E.useRef(e);E.useEffect(function(){i.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Js([e.lockRef.current],(e.shards||[]).map(aR),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=E.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var T=Ry(x),M=r.current,k="deltaX"in x?x.deltaX:M[0]-T[0],j="deltaY"in x?x.deltaY:M[1]-T[1],R,D=x.target,O=Math.abs(k)>Math.abs(j)?"h":"v";if("touches"in x&&O==="h"&&D.type==="range")return!1;var B=rR(O,D);if(!B)return!0;if(B?R=O:(R=O==="v"?"h":"v",B=rR(O,D)),!B)return!1;if(!n.current&&"changedTouches"in x&&(k||j)&&(n.current=R),!R)return!0;var V=n.current||R;return Gre(V,b,x,V==="h"?k:j)},[]),u=E.useCallback(function(x){var b=x;if(!(!xh.length||xh[xh.length-1]!==s)){var T="deltaY"in b?nR(b):Ry(b),M=t.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&Wre(R.delta,T)})[0];if(M&&M.should){b.cancelable&&b.preventDefault();return}if(!M){var k=(i.current.shards||[]).map(aR).filter(Boolean).filter(function(R){return R.contains(b.target)}),j=k.length>0?l(b,k[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=E.useCallback(function(x,b,T,M){var k={name:x,delta:b,target:T,should:M,shadowParent:Qre(T)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(j){return j!==k})},1)},[]),m=E.useCallback(function(x){r.current=Ry(x),n.current=void 0},[]),p=E.useCallback(function(x){d(x.type,nR(x),x.target,l(x,e.lockRef.current))},[]),v=E.useCallback(function(x){d(x.type,Ry(x),x.target,l(x,e.lockRef.current))},[]);E.useEffect(function(){return xh.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,yh),document.addEventListener("touchmove",u,yh),document.addEventListener("touchstart",m,yh),function(){xh=xh.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,yh),document.removeEventListener("touchmove",u,yh),document.removeEventListener("touchstart",m,yh)}},[]);var y=e.removeScrollBar,w=e.inert;return E.createElement(E.Fragment,null,w?E.createElement(s,{styles:Kre(a)}):null,y?E.createElement(Bre,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Qre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jre=kre(a6,Yre);var S1=E.forwardRef(function(e,t){return E.createElement(b1,Et({},e,{ref:t,sideCar:Jre}))});S1.classNames=b1.classNames;var y2=["Enter"," "],Zre=["ArrowDown","PageUp","Home"],c6=["ArrowUp","PageDown","End"],ene=[...Zre,...c6],tne={ltr:[...y2,"ArrowRight"],rtl:[...y2,"ArrowLeft"]},rne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pg="Menu",[Bp,nne,ane]=Mg(Pg),[hf,u6]=zi(Pg,[ane,w1,_1]),E1=w1(),d6=_1(),[sne,mf]=hf(Pg),[ine,Fg]=hf(Pg),f6=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=E1(t),[u,d]=E.useState(null),m=E.useRef(!1),p=Us(s),v=Ng(a);return E.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(qI,{...l,children:f.jsx(sne,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:d,children:f.jsx(ine,{scope:t,onClose:E.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:v,modal:i,children:n})})})};f6.displayName=Pg;var one="MenuAnchor",kT=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=E1(r);return f.jsx(GI,{...a,...n,ref:t})});kT.displayName=one;var CT="MenuPortal",[lne,h6]=hf(CT,{forceMount:void 0}),m6=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=mf(CT,t);return f.jsx(lne,{scope:t,forceMount:r,children:f.jsx(wo,{present:r||s.open,children:f.jsx(Og,{asChild:!0,container:a,children:n})})})};m6.displayName=CT;var Fi="MenuContent",[cne,AT]=hf(Fi),p6=E.forwardRef((e,t)=>{const r=h6(Fi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=mf(Fi,e.__scopeMenu),i=Fg(Fi,e.__scopeMenu);return f.jsx(Bp.Provider,{scope:e.__scopeMenu,children:f.jsx(wo,{present:n||s.open,children:f.jsx(Bp.Slot,{scope:e.__scopeMenu,children:i.modal?f.jsx(une,{...a,ref:t}):f.jsx(dne,{...a,ref:t})})})})}),une=E.forwardRef((e,t)=>{const r=mf(Fi,e.__scopeMenu),n=E.useRef(null),a=xr(t,n);return E.useEffect(()=>{const s=n.current;if(s)return TT(s)},[]),f.jsx(MT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:yt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dne=E.forwardRef((e,t)=>{const r=mf(Fi,e.__scopeMenu);return f.jsx(MT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fne=cre("MenuContent.ScrollLock"),MT=E.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,onDismiss:y,disableOutsideScroll:w,...x}=e,b=mf(Fi,r),T=Fg(Fi,r),M=E1(r),k=d6(r),j=nne(r),[R,D]=E.useState(null),O=E.useRef(null),B=xr(t,O,b.onContentChange),V=E.useRef(0),ne=E.useRef(""),ie=E.useRef(0),Q=E.useRef(null),ve=E.useRef("right"),G=E.useRef(0),fe=w?S1:E.Fragment,K=w?{as:fne,allowPinchZoom:!0}:void 0,re=J=>{var he,Re;const Me=ne.current+J,H=j().filter(ye=>!ye.disabled),L=document.activeElement,Y=(he=H.find(ye=>ye.ref.current===L))==null?void 0:he.textValue,Z=H.map(ye=>ye.textValue),W=Ene(Z,Me,Y),ue=(Re=H.find(ye=>ye.textValue===W))==null?void 0:Re.ref.current;(function ye(Ue){ne.current=Ue,window.clearTimeout(V.current),Ue!==""&&(V.current=window.setTimeout(()=>ye(""),1e3))})(Me),ue&&setTimeout(()=>ue.focus())};E.useEffect(()=>()=>window.clearTimeout(V.current),[]),pT();const le=E.useCallback(J=>{var H,L;return ve.current===((H=Q.current)==null?void 0:H.side)&&kne(J,(L=Q.current)==null?void 0:L.area)},[]);return f.jsx(cne,{scope:r,searchRef:ne,onItemEnter:E.useCallback(J=>{le(J)&&J.preventDefault()},[le]),onItemLeave:E.useCallback(J=>{var Me;le(J)||((Me=O.current)==null||Me.focus(),D(null))},[le]),onTriggerLeave:E.useCallback(J=>{le(J)&&J.preventDefault()},[le]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:E.useCallback(J=>{Q.current=J},[]),children:f.jsx(fe,{...K,children:f.jsx(p1,{asChild:!0,trapped:a,onMountAutoFocus:yt(s,J=>{var Me;J.preventDefault(),(Me=O.current)==null||Me.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:f.jsx(jg,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,onDismiss:y,children:f.jsx(e6,{asChild:!0,...k,dir:T.dir,orientation:"vertical",loop:n,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:yt(u,J=>{T.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(WI,{role:"menu","aria-orientation":"vertical","data-state":j6(b.open),"data-radix-menu-content":"",dir:T.dir,...M,...x,ref:B,style:{outline:"none",...x.style},onKeyDown:yt(x.onKeyDown,J=>{const H=J.target.closest("[data-radix-menu-content]")===J.currentTarget,L=J.ctrlKey||J.altKey||J.metaKey,Y=J.key.length===1;H&&(J.key==="Tab"&&J.preventDefault(),!L&&Y&&re(J.key));const Z=O.current;if(J.target!==Z||!ene.includes(J.key))return;J.preventDefault();const ue=j().filter(he=>!he.disabled).map(he=>he.ref.current);c6.includes(J.key)&&ue.reverse(),bne(ue)}),onBlur:yt(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(V.current),ne.current="")}),onPointerMove:yt(e.onPointerMove,Up(J=>{const Me=J.target,H=G.current!==J.clientX;if(J.currentTarget.contains(Me)&&H){const L=J.clientX>G.current?"right":"left";ve.current=L,G.current=J.clientX}}))})})})})})})});p6.displayName=Fi;var hne="MenuGroup",NT=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(Wt.div,{role:"group",...n,ref:t})});NT.displayName=hne;var mne="MenuLabel",g6=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(Wt.div,{...n,ref:t})});g6.displayName=mne;var jx="MenuItem",sR="menu.itemSelect",T1=E.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=E.useRef(null),i=Fg(jx,e.__scopeMenu),l=AT(jx,e.__scopeMenu),u=xr(t,s),d=E.useRef(!1),m=()=>{const p=s.current;if(!r&&p){const v=new CustomEvent(sR,{bubbles:!0,cancelable:!0});p.addEventListener(sR,y=>n==null?void 0:n(y),{once:!0}),mT(p,v),v.defaultPrevented?d.current=!1:i.onClose()}};return f.jsx(v6,{...a,ref:u,disabled:r,onClick:yt(e.onClick,m),onPointerDown:p=>{var v;(v=e.onPointerDown)==null||v.call(e,p),d.current=!0},onPointerUp:yt(e.onPointerUp,p=>{var v;d.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:yt(e.onKeyDown,p=>{const v=l.searchRef.current!=="";r||v&&p.key===" "||y2.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});T1.displayName=jx;var v6=E.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=AT(jx,r),l=d6(r),u=E.useRef(null),d=xr(t,u),[m,p]=E.useState(!1),[v,y]=E.useState("");return E.useEffect(()=>{const w=u.current;w&&y((w.textContent??"").trim())},[s.children]),f.jsx(Bp.ItemSlot,{scope:r,disabled:n,textValue:a??v,children:f.jsx(t6,{asChild:!0,...l,focusable:!n,children:f.jsx(Wt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:yt(e.onPointerMove,Up(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yt(e.onPointerLeave,Up(w=>i.onItemLeave(w))),onFocus:yt(e.onFocus,()=>p(!0)),onBlur:yt(e.onBlur,()=>p(!1))})})})}),pne="MenuCheckboxItem",y6=E.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return f.jsx(S6,{scope:e.__scopeMenu,checked:r,children:f.jsx(T1,{role:"menuitemcheckbox","aria-checked":Rx(r)?"mixed":r,...a,ref:t,"data-state":RT(r),onSelect:yt(a.onSelect,()=>n==null?void 0:n(Rx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y6.displayName=pne;var x6="MenuRadioGroup",[gne,vne]=hf(x6,{value:void 0,onValueChange:()=>{}}),w6=E.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Us(n);return f.jsx(gne,{scope:e.__scopeMenu,value:r,onValueChange:s,children:f.jsx(NT,{...a,ref:t})})});w6.displayName=x6;var _6="MenuRadioItem",b6=E.forwardRef((e,t)=>{const{value:r,...n}=e,a=vne(_6,e.__scopeMenu),s=r===a.value;return f.jsx(S6,{scope:e.__scopeMenu,checked:s,children:f.jsx(T1,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":RT(s),onSelect:yt(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});b6.displayName=_6;var jT="MenuItemIndicator",[S6,yne]=hf(jT,{checked:!1}),E6=E.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=yne(jT,r);return f.jsx(wo,{present:n||Rx(s.checked)||s.checked===!0,children:f.jsx(Wt.span,{...a,ref:t,"data-state":RT(s.checked)})})});E6.displayName=jT;var xne="MenuSeparator",T6=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return f.jsx(Wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});T6.displayName=xne;var wne="MenuArrow",k6=E.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=E1(r);return f.jsx(KI,{...a,...n,ref:t})});k6.displayName=wne;var _ne="MenuSub",[w_e,C6]=hf(_ne),Qm="MenuSubTrigger",A6=E.forwardRef((e,t)=>{const r=mf(Qm,e.__scopeMenu),n=Fg(Qm,e.__scopeMenu),a=C6(Qm,e.__scopeMenu),s=AT(Qm,e.__scopeMenu),i=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:e.__scopeMenu},m=E.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),f.jsx(kT,{asChild:!0,...d,children:f.jsx(v6,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":j6(r.open),...e,ref:ac(t,a.onTriggerChange),onClick:p=>{var v;(v=e.onClick)==null||v.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:yt(e.onPointerMove,Up(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:yt(e.onPointerLeave,Up(p=>{var y,w;m();const v=(y=r.content)==null?void 0:y.getBoundingClientRect();if(v){const x=(w=r.content)==null?void 0:w.dataset.side,b=x==="right",T=b?-5:5,M=v[b?"left":"right"],k=v[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+T,y:p.clientY},{x:M,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:M,y:v.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:yt(e.onKeyDown,p=>{var y;const v=s.searchRef.current!=="";e.disabled||v&&p.key===" "||tne[n.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});A6.displayName=Qm;var M6="MenuSubContent",N6=E.forwardRef((e,t)=>{const r=h6(Fi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=mf(Fi,e.__scopeMenu),i=Fg(Fi,e.__scopeMenu),l=C6(M6,e.__scopeMenu),u=E.useRef(null),d=xr(t,u);return f.jsx(Bp.Provider,{scope:e.__scopeMenu,children:f.jsx(wo,{present:n||s.open,children:f.jsx(Bp.Slot,{scope:e.__scopeMenu,children:f.jsx(MT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var p;i.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:yt(e.onFocusOutside,m=>{m.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:yt(e.onEscapeKeyDown,m=>{i.onClose(),m.preventDefault()}),onKeyDown:yt(e.onKeyDown,m=>{var y;const p=m.currentTarget.contains(m.target),v=rne[i.dir].includes(m.key);p&&v&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),m.preventDefault())})})})})})});N6.displayName=M6;function j6(e){return e?"open":"closed"}function Rx(e){return e==="indeterminate"}function RT(e){return Rx(e)?"indeterminate":e?"checked":"unchecked"}function bne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Sne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ene(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Sne(e,Math.max(s,0));a.length===1&&(i=i.filter(d=>d!==r));const u=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function Tne(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],u=t[i],d=l.x,m=l.y,p=u.x,v=u.y;m>n!=v>n&&r<(p-d)*(n-m)/(v-m)+d&&(a=!a)}return a}function kne(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Tne(r,t)}function Up(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cne=f6,Ane=kT,Mne=m6,Nne=p6,jne=NT,Rne=g6,One=T1,Dne=y6,Pne=w6,Fne=b6,Ine=E6,Lne=T6,Bne=k6,Une=A6,zne=N6,k1="DropdownMenu",[Vne]=zi(k1,[u6]),Ss=u6(),[Hne,R6]=Vne(k1),O6=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=Ss(t),d=E.useRef(null),[m,p]=ec({prop:a,defaultProp:s??!1,onChange:i,caller:k1});return f.jsx(Hne,{scope:t,triggerId:Xo(),triggerRef:d,contentId:Xo(),open:m,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(v=>!v),[p]),modal:l,children:f.jsx(Cne,{...u,open:m,onOpenChange:p,dir:n,modal:l,children:r})})};O6.displayName=k1;var D6="DropdownMenuTrigger",P6=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=R6(D6,r),i=Ss(r);return f.jsx(Ane,{asChild:!0,...i,children:f.jsx(Wt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ac(t,s.triggerRef),onPointerDown:yt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:yt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});P6.displayName=D6;var $ne="DropdownMenuPortal",F6=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ss(t);return f.jsx(Mne,{...n,...r})};F6.displayName=$ne;var I6="DropdownMenuContent",L6=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=R6(I6,r),s=Ss(r),i=E.useRef(!1);return f.jsx(Nne,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:yt(e.onCloseAutoFocus,l=>{var u;i.current||(u=a.triggerRef.current)==null||u.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:yt(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,m=u.button===2||d;(!a.modal||m)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L6.displayName=I6;var qne="DropdownMenuGroup",Gne=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(jne,{...a,...n,ref:t})});Gne.displayName=qne;var Wne="DropdownMenuLabel",Kne=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Rne,{...a,...n,ref:t})});Kne.displayName=Wne;var Xne="DropdownMenuItem",B6=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(One,{...a,...n,ref:t})});B6.displayName=Xne;var Yne="DropdownMenuCheckboxItem",Qne=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Dne,{...a,...n,ref:t})});Qne.displayName=Yne;var Jne="DropdownMenuRadioGroup",Zne=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Pne,{...a,...n,ref:t})});Zne.displayName=Jne;var eae="DropdownMenuRadioItem",tae=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Fne,{...a,...n,ref:t})});tae.displayName=eae;var rae="DropdownMenuItemIndicator",nae=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Ine,{...a,...n,ref:t})});nae.displayName=rae;var aae="DropdownMenuSeparator",U6=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Lne,{...a,...n,ref:t})});U6.displayName=aae;var sae="DropdownMenuArrow",iae=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Bne,{...a,...n,ref:t})});iae.displayName=sae;var oae="DropdownMenuSubTrigger",lae=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(Une,{...a,...n,ref:t})});lae.displayName=oae;var cae="DropdownMenuSubContent",uae=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ss(r);return f.jsx(zne,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uae.displayName=cae;var dae=O6,fae=P6,hae=F6,mae=L6,pae=B6,gae=U6;function OT({...e}){return f.jsx(dae,{"data-slot":"dropdown-menu",...e})}function DT({...e}){return f.jsx(fae,{"data-slot":"dropdown-menu-trigger",...e})}function PT({className:e,sideOffset:t=4,...r}){return f.jsx(hae,{children:f.jsx(mae,{"data-slot":"dropdown-menu-content",sideOffset:t,className:jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function Vd({className:e,inset:t,variant:r="default",...n}){return f.jsx(pae,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:jt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function vae({className:e,...t}){return f.jsx(gae,{"data-slot":"dropdown-menu-separator",className:jt("bg-border -mx-1 my-1 h-px",e),...t})}function z6({className:e}){const{locale:t,setLocale:r}=KZ();return f.jsxs(OT,{children:[f.jsx(DT,{asChild:!0,children:f.jsxs(xt,{variant:"ghost",size:"icon",className:e,children:[f.jsx(mQ,{className:"h-[1.2rem] w-[1.2rem]"}),f.jsx("span",{className:"sr-only",children:"Switch language"})]})}),f.jsxs(PT,{align:"end",children:[f.jsxs(Vd,{onClick:()=>r("en"),className:t==="en"?"bg-accent":"",children:[f.jsx("span",{className:"mr-2",children:""})," English"]}),f.jsxs(Vd,{onClick:()=>r("id"),className:t==="id"?"bg-accent":"",children:[f.jsx("span",{className:"mr-2",children:""})," Indonesia"]})]})]})}function Oy({onLoginSuccess:e,initialView:t="login"}){const[r,n]=E.useState(t),[a,s]=E.useState(""),[i,l]=E.useState(""),[u,d]=E.useState(""),[m,p]=E.useState(""),[v,y]=E.useState(!1),[w,x]=E.useState(!1),[b,T]=E.useState(!1),[M,k]=E.useState(""),{toast:j}=bg(),R=Hs(),D=E.useMemo(()=>new hp,[]),O=()=>{s(""),l(""),d(""),p(""),y(!1),x(!1),k("")},B=Q=>{O(),n(Q)},V=async Q=>{Q.preventDefault(),k(""),T(!0);try{try{console.log("Clearing database before login..."),await ze.clearAllData(),console.log("Database cleared successfully")}catch(G){console.error("Error clearing database before login:",G),j({title:R.formatMessage({id:"common.status.warning",defaultMessage:"Warning"}),description:"Database cleanup failed, but continuing with login. Some cached data may persist.",variant:"destructive"})}const ve=await D.login(a,i);j({title:R.formatMessage({id:"common.status.success",defaultMessage:"Success!"}),description:R.formatMessage({id:"auth.login.success",defaultMessage:"Logged in successfully"})}),e(ve)}catch(ve){k(ve.message||R.formatMessage({id:"auth.login.failed",defaultMessage:"Login failed"})),j({title:R.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:ve.message,variant:"destructive"})}finally{T(!1)}},ne=async Q=>{var ve;if(Q.preventDefault(),k(""),i!==u){k(R.formatMessage({id:"auth.register.password_mismatch",defaultMessage:"Passwords do not match"}));return}T(!0);try{try{console.log("Clearing database before registration..."),await ze.clearAllData(),console.log("Database cleared successfully")}catch(fe){console.error("Error clearing database before registration:",fe),j({title:R.formatMessage({id:"common.status.warning",defaultMessage:"Warning"}),description:"Database cleanup failed, but continuing with registration. Some cached data may persist.",variant:"destructive"})}const G=await D.register(a,i,m);G.requiresEmailConfirmation?(j({title:R.formatMessage({id:"common.status.success",defaultMessage:"Success!"}),description:R.formatMessage({id:"auth.register.check_email",defaultMessage:"Registration successful! Please check your email to confirm your account."})}),setTimeout(()=>{B("login")},2e3)):(j({title:R.formatMessage({id:"common.status.success",defaultMessage:"Success!"}),description:R.formatMessage({id:"auth.register.success",defaultMessage:"Account created successfully"})}),e(G))}catch(G){const fe=((ve=G.message)==null?void 0:ve.toLowerCase())||"";console.error("Registration failed:",G.message);let K=G.message||R.formatMessage({id:"auth.register.failed",defaultMessage:"Registration failed"});(fe.includes("already registered")||fe.includes("unique constraint"))&&(K=R.formatMessage({id:"auth.register.email_exists",defaultMessage:"Email already registered. Please login."})),k(K),j({title:R.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:K,variant:"destructive"})}finally{T(!1)}},ie=async Q=>{Q.preventDefault(),k(""),T(!0);try{try{console.log("Clearing database before password reset..."),await ze.clearAllData(),console.log("Database cleared successfully")}catch(ve){console.error("Error clearing database before password reset:",ve),j({title:R.formatMessage({id:"common.status.warning",defaultMessage:"Warning"}),description:"Database cleanup failed, but continuing with password reset. Some cached data may persist.",variant:"destructive"})}await D.forgotPassword(a),j({title:R.formatMessage({id:"common.status.success",defaultMessage:"Success!"}),description:R.formatMessage({id:"auth.forgot_password.sent",defaultMessage:"Reset email sent"})}),B("success-reset")}catch(ve){k(ve.message||R.formatMessage({id:"auth.forgot_password.failed",defaultMessage:"Failed to send reset email"})),j({title:R.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:ve.message,variant:"destructive"})}finally{T(!1)}};return console.log("LoginPage rendering, currentView:",r),f.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[f.jsxs("div",{style:{position:"absolute",top:0,left:0,zIndex:9999,color:"red",background:"white",padding:"10px"},children:["DEBUG: LoginPage Mounted. View: ",r]}),f.jsx(BW,{interactive:!0,className:"absolute inset-0"}),f.jsx("div",{className:"absolute top-4 right-4 z-50",children:f.jsx(z6,{className:"text-white hover:bg-white/20"})}),f.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:f.jsxs(n$,{mode:"wait",children:[r==="login"&&f.jsx(Ps.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full max-w-md",children:f.jsxs(vn,{className:"backdrop-blur-xl bg-white/20 border-white/20 shadow-2xl",children:[f.jsxs(It,{className:"text-center space-y-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full backdrop-blur-sm",children:f.jsx(Dh,{className:"h-8 w-8 text-white"})})}),f.jsx(Lt,{className:"text-3xl font-bold text-white",children:f.jsx(tt,{id:"common.app.name",defaultMessage:"Xender-In"})}),f.jsx(ln,{className:"text-white/80",children:f.jsx(tt,{id:"auth.login.subtitle",defaultMessage:"Sign in to your WhatsApp automation account"})})]}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:V,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"email",className:"text-white/90",children:f.jsx(tt,{id:"auth.login.email.label",defaultMessage:"Email"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Ey,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"email",type:"email",placeholder:R.formatMessage({id:"auth.login.email.placeholder",defaultMessage:"Enter your email"}),value:a,onChange:Q=>s(Q.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"password",className:"text-white/90",children:f.jsx(tt,{id:"auth.login.password.label",defaultMessage:"Password"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Dh,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"password",type:v?"text":"password",placeholder:R.formatMessage({id:"auth.login.password.placeholder",defaultMessage:"Enter your password"}),value:i,onChange:Q=>l(Q.target.value),className:"pl-10 pr-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0}),f.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-3 text-white/60 hover:text-white",children:v?f.jsx(wb,{className:"h-5 w-5"}):f.jsx(_b,{className:"h-5 w-5"})})]})]}),M&&f.jsxs(du,{className:"bg-red-500/20 border-red-500/50 text-white",children:[f.jsx(zd,{className:"h-4 w-4"}),f.jsx(fu,{children:M})]}),f.jsx(xt,{type:"submit",disabled:b,className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:b?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),f.jsx(tt,{id:"auth.login.signing_in",defaultMessage:"Signing in..."})]}):f.jsx(tt,{id:"common.button.login",defaultMessage:"Sign In"})}),f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("button",{type:"button",onClick:()=>B("forgot-password"),className:"text-sm text-white/80 hover:text-white underline",children:f.jsx(tt,{id:"auth.login.forgot_password",defaultMessage:"Forgot password?"})}),f.jsxs("div",{className:"text-sm text-white/80",children:[f.jsx(tt,{id:"auth.login.no_account",defaultMessage:"Don't have an account?"})," ",f.jsx("button",{type:"button",onClick:()=>B("register"),className:"text-white font-semibold hover:underline",children:f.jsx(tt,{id:"auth.login.sign_up_link",defaultMessage:"Sign up"})})]})]})]})})]})},"login"),r==="register"&&f.jsx(Ps.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full max-w-md",children:f.jsxs(vn,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:[f.jsxs(It,{className:"text-center space-y-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-green-500/20 rounded-full backdrop-blur-sm",children:f.jsx($F,{className:"h-8 w-8 text-white"})})}),f.jsx(Lt,{className:"text-3xl font-bold text-white",children:f.jsx(tt,{id:"auth.register.title",defaultMessage:"Create Account"})}),f.jsx(ln,{className:"text-white/80",children:f.jsx(tt,{id:"auth.register.subtitle",defaultMessage:"Join Xender-In WhatsApp Automation"})})]}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"name",className:"text-white/90",children:f.jsx(tt,{id:"auth.register.name.label",defaultMessage:"Full Name"})}),f.jsx(Cr,{id:"name",type:"text",placeholder:R.formatMessage({id:"auth.register.name.placeholder",defaultMessage:"Enter your name"}),value:m,onChange:Q=>p(Q.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"reg-email",className:"text-white/90",children:f.jsx(tt,{id:"auth.login.email.label",defaultMessage:"Email"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Ey,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"reg-email",type:"email",placeholder:R.formatMessage({id:"auth.login.email.placeholder",defaultMessage:"Enter your email"}),value:a,onChange:Q=>s(Q.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"reg-password",className:"text-white/90",children:f.jsx(tt,{id:"auth.login.password.label",defaultMessage:"Password"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Dh,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"reg-password",type:v?"text":"password",placeholder:R.formatMessage({id:"auth.login.password.placeholder",defaultMessage:"Enter your password"}),value:i,onChange:Q=>l(Q.target.value),className:"pl-10 pr-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0}),f.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-3 top-3 text-white/60 hover:text-white",children:v?f.jsx(wb,{className:"h-5 w-5"}):f.jsx(_b,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"confirm-password",className:"text-white/90",children:f.jsx(tt,{id:"auth.register.confirm_password.label",defaultMessage:"Confirm Password"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Dh,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"confirm-password",type:w?"text":"password",placeholder:R.formatMessage({id:"auth.register.confirm_password.placeholder",defaultMessage:"Confirm your password"}),value:u,onChange:Q=>d(Q.target.value),className:"pl-10 pr-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0}),f.jsx("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-3 text-white/60 hover:text-white",children:w?f.jsx(wb,{className:"h-5 w-5"}):f.jsx(_b,{className:"h-5 w-5"})})]})]}),M&&f.jsxs(du,{className:"bg-red-500/20 border-red-500/50 text-white",children:[f.jsx(zd,{className:"h-4 w-4"}),f.jsx(fu,{children:M})]}),f.jsx(xt,{type:"submit",disabled:b,className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:b?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),f.jsx(tt,{id:"auth.register.creating",defaultMessage:"Creating account..."})]}):f.jsx(tt,{id:"auth.register.submit",defaultMessage:"Create Account"})}),f.jsx("div",{className:"text-center",children:f.jsxs("button",{type:"button",onClick:()=>B("login"),className:"text-sm text-white/80 hover:text-white",children:[f.jsx(tt,{id:"auth.register.have_account",defaultMessage:"Already have an account?"})," ",f.jsx("span",{className:"font-semibold underline",children:f.jsx(tt,{id:"common.button.login",defaultMessage:"Sign in"})})]})})]})})]})},"register"),r==="forgot-password"&&f.jsx(Ps.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full max-w-md",children:f.jsxs(vn,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:[f.jsxs(It,{className:"text-center space-y-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 bg-orange-500/20 rounded-full backdrop-blur-sm",children:f.jsx(xd,{className:"h-8 w-8 text-white"})})}),f.jsx(Lt,{className:"text-3xl font-bold text-white",children:f.jsx(tt,{id:"auth.forgot_password.title",defaultMessage:"Reset Password"})}),f.jsx(ln,{className:"text-white/80",children:f.jsx(tt,{id:"auth.forgot_password.subtitle",defaultMessage:"Enter your email to receive reset instructions"})})]}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"forgot-email",className:"text-white/90",children:f.jsx(tt,{id:"auth.login.email.label",defaultMessage:"Email"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Ey,{className:"absolute left-3 top-3 h-5 w-5 text-white/60"}),f.jsx(Cr,{id:"forgot-email",type:"email",placeholder:R.formatMessage({id:"auth.login.email.placeholder",defaultMessage:"Enter your email"}),value:a,onChange:Q=>s(Q.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:bg-white/20",required:!0})]})]}),M&&f.jsxs(du,{className:"bg-red-500/20 border-red-500/50 text-white",children:[f.jsx(zd,{className:"h-4 w-4"}),f.jsx(fu,{children:M})]}),f.jsx(xt,{type:"submit",disabled:b,className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:b?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),f.jsx(tt,{id:"auth.forgot_password.sending",defaultMessage:"Sending..."})]}):f.jsx(tt,{id:"auth.forgot_password.submit",defaultMessage:"Send Reset Email"})}),f.jsxs(xt,{type:"button",onClick:()=>B("login"),variant:"outline",className:"w-full bg-transparent border-white/30 text-white hover:bg-white/10",children:[f.jsx(ic,{className:"mr-2 h-4 w-4"}),f.jsx(tt,{id:"auth.forgot_password.back_to_login",defaultMessage:"Back to Login"})]})]})})]})},"forgot-password"),r==="success-register"&&f.jsx(Ps.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full max-w-md",children:f.jsx(vn,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:f.jsxs(Rt,{className:"pt-6 text-center space-y-6",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"p-4 bg-green-500/20 rounded-full backdrop-blur-sm",children:f.jsx(vu,{className:"h-16 w-16 text-green-400"})})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:f.jsx(tt,{id:"auth.register.success_title",defaultMessage:"Registration Successful!"})}),f.jsx("p",{className:"text-white/80",children:f.jsx(tt,{id:"auth.register.success_message",defaultMessage:"Your account has been created successfully. You can now log in."})})]}),f.jsx(xt,{onClick:()=>B("login"),className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:f.jsx(tt,{id:"auth.register.continue_login",defaultMessage:"Continue to Login"})})]})})},"success-register"),r==="success-reset"&&f.jsx(Ps.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full max-w-md",children:f.jsx(vn,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:f.jsxs(Rt,{className:"pt-6 text-center space-y-6",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"p-4 bg-blue-500/20 rounded-full backdrop-blur-sm",children:f.jsx(Ey,{className:"h-16 w-16 text-blue-400"})})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:f.jsx(tt,{id:"auth.forgot_password.success_title",defaultMessage:"Reset Email Sent!"})}),f.jsx("p",{className:"text-white/80",children:f.jsx(tt,{id:"auth.forgot_password.success_message",defaultMessage:"Please check your email for password reset instructions."})})]}),f.jsx(xt,{onClick:()=>B("login"),className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:f.jsx(tt,{id:"auth.forgot_password.back_to_login",defaultMessage:"Back to Login"})})]})})},"success-reset")]})})]})}const Qo=E.forwardRef(({className:e,variant:t="default",size:r="default",animation:n="scale",children:a,...s},i)=>{const l=()=>{switch(n){case"scale":return{whileHover:{scale:1.05},whileTap:{scale:.95}};case"bounce":return{whileHover:{y:-2},whileTap:{y:0}};case"pulse":return{whileHover:{scale:1.05},whileTap:{scale:.95}};case"slide":return{whileHover:{x:4},whileTap:{x:0}};default:return{whileHover:{scale:1.05},whileTap:{scale:.95}}}};return f.jsx(Ps.div,{...l(),transition:{type:"spring",stiffness:400,damping:17},children:f.jsx(xt,{className:jt(e),variant:t,size:r,ref:i,...s,children:a})})});Qo.displayName="AnimatedButton";function el({children:e,className:t,delay:r=0,duration:n=.5,direction:a="up",triggerKey:s}){const i=()=>{switch(a){case"up":return{opacity:0,y:20};case"down":return{opacity:0,y:-20};case"left":return{opacity:0,x:20};case"right":return{opacity:0,x:-20};default:return{opacity:0}}},l=()=>{switch(a){case"up":case"down":return{opacity:1,y:0};case"left":case"right":return{opacity:1,x:0};default:return{opacity:1}}};return f.jsx(Ps.div,{initial:i(),animate:l(),transition:{duration:n,delay:r,ease:"easeOut"},className:jt(t),children:e},s)}function C0({children:e,className:t,staggerDelay:r=.1,initialDelay:n=0}){return f.jsx("div",{className:jt(t),children:E.Children.map(e,(a,s)=>f.jsx(el,{delay:n+s*r,children:a},s))})}function Ox(e,[t,r]){return Math.min(r,Math.max(t,e))}function yae(e){const t=xae(e),r=E.forwardRef((n,a)=>{const{children:s,...i}=n,l=E.Children.toArray(s),u=l.find(_ae);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function xae(e){const t=E.forwardRef((r,n)=>{const{children:a,...s}=r;if(E.isValidElement(a)){const i=Sae(a),l=bae(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wae=Symbol("radix.slottable");function _ae(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wae}function bae(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Sae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function FT(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var V6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Eae="VisuallyHidden",IT=E.forwardRef((e,t)=>f.jsx(Wt.span,{...e,ref:t,style:{...V6,...e.style}}));IT.displayName=Eae;var Tae=[" ","Enter","ArrowUp","ArrowDown"],kae=[" ","Enter"],ef="Select",[C1,A1,Cae]=Mg(ef),[A0]=zi(ef,[Cae,w1]),M1=w1(),[Aae,Nu]=A0(ef),[Mae,Nae]=A0(ef),H6=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:u,dir:d,name:m,autoComplete:p,disabled:v,required:y,form:w}=e,x=M1(t),[b,T]=E.useState(null),[M,k]=E.useState(null),[j,R]=E.useState(!1),D=Ng(d),[O,B]=ec({prop:n,defaultProp:a??!1,onChange:s,caller:ef}),[V,ne]=ec({prop:i,defaultProp:l,onChange:u,caller:ef}),ie=E.useRef(null),Q=b?w||!!b.closest("form"):!0,[ve,G]=E.useState(new Set),fe=Array.from(ve).map(K=>K.props.value).join(";");return f.jsx(qI,{...x,children:f.jsxs(Aae,{required:y,scope:t,trigger:b,onTriggerChange:T,valueNode:M,onValueNodeChange:k,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:Xo(),value:V,onValueChange:ne,open:O,onOpenChange:B,dir:D,triggerPointerDownPosRef:ie,disabled:v,children:[f.jsx(C1.Provider,{scope:t,children:f.jsx(Mae,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(K=>{G(re=>new Set(re).add(K))},[]),onNativeOptionRemove:E.useCallback(K=>{G(re=>{const le=new Set(re);return le.delete(K),le})},[]),children:r})}),Q?f.jsxs(dL,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:V,onChange:K=>ne(K.target.value),disabled:v,form:w,children:[V===void 0?f.jsx("option",{value:""}):null,Array.from(ve)]},fe):null]})})};H6.displayName=ef;var $6="SelectTrigger",q6=E.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=M1(r),i=Nu($6,r),l=i.disabled||n,u=xr(t,i.onTriggerChange),d=A1(r),m=E.useRef("touch"),[p,v,y]=hL(x=>{const b=d().filter(k=>!k.disabled),T=b.find(k=>k.value===i.value),M=mL(b,x,T);M!==void 0&&i.onValueChange(M.value)}),w=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return f.jsx(GI,{asChild:!0,...s,children:f.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fL(i.value)?"":void 0,...a,ref:u,onClick:yt(a.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&w(x)}),onPointerDown:yt(a.onPointerDown,x=>{m.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:yt(a.onKeyDown,x=>{const b=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&v(x.key),!(b&&x.key===" ")&&Tae.includes(x.key)&&(w(),x.preventDefault())})})})});q6.displayName=$6;var G6="SelectValue",W6=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,u=Nu(G6,r),{onValueNodeHasChildrenChange:d}=u,m=s!==void 0,p=xr(t,u.onValueNodeChange);return qa(()=>{d(m)},[d,m]),f.jsx(Wt.span,{...l,ref:p,style:{pointerEvents:"none"},children:fL(u.value)?f.jsx(f.Fragment,{children:i}):s})});W6.displayName=G6;var jae="SelectIcon",K6=E.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return f.jsx(Wt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});K6.displayName=jae;var Rae="SelectPortal",X6=e=>f.jsx(Og,{asChild:!0,...e});X6.displayName=Rae;var tf="SelectContent",Y6=E.forwardRef((e,t)=>{const r=Nu(tf,e.__scopeSelect),[n,a]=E.useState();if(qa(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?v0.createPortal(f.jsx(Q6,{scope:e.__scopeSelect,children:f.jsx(C1.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),s):null}return f.jsx(J6,{...e,ref:t})});Y6.displayName=tf;var eo=10,[Q6,ju]=A0(tf),Oae="SelectContentImpl",Dae=yae("SelectContent.RemoveScroll"),J6=E.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:u,align:d,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b,...T}=e,M=Nu(tf,r),[k,j]=E.useState(null),[R,D]=E.useState(null),O=xr(t,he=>j(he)),[B,V]=E.useState(null),[ne,ie]=E.useState(null),Q=A1(r),[ve,G]=E.useState(!1),fe=E.useRef(!1);E.useEffect(()=>{if(k)return TT(k)},[k]),pT();const K=E.useCallback(he=>{const[Re,...ye]=Q().map(X=>X.ref.current),[Ue]=ye.slice(-1),st=document.activeElement;for(const X of he)if(X===st||(X==null||X.scrollIntoView({block:"nearest"}),X===Re&&R&&(R.scrollTop=0),X===Ue&&R&&(R.scrollTop=R.scrollHeight),X==null||X.focus(),document.activeElement!==st))return},[Q,R]),re=E.useCallback(()=>K([B,k]),[K,B,k]);E.useEffect(()=>{ve&&re()},[ve,re]);const{onOpenChange:le,triggerPointerDownPosRef:J}=M;E.useEffect(()=>{if(k){let he={x:0,y:0};const Re=Ue=>{var st,X;he={x:Math.abs(Math.round(Ue.pageX)-(((st=J.current)==null?void 0:st.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((X=J.current)==null?void 0:X.y)??0))}},ye=Ue=>{he.x<=10&&he.y<=10?Ue.preventDefault():k.contains(Ue.target)||le(!1),document.removeEventListener("pointermove",Re),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ye,{capture:!0})}}},[k,le,J]),E.useEffect(()=>{const he=()=>le(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[le]);const[Me,H]=hL(he=>{const Re=Q().filter(st=>!st.disabled),ye=Re.find(st=>st.ref.current===document.activeElement),Ue=mL(Re,he,ye);Ue&&setTimeout(()=>Ue.ref.current.focus())}),L=E.useCallback((he,Re,ye)=>{const Ue=!fe.current&&!ye;(M.value!==void 0&&M.value===Re||Ue)&&(V(he),Ue&&(fe.current=!0))},[M.value]),Y=E.useCallback(()=>k==null?void 0:k.focus(),[k]),Z=E.useCallback((he,Re,ye)=>{const Ue=!fe.current&&!ye;(M.value!==void 0&&M.value===Re||Ue)&&ie(he)},[M.value]),W=n==="popper"?x2:Z6,ue=W===x2?{side:l,sideOffset:u,align:d,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return f.jsx(Q6,{scope:r,content:k,viewport:R,onViewportChange:D,itemRefCallback:L,selectedItem:B,onItemLeave:Y,itemTextRefCallback:Z,focusSelectedItem:re,selectedItemText:ne,position:n,isPositioned:ve,searchRef:Me,children:f.jsx(S1,{as:Dae,allowPinchZoom:!0,children:f.jsx(p1,{asChild:!0,trapped:M.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:yt(a,he=>{var Re;(Re=M.trigger)==null||Re.focus({preventScroll:!0}),he.preventDefault()}),children:f.jsx(jg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:f.jsx(W,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:he=>he.preventDefault(),...T,...ue,onPlaced:()=>G(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:yt(T.onKeyDown,he=>{const Re=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Re&&he.key.length===1&&H(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ue=Q().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const st=he.target,X=Ue.indexOf(st);Ue=Ue.slice(X+1)}setTimeout(()=>K(Ue)),he.preventDefault()}})})})})})})});J6.displayName=Oae;var Pae="SelectItemAlignedPosition",Z6=E.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Nu(tf,r),i=ju(tf,r),[l,u]=E.useState(null),[d,m]=E.useState(null),p=xr(t,O=>m(O)),v=A1(r),y=E.useRef(!1),w=E.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:T,focusSelectedItem:M}=i,k=E.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&b&&T){const O=s.trigger.getBoundingClientRect(),B=d.getBoundingClientRect(),V=s.valueNode.getBoundingClientRect(),ne=T.getBoundingClientRect();if(s.dir!=="rtl"){const st=ne.left-B.left,X=V.left-st,zt=O.left-X,Ot=O.width+zt,qt=Math.max(Ot,B.width),it=window.innerWidth-eo,We=Ox(X,[eo,Math.max(eo,it-qt)]);l.style.minWidth=Ot+"px",l.style.left=We+"px"}else{const st=B.right-ne.right,X=window.innerWidth-V.right-st,zt=window.innerWidth-O.right-X,Ot=O.width+zt,qt=Math.max(Ot,B.width),it=window.innerWidth-eo,We=Ox(X,[eo,Math.max(eo,it-qt)]);l.style.minWidth=Ot+"px",l.style.right=We+"px"}const ie=v(),Q=window.innerHeight-eo*2,ve=x.scrollHeight,G=window.getComputedStyle(d),fe=parseInt(G.borderTopWidth,10),K=parseInt(G.paddingTop,10),re=parseInt(G.borderBottomWidth,10),le=parseInt(G.paddingBottom,10),J=fe+K+ve+le+re,Me=Math.min(b.offsetHeight*5,J),H=window.getComputedStyle(x),L=parseInt(H.paddingTop,10),Y=parseInt(H.paddingBottom,10),Z=O.top+O.height/2-eo,W=Q-Z,ue=b.offsetHeight/2,he=b.offsetTop+ue,Re=fe+K+he,ye=J-Re;if(Re<=Z){const st=ie.length>0&&b===ie[ie.length-1].ref.current;l.style.bottom="0px";const X=d.clientHeight-x.offsetTop-x.offsetHeight,zt=Math.max(W,ue+(st?Y:0)+X+re),Ot=Re+zt;l.style.height=Ot+"px"}else{const st=ie.length>0&&b===ie[0].ref.current;l.style.top="0px";const zt=Math.max(Z,fe+x.offsetTop+(st?L:0)+ue)+ye;l.style.height=zt+"px",x.scrollTop=Re-Z+x.offsetTop}l.style.margin=`${eo}px 0`,l.style.minHeight=Me+"px",l.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[v,s.trigger,s.valueNode,l,d,x,b,T,s.dir,n]);qa(()=>k(),[k]);const[j,R]=E.useState();qa(()=>{d&&R(window.getComputedStyle(d).zIndex)},[d]);const D=E.useCallback(O=>{O&&w.current===!0&&(k(),M==null||M(),w.current=!1)},[k,M]);return f.jsx(Iae,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:D,children:f.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:f.jsx(Wt.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Z6.displayName=Pae;var Fae="SelectPopperPosition",x2=E.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=eo,...s}=e,i=M1(r);return f.jsx(WI,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x2.displayName=Fae;var[Iae,LT]=A0(tf,{}),w2="SelectViewport",eL=E.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=ju(w2,r),i=LT(w2,r),l=xr(t,s.onViewportChange),u=E.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(C1.Slot,{scope:r,children:f.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:yt(a.onScroll,d=>{const m=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=i;if(v!=null&&v.current&&p){const y=Math.abs(u.current-m.scrollTop);if(y>0){const w=window.innerHeight-eo*2,x=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),T=Math.max(x,b);if(T<w){const M=T+y,k=Math.min(w,M),j=M-k;p.style.height=k+"px",p.style.bottom==="0px"&&(m.scrollTop=j>0?j:0,p.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});eL.displayName=w2;var tL="SelectGroup",[Lae,Bae]=A0(tL),Uae=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xo();return f.jsx(Lae,{scope:r,id:a,children:f.jsx(Wt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Uae.displayName=tL;var rL="SelectLabel",zae=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Bae(rL,r);return f.jsx(Wt.div,{id:a.id,...n,ref:t})});zae.displayName=rL;var Dx="SelectItem",[Vae,nL]=A0(Dx),aL=E.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Nu(Dx,r),u=ju(Dx,r),d=l.value===n,[m,p]=E.useState(s??""),[v,y]=E.useState(!1),w=xr(t,M=>{var k;return(k=u.itemRefCallback)==null?void 0:k.call(u,M,n,a)}),x=Xo(),b=E.useRef("touch"),T=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Vae,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:E.useCallback(M=>{p(k=>k||((M==null?void 0:M.textContent)??"").trim())},[]),children:f.jsx(C1.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:f.jsx(Wt.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:w,onFocus:yt(i.onFocus,()=>y(!0)),onBlur:yt(i.onBlur,()=>y(!1)),onClick:yt(i.onClick,()=>{b.current!=="mouse"&&T()}),onPointerUp:yt(i.onPointerUp,()=>{b.current==="mouse"&&T()}),onPointerDown:yt(i.onPointerDown,M=>{b.current=M.pointerType}),onPointerMove:yt(i.onPointerMove,M=>{var k;b.current=M.pointerType,a?(k=u.onItemLeave)==null||k.call(u):b.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(i.onPointerLeave,M=>{var k;M.currentTarget===document.activeElement&&((k=u.onItemLeave)==null||k.call(u))}),onKeyDown:yt(i.onKeyDown,M=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&M.key===" "||(kae.includes(M.key)&&T(),M.key===" "&&M.preventDefault())})})})})});aL.displayName=Dx;var Jm="SelectItemText",sL=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Nu(Jm,r),l=ju(Jm,r),u=nL(Jm,r),d=Nae(Jm,r),[m,p]=E.useState(null),v=xr(t,T=>p(T),u.onItemTextChange,T=>{var M;return(M=l.itemTextRefCallback)==null?void 0:M.call(l,T,u.value,u.disabled)}),y=m==null?void 0:m.textContent,w=E.useMemo(()=>f.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=d;return qa(()=>(x(w),()=>b(w)),[x,b,w]),f.jsxs(f.Fragment,{children:[f.jsx(Wt.span,{id:u.textId,...s,ref:v}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?v0.createPortal(s.children,i.valueNode):null]})});sL.displayName=Jm;var iL="SelectItemIndicator",oL=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nL(iL,r).isSelected?f.jsx(Wt.span,{"aria-hidden":!0,...n,ref:t}):null});oL.displayName=iL;var _2="SelectScrollUpButton",lL=E.forwardRef((e,t)=>{const r=ju(_2,e.__scopeSelect),n=LT(_2,e.__scopeSelect),[a,s]=E.useState(!1),i=xr(t,n.onScrollButtonChange);return qa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?f.jsx(uL,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});lL.displayName=_2;var b2="SelectScrollDownButton",cL=E.forwardRef((e,t)=>{const r=ju(b2,e.__scopeSelect),n=LT(b2,e.__scopeSelect),[a,s]=E.useState(!1),i=xr(t,n.onScrollButtonChange);return qa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<d;s(m)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?f.jsx(uL,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});cL.displayName=b2;var uL=E.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=ju("SelectScrollButton",r),i=E.useRef(null),l=A1(r),u=E.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),qa(()=>{var m;const d=l().find(p=>p.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),f.jsx(Wt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:yt(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:yt(a.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:yt(a.onPointerLeave,()=>{u()})})}),Hae="SelectSeparator",$ae=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(Wt.div,{"aria-hidden":!0,...n,ref:t})});$ae.displayName=Hae;var S2="SelectArrow",qae=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=M1(r),s=Nu(S2,r),i=ju(S2,r);return s.open&&i.position==="popper"?f.jsx(KI,{...a,...n,ref:t}):null});qae.displayName=S2;var Gae="SelectBubbleInput",dL=E.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=E.useRef(null),s=xr(n,a),i=FT(t);return E.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==t&&m){const p=new Event("change",{bubbles:!0});m.call(l,t),l.dispatchEvent(p)}},[i,t]),f.jsx(Wt.select,{...r,style:{...V6,...r.style},ref:s,defaultValue:t})});dL.displayName=Gae;function fL(e){return e===""||e===void 0}function hL(e){const t=Us(e),r=E.useRef(""),n=E.useRef(0),a=E.useCallback(i=>{const l=r.current+i;t(l),(function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),s=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function mL(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Wae(e,Math.max(s,0));a.length===1&&(i=i.filter(d=>d!==r));const u=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}function Wae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Kae=H6,Xae=q6,Yae=W6,Qae=K6,Jae=X6,Zae=Y6,ese=eL,tse=aL,rse=sL,nse=oL,ase=lL,sse=cL;function Hd({...e}){return f.jsx(Kae,{"data-slot":"select",...e})}function $d({...e}){return f.jsx(Yae,{"data-slot":"select-value",...e})}function qd({className:e,size:t="default",children:r,...n}){return f.jsxs(Xae,{"data-slot":"select-trigger","data-size":t,className:jt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,f.jsx(Qae,{asChild:!0,children:f.jsx(DF,{className:"size-4 opacity-50"})})]})}function Gd({className:e,children:t,position:r="popper",...n}){return f.jsx(Jae,{children:f.jsxs(Zae,{"data-slot":"select-content",className:jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(ise,{}),f.jsx(ese,{className:jt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),f.jsx(ose,{})]})})}function as({className:e,children:t,...r}){return f.jsxs(tse,{"data-slot":"select-item",className:jt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(nse,{children:f.jsx(kd,{className:"size-4"})})}),f.jsx(rse,{children:t})]})}function ise({className:e,...t}){return f.jsx(ase,{"data-slot":"select-scroll-up-button",className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(WY,{className:"size-4"})})}function ose({className:e,...t}){return f.jsx(sse,{"data-slot":"select-scroll-down-button",className:jt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(DF,{className:"size-4"})})}function lse({onPINValidated:e,userName:t,userId:r}){const[n,a]=E.useState(["","","","","",""]),[s,i]=E.useState(!1),[l,u]=E.useState(""),[d,m]=E.useState(""),[p,v]=E.useState([]);E.useEffect(()=>{const T={id:r||"owner-account",name:"Owner",role:"owner"};v([T]),m(T.id)},[r,t]);const y=(T,M)=>{if(M.length>1)return;const k=[...n];if(k[T]=M,a(k),M&&T<5){const j=document.getElementById(`pin-${T+1}`);j&&j.focus()}l&&u("")},w=(T,M)=>{if(M.key==="Backspace"&&!n[T]&&T>0){const k=document.getElementById(`pin-${T-1}`);k&&k.focus()}},x=async T=>{T.preventDefault();const M=n.join("");if(M.length!==6){u("Please enter all 6 digits");return}if(!d){u("Please select an account");return}i(!0),u("");try{await new Promise(k=>setTimeout(k,1e3)),M==="123456"?e({is_valid:!0,role:"owner"},d):u("Invalid PIN. Default PIN for Owner is 123456.")}catch{u("PIN validation failed. Please try again.")}finally{i(!1)}},b=T=>{T.preventDefault();const M=T.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(M)){const k=M.split("").concat(Array(6-M.length).fill(""));a(k);const j=M.length-1;if(j<6){const R=document.getElementById(`pin-${j}`);R&&R.focus()}}};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsx(el,{duration:.4,children:f.jsxs(vn,{className:"w-full max-w-md",children:[f.jsxs(It,{className:"space-y-1 text-center",children:[f.jsx("div",{className:"mx-auto mb-4",children:f.jsx(kx,{className:"h-12 w-12 text-primary"})}),f.jsx(Lt,{className:"text-2xl font-bold",children:"Enter PIN"}),f.jsxs(ln,{children:["Welcome back, ",t,"! Please select your account and enter PIN"]})]}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{children:"Select Account"}),f.jsxs(Hd,{value:d,onValueChange:m,children:[f.jsx(qd,{children:f.jsx($d,{placeholder:"Select account"})}),f.jsx(Gd,{children:p.map(T=>f.jsx(as,{value:T.id,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(h1,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{children:T.name}),T.role==="owner"&&f.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Owner"})]})},T.id))})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Xt,{className:"text-center block",children:"Security PIN"}),f.jsx("div",{className:"flex justify-center gap-2",onPaste:b,children:n.map((T,M)=>f.jsx(Cr,{id:`pin-${M}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:T,onChange:k=>y(M,k.target.value),onKeyDown:k=>w(M,k),className:"w-12 h-12 text-center text-lg font-semibold",autoFocus:M===0},M))})]}),l&&f.jsx(du,{variant:"destructive",children:f.jsx(fu,{children:l})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Qo,{type:"submit",className:"w-full",disabled:s,animation:"scale",children:s?"Validating...":"Continue"}),f.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Demo PIN: ",f.jsx("span",{className:"font-mono font-semibold",children:"123456"})]})]}),f.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[f.jsx(Dh,{className:"h-3 w-3"}),f.jsx("span",{children:"Secure PIN Verification"})]}),f.jsx("div",{children:"Default role: Owner"})]})]})})]})})})}const cse=u1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Br({className:e,variant:t,asChild:r=!1,...n}){const a=r?yP:"span";return f.jsx(a,{"data-slot":"badge",className:jt(cse({variant:t}),e),...n})}function use(e,t=[]){let r=[];function n(s,i){const l=E.createContext(i);l.displayName=s+"Context";const u=r.length;r=[...r,i];const d=p=>{var T;const{scope:v,children:y,...w}=p,x=((T=v==null?void 0:v[e])==null?void 0:T[u])||l,b=E.useMemo(()=>w,Object.values(w));return f.jsx(x.Provider,{value:b,children:y})};d.displayName=s+"Provider";function m(p,v){var x;const y=((x=v==null?void 0:v[e])==null?void 0:x[u])||l,w=E.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,m]}const a=()=>{const s=r.map(i=>E.createContext(i));return function(l){const u=(l==null?void 0:l[e])||s;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,dse(a,...t)]}function dse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var fse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pL=fse.reduce((e,t)=>{const r=YE(`Primitive.${t}`),n=E.forwardRef((a,s)=>{const{asChild:i,...l}=a,u=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),BT="Progress",UT=100,[hse]=use(BT),[mse,pse]=hse(BT),gL=E.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=gse,...i}=e;(a||a===0)&&!iR(a)&&console.error(vse(`${a}`,"Progress"));const l=iR(a)?a:UT;n!==null&&!oR(n,l)&&console.error(yse(`${n}`,"Progress"));const u=oR(n,l)?n:null,d=Px(u)?s(u,l):void 0;return f.jsx(mse,{scope:r,value:u,max:l,children:f.jsx(pL.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Px(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":xL(u,l),"data-value":u??void 0,"data-max":l,...i,ref:t})})});gL.displayName=BT;var vL="ProgressIndicator",yL=E.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=pse(vL,r);return f.jsx(pL.div,{"data-state":xL(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});yL.displayName=vL;function gse(e,t){return`${Math.round(e/t*100)}%`}function xL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Px(e){return typeof e=="number"}function iR(e){return Px(e)&&!isNaN(e)&&e>0}function oR(e,t){return Px(e)&&!isNaN(e)&&e<=t&&e>=0}function vse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${UT}\`.`}function yse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${UT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xse=gL,wse=yL;function Ig({className:e,value:t,...r}){return f.jsx(xse,{"data-slot":"progress",className:jt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:f.jsx(wse,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Lg({message:e="Initializing your workspace..."}){return f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]})})}const wL=E.createContext(void 0);function _se({children:e}){const[t,r]=E.useState(null),[n,a]=E.useState(null),[s,i]=E.useState(!0),l=za.useRef(null),u=za.useRef(null);E.useEffect(()=>{l.current=(t==null?void 0:t.id)||null},[t]);const d=async v=>{try{console.log("Fetching user profile for:",v.id);const y=new Promise((b,T)=>{setTimeout(()=>T(new Error("Request timed out")),15e3)}),{data:w,error:x}=await Promise.race([ut.from("profiles").select("*").eq("id",v.id).single(),y.then(()=>({data:null,error:{message:"Timeout"}}))]);return console.log("Supabase query completed",{data:w,error:x}),x?(console.error("Error fetching user profile:",x),null):w?(console.log("User profile found:",w.id),w):(console.log("No profile found for user"),null)}catch(y){return console.error("Unexpected error in fetchUserProfile:",y),null}},m=async(v,y)=>{var w,x;if(l.current===v.id){console.log("User already loaded, skipping redundant fetch for:",v.id),i(!1);return}if(u.current===v.id){console.log("Sign-in already in progress for:",v.id);return}try{console.log("handleSignIn started"),u.current=v.id,i(!0);const b=Nr.getLastUserId();if(b&&b!==v.id){console.log(`User switch detected: ${b} -> ${v.id}`);const M=localStorage.getItem("userSwitchPreference"),k=localStorage.getItem("userSwitchRememberChoice")==="true";let j=!0;if(k&&M?M==="keep"?j=!1:M==="always"&&(j=!0):j=!0,j)try{await ze.clearUserData(b),await ro.clearSyncTimestamps(),console.log(`Cleaned up data for previous user: ${b}`)}catch(R){console.error("Error cleaning up previous user data:",R)}else console.log(`Keeping data for previous user: ${b}`)}const T=await d(v);if(T){console.log("Setting user state"),r(T),a(T.master_user_id);try{await Nr.setCurrentUser(T,y,{skipDbVerification:!0})||(console.error("UserContextManager failed to set user context (validation failed)"),r(null),a(null))}catch(M){console.error("Failed to set user context:",M),r(null),a(null)}Nr.setLastUserId(T.id)}else{console.log("No user profile found, creating default from auth data");const M={id:v.id,email:v.email||"",name:((w=v.user_metadata)==null?void 0:w.full_name)||((x=v.email)==null?void 0:x.split("@")[0])||"User",role:"owner",master_user_id:v.id,created_at:new Date().toISOString()};r(M),a(M.master_user_id);try{await Nr.setCurrentUser(M,y,{skipDbVerification:!0})||(console.error("UserContextManager failed to set temporary user context"),r(null),a(null))}catch(k){console.error("Failed to set temporary user context:",k),r(null),a(null)}Nr.setLastUserId(M.id)}}catch(b){console.error("Error in handleSignIn:",b)}finally{console.log("handleSignIn finally block - setting loading false"),u.current=null,i(!1)}},p=async()=>{try{await Nr.clearCurrentUser()}catch(v){console.error("Error clearing user context:",v)}r(null),a(null),i(!1)};return E.useEffect(()=>{(async()=>{try{const{data:{session:w},error:x}=await ut.auth.getSession();if(x){console.error("Error getting initial session:",x),i(!1);return}w!=null&&w.user?await m(w.user,w.access_token):i(!1)}catch(w){console.error("Error in getInitialSession:",w),i(!1)}})();const{data:{subscription:y}}=ut.auth.onAuthStateChange(async(w,x)=>{var b;switch(console.log("Auth state changed:",w,(b=x==null?void 0:x.user)==null?void 0:b.id),w){case"INITIAL_SESSION":case"SIGNED_IN":x!=null&&x.user?(console.log("Handling SIGNED_IN/INITIAL_SESSION for user:",x.user.id),await m(x.user,x.access_token),console.log("handleSignIn completed for user:",x.user.id)):(console.log("No session user found in SIGNED_IN/INITIAL_SESSION, setting loading false"),i(!1));break;case"SIGNED_OUT":console.log("User signed out"),await p();break;case"TOKEN_REFRESHED":console.log("Token refreshed");break;case"USER_UPDATED":console.log("User updated");break;default:console.log("Unhandled auth event:",w),i(!1)}});return()=>{y.unsubscribe()}},[]),s?f.jsx(Lg,{message:"Authenticating user..."}):f.jsx(wL.Provider,{value:{user:t,masterUserId:n,isLoading:s},children:e})}function bse(){const e=E.useContext(wL);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}const _L=E.createContext(null);function Ol({children:e}){const[t,r]=E.useState(!1);if(E.useEffect(()=>{if(ya.isInitialized()){r(!0);return}console.warn("ServiceProvider waiting for services to initialize...");const a=setInterval(()=>{ya.isInitialized()&&(console.log("Services initialized, ServiceProvider ready"),r(!0),clearInterval(a))},100);return()=>clearInterval(a)},[]),!t)return f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Initializing services..."})]})});let n=null;try{n={templateService:ya.getTemplateService(),contactService:ya.getContactService(),groupService:ya.getGroupService(),assetService:ya.getAssetService(),historyService:ya.getHistoryService(),quotaService:ya.getQuotaService(),authService:ya.getAuthService(),paymentService:ya.getPaymentService(),isInitialized:!0}}catch(a){return console.error("Error getting services from service manager:",a),r(!1),f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Initializing services..."})]})})}return f.jsx(_L.Provider,{value:n,children:e})}function oc(){const e=E.useContext(_L);if(!e)throw new Error("useServices must be used within a ServiceProvider");return e}class Sse{async checkIfFirstTimeUser(t){if(!t)return console.warn("checkIfFirstTimeUser called without a masterUserId."),!0;const[r,n,a]=await Promise.all([this.checkLocalTemplates(t),this.checkLocalContacts(t),this.checkLocalAssets(t)]);return!r&&!n&&!a}async checkLocalTemplates(t){try{return await ze.templates.where("master_user_id").equals(t).count()>0}catch(r){return console.error("Failed to check local templates:",r),!0}}async checkLocalContacts(t){try{return await ze.contacts.where("master_user_id").equals(t).count()>0}catch(r){return console.error("Failed to check local contacts:",r),!0}}async checkLocalAssets(t){try{return await ze.assets.where("master_user_id").equals(t).count()>0}catch(r){return console.error("Failed to check local assets:",r),!0}}}class Ese{constructor(t){St(this,"serviceManager");this.serviceManager=t}async performInitialSync(t,r){if(!this.serviceManager.isInitialized())throw new Error("Services must be initialized before performing initial sync");const n=[{name:"templates",service:this.serviceManager.getTemplateService()},{name:"contacts",service:this.serviceManager.getContactService()},{name:"assets",service:this.serviceManager.getAssetService()},{name:"history",service:this.serviceManager.getHistoryService()}];for(const[a,s]of n.entries())try{r==null||r({step:s.name,progress:a/n.length*100,status:"syncing"}),await s.service.forceSync(),r==null||r({step:s.name,progress:(a+1)/n.length*100,status:"completed"})}catch(i){throw console.error(`Initial sync failed for step '${s.name}':`,i),r==null||r({step:s.name,progress:(a+1)/n.length*100,status:"error",error:i.message||"An unknown error occurred"}),new Error(`Sync failed during the '${s.name}' step.`)}try{r==null||r({step:"asset_content",progress:0,status:"syncing"}),await this.serviceManager.getAssetService().syncAssetsFromSupabase(s=>{r==null||r({step:"asset_content",progress:s,status:"syncing"})}),r==null||r({step:"asset_content",progress:100,status:"completed"})}catch(a){console.error("Asset content sync failed:",a),r==null||r({step:"asset_content",progress:100,status:"error",error:a.message||"Failed to download asset content"})}}}const Sr=E.forwardRef(({className:e,animation:t="fadeIn",delay:r=0,children:n},a)=>{const s=()=>{switch(t){case"fadeIn":return{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:r}};case"slideUp":return{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r}};case"scale":return{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:r}};case"bounce":return{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:20,delay:r}};default:return{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:r}}}};return f.jsx(Ps.div,{...s(),children:f.jsx(vn,{className:jt(e),ref:a,children:n})})});Sr.displayName="AnimatedCard";function Tse({progress:e}){const t=(e==null?void 0:e.progress)||0,r=(e==null?void 0:e.step)||"data";return f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:f.jsxs(Sr,{className:"w-full max-w-md",children:[f.jsxs(It,{className:"text-center",children:[f.jsx(Lt,{children:"Welcome to Xender-In!"}),f.jsx(ln,{children:"Setting up your workspace for the first time. This may take a few moments..."})]}),f.jsxs(Rt,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700 dark:text-gray-300",children:[f.jsxs("span",{children:["Syncing ",r,"..."]}),f.jsxs("span",{children:[Math.round(t),"%"]})]}),f.jsx(Ig,{value:t})]}),(e==null?void 0:e.status)==="error"&&f.jsxs(du,{variant:"destructive",children:[f.jsx(zd,{className:"h-4 w-4"}),f.jsx(fu,{children:e.error||"Sync failed. Please try again later."})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center pt-2",children:"Please keep the application open during this process."})]})]})})}function Aa({className:e,...t}){return f.jsx("div",{"data-slot":"skeleton",className:jt("bg-accent animate-pulse rounded-md",e),...t})}function kse(e){const t=Cse(e),r=E.forwardRef((n,a)=>{const{children:s,...i}=n,l=E.Children.toArray(s),u=l.find(Mse);if(u){const d=u.props.children,m=l.map(p=>p===u?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:p);return f.jsx(t,{...i,ref:a,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return f.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Cse(e){const t=E.forwardRef((r,n)=>{const{children:a,...s}=r;if(E.isValidElement(a)){const i=jse(a),l=Nse(s,a.props);return a.type!==E.Fragment&&(l.ref=n?ac(n,i):i),E.cloneElement(a,l)}return E.Children.count(a)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ase=Symbol("radix.slottable");function Mse(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ase}function Nse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const u=s(...l);return a(...l),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function jse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var N1="Dialog",[bL,SL]=zi(N1),[Rse,_o]=bL(N1),EL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=E.useRef(null),u=E.useRef(null),[d,m]=ec({prop:n,defaultProp:a??!1,onChange:s,caller:N1});return f.jsx(Rse,{scope:t,triggerRef:l,contentRef:u,contentId:Xo(),titleId:Xo(),descriptionId:Xo(),open:d,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(p=>!p),[m]),modal:i,children:r})};EL.displayName=N1;var TL="DialogTrigger",kL=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_o(TL,r),s=xr(t,a.triggerRef);return f.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HT(a.open),...n,ref:s,onClick:yt(e.onClick,a.onOpenToggle)})});kL.displayName=TL;var zT="DialogPortal",[Ose,CL]=bL(zT,{forceMount:void 0}),AL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=_o(zT,t);return f.jsx(Ose,{scope:t,forceMount:r,children:E.Children.map(n,i=>f.jsx(wo,{present:r||s.open,children:f.jsx(Og,{asChild:!0,container:a,children:i})}))})};AL.displayName=zT;var Fx="DialogOverlay",ML=E.forwardRef((e,t)=>{const r=CL(Fx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=_o(Fx,e.__scopeDialog);return s.modal?f.jsx(wo,{present:n||s.open,children:f.jsx(Pse,{...a,ref:t})}):null});ML.displayName=Fx;var Dse=kse("DialogOverlay.RemoveScroll"),Pse=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_o(Fx,r);return f.jsx(S1,{as:Dse,allowPinchZoom:!0,shards:[a.contentRef],children:f.jsx(Wt.div,{"data-state":HT(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rf="DialogContent",NL=E.forwardRef((e,t)=>{const r=CL(rf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=_o(rf,e.__scopeDialog);return f.jsx(wo,{present:n||s.open,children:s.modal?f.jsx(Fse,{...a,ref:t}):f.jsx(Ise,{...a,ref:t})})});NL.displayName=rf;var Fse=E.forwardRef((e,t)=>{const r=_o(rf,e.__scopeDialog),n=E.useRef(null),a=xr(t,r.contentRef,n);return E.useEffect(()=>{const s=n.current;if(s)return TT(s)},[]),f.jsx(jL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:yt(e.onFocusOutside,s=>s.preventDefault())})}),Ise=E.forwardRef((e,t)=>{const r=_o(rf,e.__scopeDialog),n=E.useRef(!1),a=E.useRef(!1);return f.jsx(jL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),jL=E.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=_o(rf,r),u=E.useRef(null),d=xr(t,u);return pT(),f.jsxs(f.Fragment,{children:[f.jsx(p1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:f.jsx(jg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":HT(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Bse,{titleId:l.titleId}),f.jsx(zse,{contentRef:u,descriptionId:l.descriptionId})]})]})}),VT="DialogTitle",RL=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_o(VT,r);return f.jsx(Wt.h2,{id:a.titleId,...n,ref:t})});RL.displayName=VT;var OL="DialogDescription",DL=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_o(OL,r);return f.jsx(Wt.p,{id:a.descriptionId,...n,ref:t})});DL.displayName=OL;var PL="DialogClose",FL=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_o(PL,r);return f.jsx(Wt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,()=>a.onOpenChange(!1))})});FL.displayName=PL;function HT(e){return e?"open":"closed"}var IL="DialogTitleWarning",[Lse,LL]=XZ(IL,{contentName:rf,titleName:VT,docsSlug:"dialog"}),Bse=({titleId:e})=>{const t=LL(IL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Use="DialogDescriptionWarning",zse=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LL(Use).contentName}}.`;return E.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},BL=EL,UL=kL,zL=AL,VL=ML,HL=NL,$L=RL,qL=DL,$T=FL;function co({...e}){return f.jsx(BL,{"data-slot":"dialog",...e})}function GL({...e}){return f.jsx(UL,{"data-slot":"dialog-trigger",...e})}function Vse({...e}){return f.jsx(zL,{"data-slot":"dialog-portal",...e})}function Hse({className:e,...t}){return f.jsx(VL,{"data-slot":"dialog-overlay",className:jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function uo({className:e,children:t,showCloseButton:r=!0,...n}){return f.jsxs(Vse,{"data-slot":"dialog-portal",children:[f.jsx(Hse,{}),f.jsxs(HL,{"data-slot":"dialog-content",className:jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r&&f.jsxs($T,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(so,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fo({className:e,...t}){return f.jsx("div",{"data-slot":"dialog-header",className:jt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function vp({className:e,...t}){return f.jsx("div",{"data-slot":"dialog-footer",className:jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ho({className:e,...t}){return f.jsx($L,{"data-slot":"dialog-title",className:jt("text-lg leading-none font-semibold",e),...t})}function hu({className:e,...t}){return f.jsx(qL,{"data-slot":"dialog-description",className:jt("text-muted-foreground text-sm",e),...t})}var wh={},Bb={exports:{}},Ub,lR;function $se(){if(lR)return Ub;lR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ub=e,Ub}var zb,cR;function qse(){if(cR)return zb;cR=1;var e=$se();function t(){}function r(){}return r.resetWarningCache=t,zb=function(){function n(i,l,u,d,m,p){if(p!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},zb}var uR;function qT(){return uR||(uR=1,Bb.exports=qse()()),Bb.exports}var Vb,dR;function WL(){return dR||(dR=1,Vb={L:1,M:0,Q:3,H:2}),Vb}var Hb,fR;function KL(){return fR||(fR=1,Hb={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Hb}var $b,hR;function Gse(){if(hR)return $b;hR=1;var e=KL();function t(r){this.mode=e.MODE_8BIT_BYTE,this.data=r}return t.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},$b=t,$b}var qb,mR;function Wse(){if(mR)return qb;mR=1;var e=WL();function t(r,n){this.totalCount=r,this.dataCount=n}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(r,n){var a=t.getRsBlockTable(r,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var s=a.length/3,i=new Array,l=0;l<s;l++)for(var u=a[l*3+0],d=a[l*3+1],m=a[l*3+2],p=0;p<u;p++)i.push(new t(d,m));return i},t.getRsBlockTable=function(r,n){switch(n){case e.L:return t.RS_BLOCK_TABLE[(r-1)*4+0];case e.M:return t.RS_BLOCK_TABLE[(r-1)*4+1];case e.Q:return t.RS_BLOCK_TABLE[(r-1)*4+2];case e.H:return t.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},qb=t,qb}var Gb,pR;function Kse(){if(pR)return Gb;pR=1;function e(){this.buffer=new Array,this.length=0}return e.prototype={get:function(t){var r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)==1},put:function(t,r){for(var n=0;n<r;n++)this.putBit((t>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Gb=e,Gb}var Wb,gR;function XL(){if(gR)return Wb;gR=1;for(var e={glog:function(r){if(r<1)throw new Error("glog("+r+")");return e.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return e.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return Wb=e,Wb}var Kb,vR;function YL(){if(vR)return Kb;vR=1;var e=XL();function t(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+n);for(var s=0;s<r.length-a;s++)this.num[s]=r[s+a]}return t.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<r.getLength();s++)n[a+s]^=e.gexp(e.glog(this.get(a))+e.glog(r.get(s)));return new t(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=e.glog(this.get(0))-e.glog(r.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<r.getLength();s++)a[s]^=e.gexp(e.glog(r.get(s))+n);return new t(a,0).mod(r)}},Kb=t,Kb}var Xb,yR;function Xse(){if(yR)return Xb;yR=1;var e=KL(),t=YL(),r=XL(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var i=s<<10;a.getBCHDigit(i)-a.getBCHDigit(a.G15)>=0;)i^=a.G15<<a.getBCHDigit(i)-a.getBCHDigit(a.G15);return(s<<10|i)^a.G15_MASK},getBCHTypeNumber:function(s){for(var i=s<<12;a.getBCHDigit(i)-a.getBCHDigit(a.G18)>=0;)i^=a.G18<<a.getBCHDigit(i)-a.getBCHDigit(a.G18);return s<<12|i},getBCHDigit:function(s){for(var i=0;s!=0;)i++,s>>>=1;return i},getPatternPosition:function(s){return a.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,i,l){switch(s){case n.PATTERN000:return(i+l)%2==0;case n.PATTERN001:return i%2==0;case n.PATTERN010:return l%3==0;case n.PATTERN011:return(i+l)%3==0;case n.PATTERN100:return(Math.floor(i/2)+Math.floor(l/3))%2==0;case n.PATTERN101:return i*l%2+i*l%3==0;case n.PATTERN110:return(i*l%2+i*l%3)%2==0;case n.PATTERN111:return(i*l%3+(i+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var i=new t([1],0),l=0;l<s;l++)i=i.multiply(new t([1,r.gexp(l)],0));return i},getLengthInBits:function(s,i){if(1<=i&&i<10)switch(s){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(i<27)switch(s){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(i<41)switch(s){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+i)},getLostPoint:function(s){for(var i=s.getModuleCount(),l=0,u=0;u<i;u++)for(var d=0;d<i;d++){for(var m=0,p=s.isDark(u,d),v=-1;v<=1;v++)if(!(u+v<0||i<=u+v))for(var y=-1;y<=1;y++)d+y<0||i<=d+y||v==0&&y==0||p==s.isDark(u+v,d+y)&&m++;m>5&&(l+=3+m-5)}for(var u=0;u<i-1;u++)for(var d=0;d<i-1;d++){var w=0;s.isDark(u,d)&&w++,s.isDark(u+1,d)&&w++,s.isDark(u,d+1)&&w++,s.isDark(u+1,d+1)&&w++,(w==0||w==4)&&(l+=3)}for(var u=0;u<i;u++)for(var d=0;d<i-6;d++)s.isDark(u,d)&&!s.isDark(u,d+1)&&s.isDark(u,d+2)&&s.isDark(u,d+3)&&s.isDark(u,d+4)&&!s.isDark(u,d+5)&&s.isDark(u,d+6)&&(l+=40);for(var d=0;d<i;d++)for(var u=0;u<i-6;u++)s.isDark(u,d)&&!s.isDark(u+1,d)&&s.isDark(u+2,d)&&s.isDark(u+3,d)&&s.isDark(u+4,d)&&!s.isDark(u+5,d)&&s.isDark(u+6,d)&&(l+=40);for(var x=0,d=0;d<i;d++)for(var u=0;u<i;u++)s.isDark(u,d)&&x++;var b=Math.abs(100*x/i/i-50)/5;return l+=b*10,l}};return Xb=a,Xb}var Yb,xR;function Yse(){if(xR)return Yb;xR=1;var e=Gse(),t=Wse(),r=Kse(),n=Xse(),a=YL();function s(l,u){this.typeNumber=l,this.errorCorrectLevel=u,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var i=s.prototype;return i.addData=function(l){var u=new e(l);this.dataList.push(u),this.dataCache=null},i.isDark=function(l,u){if(l<0||this.moduleCount<=l||u<0||this.moduleCount<=u)throw new Error(l+","+u);return this.modules[l][u]},i.getModuleCount=function(){return this.moduleCount},i.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var u=t.getRSBlocks(l,this.errorCorrectLevel),d=new r,m=0,p=0;p<u.length;p++)m+=u[p].dataCount;for(var p=0;p<this.dataList.length;p++){var v=this.dataList[p];d.put(v.mode,4),d.put(v.getLength(),n.getLengthInBits(v.mode,l)),v.write(d)}if(d.getLengthInBits()<=m*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},i.makeImpl=function(l,u){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[d][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,u),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,u)},i.setupPositionProbePattern=function(l,u){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var m=-1;m<=7;m++)u+m<=-1||this.moduleCount<=u+m||(0<=d&&d<=6&&(m==0||m==6)||0<=m&&m<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=m&&m<=4?this.modules[l+d][u+m]=!0:this.modules[l+d][u+m]=!1)},i.getBestMaskPattern=function(){for(var l=0,u=0,d=0;d<8;d++){this.makeImpl(!0,d);var m=n.getLostPoint(this);(d==0||l>m)&&(l=m,u=d)}return u},i.createMovieClip=function(l,u,d){var m=l.createEmptyMovieClip(u,d),p=1;this.make();for(var v=0;v<this.modules.length;v++)for(var y=v*p,w=0;w<this.modules[v].length;w++){var x=w*p,b=this.modules[v][w];b&&(m.beginFill(0,100),m.moveTo(x,y),m.lineTo(x+p,y),m.lineTo(x+p,y+p),m.lineTo(x,y+p),m.endFill())}return m},i.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var u=8;u<this.moduleCount-8;u++)this.modules[6][u]==null&&(this.modules[6][u]=u%2==0)},i.setupPositionAdjustPattern=function(){for(var l=n.getPatternPosition(this.typeNumber),u=0;u<l.length;u++)for(var d=0;d<l.length;d++){var m=l[u],p=l[d];if(this.modules[m][p]==null)for(var v=-2;v<=2;v++)for(var y=-2;y<=2;y++)v==-2||v==2||y==-2||y==2||v==0&&y==0?this.modules[m+v][p+y]=!0:this.modules[m+v][p+y]=!1}},i.setupTypeNumber=function(l){for(var u=n.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var m=!l&&(u>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=m}for(var d=0;d<18;d++){var m=!l&&(u>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=m}},i.setupTypeInfo=function(l,u){for(var d=this.errorCorrectLevel<<3|u,m=n.getBCHTypeInfo(d),p=0;p<15;p++){var v=!l&&(m>>p&1)==1;p<6?this.modules[p][8]=v:p<8?this.modules[p+1][8]=v:this.modules[this.moduleCount-15+p][8]=v}for(var p=0;p<15;p++){var v=!l&&(m>>p&1)==1;p<8?this.modules[8][this.moduleCount-p-1]=v:p<9?this.modules[8][15-p-1+1]=v:this.modules[8][15-p-1]=v}this.modules[this.moduleCount-8][8]=!l},i.mapData=function(l,u){for(var d=-1,m=this.moduleCount-1,p=7,v=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var w=0;w<2;w++)if(this.modules[m][y-w]==null){var x=!1;v<l.length&&(x=(l[v]>>>p&1)==1);var b=n.getMask(u,m,y-w);b&&(x=!x),this.modules[m][y-w]=x,p--,p==-1&&(v++,p=7)}if(m+=d,m<0||this.moduleCount<=m){m-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,u,d){for(var m=t.getRSBlocks(l,u),p=new r,v=0;v<d.length;v++){var y=d[v];p.put(y.mode,4),p.put(y.getLength(),n.getLengthInBits(y.mode,l)),y.write(p)}for(var w=0,v=0;v<m.length;v++)w+=m[v].dataCount;if(p.getLengthInBits()>w*8)throw new Error("code length overflow. ("+p.getLengthInBits()+">"+w*8+")");for(p.getLengthInBits()+4<=w*8&&p.put(0,4);p.getLengthInBits()%8!=0;)p.putBit(!1);for(;!(p.getLengthInBits()>=w*8||(p.put(s.PAD0,8),p.getLengthInBits()>=w*8));)p.put(s.PAD1,8);return s.createBytes(p,m)},s.createBytes=function(l,u){for(var d=0,m=0,p=0,v=new Array(u.length),y=new Array(u.length),w=0;w<u.length;w++){var x=u[w].dataCount,b=u[w].totalCount-x;m=Math.max(m,x),p=Math.max(p,b),v[w]=new Array(x);for(var T=0;T<v[w].length;T++)v[w][T]=255&l.buffer[T+d];d+=x;var M=n.getErrorCorrectPolynomial(b),k=new a(v[w],M.getLength()-1),j=k.mod(M);y[w]=new Array(M.getLength()-1);for(var T=0;T<y[w].length;T++){var R=T+j.getLength()-y[w].length;y[w][T]=R>=0?j.get(R):0}}for(var D=0,T=0;T<u.length;T++)D+=u[T].totalCount;for(var O=new Array(D),B=0,T=0;T<m;T++)for(var w=0;w<u.length;w++)T<v[w].length&&(O[B++]=v[w][T]);for(var T=0;T<p;T++)for(var w=0;w<u.length;w++)T<y[w].length&&(O[B++]=y[w][T]);return O},Yb=s,Yb}var Dy={},wR;function Qse(){if(wR)return Dy;wR=1,Object.defineProperty(Dy,"__esModule",{value:!0});var e=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(d[v]=p[v])}return d},t=qT(),r=s(t),n=fg(),a=s(n);function s(d){return d&&d.__esModule?d:{default:d}}function i(d,m){var p={};for(var v in d)m.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(d,v)&&(p[v]=d[v]);return p}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},u=(0,n.forwardRef)(function(d,m){var p=d.bgColor,v=d.bgD,y=d.fgD,w=d.fgColor,x=d.size,b=d.title,T=d.viewBoxSize,M=d.xmlns,k=M===void 0?"http://www.w3.org/2000/svg":M,j=i(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",e({},j,{height:x,ref:m,viewBox:"0 0 "+T+" "+T,width:x,xmlns:k}),b?a.default.createElement("title",null,b):null,a.default.createElement("path",{d:v,fill:p}),a.default.createElement("path",{d:y,fill:w}))});return u.displayName="QRCodeSvg",u.propTypes=l,Dy.default=u,Dy}var _R;function Jse(){if(_R)return wh;_R=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.QRCode=void 0;var e=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(x[M]=T[M])}return x},t=qT(),r=p(t),n=WL(),a=p(n),s=Yse(),i=p(s),l=fg(),u=p(l),d=Qse(),m=p(d);function p(x){return x&&x.__esModule?x:{default:x}}function v(x,b){var T={};for(var M in x)b.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(x,M)&&(T[M]=x[M]);return T}var y={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},w=(0,l.forwardRef)(function(x,b){var T=x.bgColor,M=T===void 0?"#FFFFFF":T,k=x.fgColor,j=k===void 0?"#000000":k,R=x.level,D=R===void 0?"L":R,O=x.size,B=O===void 0?256:O,V=x.value,ne=v(x,["bgColor","fgColor","level","size","value"]),ie=new i.default(-1,a.default[D]);ie.addData(V),ie.make();var Q=ie.modules;return u.default.createElement(m.default,e({},ne,{bgColor:M,bgD:Q.map(function(ve,G){return ve.map(function(fe,K){return fe?"":"M "+K+" "+G+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:j,fgD:Q.map(function(ve,G){return ve.map(function(fe,K){return fe?"M "+K+" "+G+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:b,size:B,viewBoxSize:Q.length}))});return wh.QRCode=w,w.displayName="QRCode",w.propTypes=y,wh.default=w,wh}var Zse=Jse();const eie=Tu(Zse);function tie({className:e}){const[t,r]=E.useState("disconnected"),[n,a]=E.useState(null),[s,i]=E.useState(!1),[l,u]=E.useState(null);E.useEffect(()=>{d();const w=window.electron.whatsapp.onQRCode(T=>{console.log("[WhatsApp] QR Code received"),a(T),r("qr"),i(!0)}),x=window.electron.whatsapp.onStatusChange(T=>{console.log("[WhatsApp] Status changed:",T),m(T)}),b=window.electron.whatsapp.onError(T=>{console.error("[WhatsApp] Error:",T),u(T.message),r("error")});return()=>{w(),x(),b()}},[]);const d=async()=>{try{(await window.electron.whatsapp.getStatus()).ready?r("connected"):r("disconnected")}catch(w){console.error("[WhatsApp] Failed to check status:",w),r("disconnected")}},m=w=>{switch(w){case"ready":r("connected"),i(!1),a(null);break;case"connecting":r("connecting");break;case"authenticated":r("connecting");break;case"disconnected":r("disconnected"),i(!1),a(null);break;default:console.log("[WhatsApp] Unknown status:",w)}},p=async()=>{try{r("connecting"),u(null);const w=await window.electron.whatsapp.connect();w.success||(u(w.error||"Failed to connect"),r("error"))}catch(w){console.error("[WhatsApp] Connection error:",w),u(w instanceof Error?w.message:"Unknown error"),r("error")}},v=async()=>{try{await window.electron.whatsapp.disconnect(),r("disconnected"),a(null)}catch(w){console.error("[WhatsApp] Disconnect error:",w)}},y=()=>{switch(t){case"connected":return f.jsxs(Br,{className:"bg-green-500 hover:bg-green-600 gap-1.5",children:[f.jsx(PF,{className:"h-3 w-3"}),f.jsx(tt,{id:"whatsapp.status.connected",defaultMessage:"Connected"})]});case"connecting":case"qr":return f.jsxs(Br,{className:"bg-yellow-500 hover:bg-yellow-600 gap-1.5",children:[f.jsx(Is,{className:"h-3 w-3 animate-spin"}),f.jsx(tt,{id:"whatsapp.status.connecting",defaultMessage:"Connecting"})]});case"error":return f.jsxs(Br,{variant:"destructive",className:"gap-1.5",children:[f.jsx(s0,{className:"h-3 w-3"}),f.jsx(tt,{id:"whatsapp.status.error",defaultMessage:"Error"})]});default:return f.jsxs(Br,{variant:"secondary",className:"gap-1.5",children:[f.jsx(s0,{className:"h-3 w-3"}),f.jsx(tt,{id:"whatsapp.status.disconnected",defaultMessage:"Disconnected"})]})}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flex items-center gap-3 ${e||""}`,children:[y(),t==="connected"?f.jsxs(xt,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[f.jsx(GQ,{className:"h-4 w-4"}),f.jsx(tt,{id:"whatsapp.button.disconnect",defaultMessage:"Disconnect"})]}):f.jsx(xt,{variant:"default",size:"sm",onClick:p,disabled:t==="connecting"||t==="qr",className:"gap-2",children:t==="connecting"||t==="qr"?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"h-4 w-4 animate-spin"}),f.jsx(tt,{id:"whatsapp.button.connecting",defaultMessage:"Connecting..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(vj,{className:"h-4 w-4"}),f.jsx(tt,{id:"whatsapp.button.connect",defaultMessage:"Connect to WhatsApp"})]})})]}),f.jsx(co,{open:s,onOpenChange:i,children:f.jsxs(uo,{className:"sm:max-w-md",children:[f.jsxs(fo,{children:[f.jsxs(ho,{className:"flex items-center gap-2",children:[f.jsx(vj,{className:"h-5 w-5"}),f.jsx(tt,{id:"whatsapp.qr.title",defaultMessage:"Scan QR Code"})]}),f.jsx(hu,{children:f.jsx(tt,{id:"whatsapp.qr.description",defaultMessage:"Open WhatsApp on your phone and scan this QR code to connect"})})]}),f.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[n?f.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:f.jsx(eie,{value:n,size:256,level:"H",className:"w-full h-auto"})}):f.jsx("div",{className:"w-64 h-64 flex items-center justify-center bg-gray-100 rounded-lg",children:f.jsx(Is,{className:"h-8 w-8 animate-spin text-gray-400"})}),f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-sm font-medium",children:f.jsx(tt,{id:"whatsapp.qr.steps.title",defaultMessage:"How to scan:"})}),f.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 text-left",children:[f.jsx("li",{children:f.jsx(tt,{id:"whatsapp.qr.steps.1",defaultMessage:"1. Open WhatsApp on your phone"})}),f.jsx("li",{children:f.jsx(tt,{id:"whatsapp.qr.steps.2",defaultMessage:"2. Tap Menu or Settings and select Linked Devices"})}),f.jsx("li",{children:f.jsx(tt,{id:"whatsapp.qr.steps.3",defaultMessage:"3. Tap Link a Device"})}),f.jsx("li",{children:f.jsx(tt,{id:"whatsapp.qr.steps.4",defaultMessage:"4. Point your phone at this screen to scan the QR code"})})]})]})]}),f.jsx("div",{className:"flex justify-end gap-2",children:f.jsx(xt,{variant:"outline",onClick:()=>{i(!1),v()},children:f.jsx(tt,{id:"common.button.cancel",defaultMessage:"Cancel"})})})]})}),l&&t==="error"&&f.jsxs("div",{className:"absolute top-full mt-2 right-0 bg-red-50 border border-red-200 rounded-lg p-3 shadow-lg max-w-sm z-50",children:[f.jsx("p",{className:"text-sm text-red-800",children:l}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>u(null),className:"mt-2 text-red-600 hover:text-red-700",children:f.jsx(tt,{id:"common.button.dismiss",defaultMessage:"Dismiss"})})]})]})}function rie({userName:e,onLogout:t}){const r=xo(),[n,a]=E.useState(!1),{masterUserId:s,isLoading:i}=bse(),l=Hs(),[u,d]=E.useState("loading"),[m,p]=E.useState(null),[v,y]=E.useState(null),[w,x]=E.useState(null),[b,T]=E.useState({totalContacts:0,totalTemplates:0,messagesSent:0,quotaRemaining:0,quotaLimit:0}),[M,k]=E.useState([]),j=E.useRef(null),R=E.useRef(null),D=E.useRef(!1),{authService:O,quotaService:B,paymentService:V}=oc();E.useEffect(()=>{!i&&s&&!D.current&&(D.current=!0,ne())},[i,s]);const ne=async()=>{try{ya.isDashboardInitialized()?d("ready"):d("loading");const H=s;if(!H)throw new Error("No master user ID available. Please log in again.");await ya.initializeAllServices(H),await new Sse().checkIfFirstTimeUser(H)?(d("first-time-sync"),await ie(H)):(d("ready"),await Q(),G(),ya.markDashboardInitialized())}catch(H){console.error("App initialization failed:",H),y(H.message||"Unexpected error during initialization"),d("error"),D.current=!1}},ie=async H=>{const L=new Ese(ya);try{await L.performInitialSync(H,Y=>p(Y)),await Q(),G(),d("ready")}catch(Y){console.error("Initial sync failed:",Y),y(Y.message||"Initial sync failed"),d("error")}},Q=async()=>{try{const H=await O.getCurrentUser();if(!H){console.warn("No authenticated user found");return}const[L,Y,Z,W]=await Promise.all([B.getQuota(H.id),ya.getHistoryService().getRecentActivity(5),ya.getContactService().getAllContacts(),ya.getTemplateService().getTemplates()]);L&&(x(L),ve(L.user_id)),T({totalContacts:Z.length,totalTemplates:W.length,messagesSent:(L==null?void 0:L.messages_used)||0,quotaRemaining:(L==null?void 0:L.remaining)||0,quotaLimit:(L==null?void 0:L.messages_limit)||0});const ue=Y.map(he=>({id:he.id,type:"send",description:he.template_name||l.formatMessage({id:"dashboard.activity.campaign",defaultMessage:"Message Campaign"}),time:new Date(he.created_at).toLocaleDateString(l.locale),status:he.status==="completed"?"success":he.status==="failed"?"failed":"pending"}));k(ue)}catch(H){console.error("Error initializing user data:",H)}},ve=H=>{j.current&&j.current.unsubscribe();const L=B.subscribeToQuotaUpdates(H,Y=>{x(Y),K(Y)});j.current=L},G=async()=>{R.current&&R.current.unsubscribe();try{const H=await V.subscribeToPaymentUpdates("all",L=>{L.status==="completed"&&(w!=null&&w.user_id)&&B.getQuota(w.user_id).then(Y=>{Y&&(x(Y),K(Y))})});R.current=H}catch(H){console.error("Failed to subscribe to payment updates:",H)}},fe=()=>{j.current&&j.current.unsubscribe(),R.current&&R.current.unsubscribe()},K=H=>{T(L=>({...L,quotaRemaining:H.remaining,quotaLimit:H.messages_limit}))},re=H=>{r(`/${H}`),a(!1)};E.useEffect(()=>()=>{fe()},[]);const le=w&&w.messages_limit>0?w.remaining/w.messages_limit*100:0,J=H=>H>=999999||(w==null?void 0:w.plan_type)==="pro"?"":H.toLocaleString();if(u==="first-time-sync")return f.jsx(Tse,{progress:m});if(u==="error")return f.jsxs("div",{className:"min-h-screen bg-red-50 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:f.jsx(tt,{id:"common.status.error",defaultMessage:"Initialization Failed"})}),f.jsx("p",{className:"text-red-600 mb-4",children:v}),f.jsx(xt,{onClick:ne,children:f.jsx(tt,{id:"common.button.try_again",defaultMessage:"Try Again"})})]});const Me=[{id:"contacts",label:l.formatMessage({id:"dashboard.menu.contacts",defaultMessage:"Contacts"}),icon:Oi,description:l.formatMessage({id:"dashboard.menu.contacts.desc",defaultMessage:"Manage your contacts"})},{id:"groups",label:l.formatMessage({id:"dashboard.menu.groups",defaultMessage:"Groups"}),icon:Oi,description:l.formatMessage({id:"dashboard.menu.groups.desc",defaultMessage:"Manage contact groups"})},{id:"templates",label:l.formatMessage({id:"dashboard.menu.templates",defaultMessage:"Templates"}),icon:Hl,description:l.formatMessage({id:"dashboard.menu.templates.desc",defaultMessage:"Create and manage templates"})},{id:"assets",label:l.formatMessage({id:"dashboard.menu.assets",defaultMessage:"Asset Files"}),icon:IF,description:l.formatMessage({id:"dashboard.menu.assets.desc",defaultMessage:"Upload and manage asset files"})},{id:"send",label:l.formatMessage({id:"dashboard.menu.send",defaultMessage:"Send Messages"}),icon:xd,description:l.formatMessage({id:"dashboard.menu.send.desc",defaultMessage:"Configure and send messages"})},{id:"history",label:l.formatMessage({id:"dashboard.menu.history",defaultMessage:"History"}),icon:Sg,description:l.formatMessage({id:"dashboard.menu.history.desc",defaultMessage:"View activity history"})},{id:"settings",label:l.formatMessage({id:"dashboard.menu.settings",defaultMessage:"Settings"}),icon:uT,description:l.formatMessage({id:"dashboard.menu.settings.desc",defaultMessage:"App settings"})}];return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f.jsxs("header",{className:"bg-white border-b p-4 flex items-center justify-between lg:hidden sticky top-0 z-20",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:f.jsx(xd,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"font-bold text-lg",children:f.jsx(tt,{id:"common.app.name",defaultMessage:"Xender-In"})})]}),f.jsx(xt,{variant:"ghost",size:"icon",onClick:()=>a(!n),children:n?f.jsx(so,{className:"h-6 w-6"}):f.jsx(AQ,{className:"h-6 w-6"})})]}),f.jsxs("div",{className:"flex flex-1 relative h-screen overflow-hidden",children:[f.jsx("aside",{className:`
            h-screen overflow-hidden fixed inset-y-0 left-0 z-10 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out
            ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          `,children:f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"p-6 hidden lg:flex items-center gap-2 border-b",children:[f.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:f.jsx(xd,{className:"w-5 h-5 text-white"})}),f.jsx("span",{className:"font-bold text-xl",children:f.jsx(tt,{id:"common.app.name",defaultMessage:"Xender-In"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:f.jsxs("nav",{className:"px-4 space-y-2",children:[f.jsxs(xt,{variant:"secondary",className:"w-full justify-start gap-3 bg-primary/10 text-primary hover:bg-primary/20",children:[f.jsx(OF,{className:"h-4 w-4"}),f.jsx(tt,{id:"dashboard.menu.dashboard",defaultMessage:"Dashboard"})]}),f.jsx("div",{className:"pt-4 pb-2",children:f.jsx("p",{className:"px-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:f.jsx(tt,{id:"dashboard.sidebar.management",defaultMessage:"Management"})})}),Me.map(H=>f.jsxs(xt,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>re(H.id),children:[f.jsx(H.icon,{className:"h-4 w-4"}),H.label]},H.id))]})}),f.jsx("div",{className:"p-2 border-t bg-gray-50",children:f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:f.jsx("span",{className:"font-semibold text-primary",children:e.charAt(0).toUpperCase()})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium truncate pl-3 pb-1",children:e}),f.jsx("div",{className:"flex items-center gap-1.5",children:f.jsxs(xt,{variant:"outline",className:"w-full justify-start gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:t,children:[f.jsx(TQ,{className:"h-4 w-4"}),f.jsx(tt,{id:"common.button.logout",defaultMessage:"Logout"})]})})]})]})})]})}),n&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-0 lg:hidden",onClick:()=>a(!1)}),f.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50/50 lg:ml-64",children:f.jsxs("div",{className:"max-w-7xl mx-auto p-4 lg:p-8 space-y-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:f.jsx(tt,{id:"dashboard.overview.title",defaultMessage:"Dashboard Overview"})}),f.jsx("p",{className:"text-muted-foreground",children:f.jsx(tt,{id:"dashboard.overview.subtitle",defaultMessage:"Welcome back! Here's what's happening with your campaigns."})})]}),f.jsx("div",{className:"flex items-center",children:f.jsx(tie,{})})]}),f.jsx(C0,{children:f.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[f.jsxs(vn,{children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:f.jsx(tt,{id:"dashboard.stats.contacts",defaultMessage:"Total Contacts"})}),f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[u==="loading"?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:b.totalContacts}),f.jsx("p",{className:"text-xs text-muted-foreground",children:f.jsx(tt,{id:"dashboard.stats.active_contacts",defaultMessage:"Active contacts"})})]})]}),f.jsxs(vn,{children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:f.jsx(tt,{id:"dashboard.stats.templates",defaultMessage:"Templates"})}),f.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[u==="loading"?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:b.totalTemplates}),f.jsx("p",{className:"text-xs text-muted-foreground",children:f.jsx(tt,{id:"dashboard.stats.active_templates",defaultMessage:"Active templates"})})]})]}),f.jsxs(vn,{children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:f.jsx(tt,{id:"dashboard.stats.messages",defaultMessage:"Messages Sent"})}),f.jsx(xd,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[u==="loading"?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:b.messagesSent}),f.jsx("p",{className:"text-xs text-muted-foreground",children:f.jsx(tt,{id:"dashboard.stats.this_month",defaultMessage:"This month"})})]})]}),f.jsxs(vn,{children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:f.jsx(tt,{id:"dashboard.stats.quota",defaultMessage:"Quota Usage"})}),f.jsx(HF,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[u==="loading"?f.jsx(Aa,{className:"h-8 w-20"}):f.jsxs("div",{className:"text-2xl font-bold",children:[J(b.quotaRemaining)," / ",J(b.quotaLimit)]}),f.jsx(Ig,{value:le,className:"h-2 mt-2"})]})]})]})}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[f.jsxs(vn,{className:"col-span-4",children:[f.jsxs(It,{children:[f.jsx(Lt,{children:f.jsx(tt,{id:"dashboard.activity.title",defaultMessage:"Recent Activity"})}),f.jsx(ln,{children:f.jsx(tt,{id:"dashboard.activity.subtitle",defaultMessage:"Your latest campaign and message activities"})})]}),f.jsx(Rt,{children:f.jsx("div",{className:"space-y-8",children:u==="loading"?Array.from({length:3}).map((H,L)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx(Aa,{className:"h-9 w-9 rounded-full"}),f.jsxs("div",{className:"ml-4 space-y-1",children:[f.jsx(Aa,{className:"h-4 w-48"}),f.jsx(Aa,{className:"h-3 w-24"})]}),f.jsx("div",{className:"ml-auto",children:f.jsx(Aa,{className:"h-6 w-16 rounded-full"})})]},L)):M.map(H=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`
                                w-9 h-9 rounded-full flex items-center justify-center border
                                ${H.type==="send"?"bg-blue-50 border-blue-200 text-blue-600":H.type==="template"?"bg-purple-50 border-purple-200 text-purple-600":"bg-green-50 border-green-200 text-green-600"}
                              `,children:H.type==="send"?f.jsx(xd,{className:"h-4 w-4"}):H.type==="template"?f.jsx(Hl,{className:"h-4 w-4"}):f.jsx(Oi,{className:"h-4 w-4"})}),f.jsxs("div",{className:"ml-4 space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:H.description}),f.jsx("p",{className:"text-sm text-muted-foreground",children:H.time})]}),f.jsx("div",{className:"ml-auto font-medium",children:H.status==="success"?f.jsx(Br,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:f.jsx(tt,{id:"common.status.success",defaultMessage:"Success"})}):f.jsx(Br,{variant:"secondary",children:f.jsx(tt,{id:"common.status.pending",defaultMessage:"Pending"})})})]},H.id))})})]}),f.jsxs(vn,{className:"col-span-3",children:[f.jsxs(It,{children:[f.jsx(Lt,{children:f.jsx(tt,{id:"dashboard.quick_actions.title",defaultMessage:"Quick Actions"})}),f.jsx(ln,{children:f.jsx(tt,{id:"dashboard.quick_actions.subtitle",defaultMessage:"Common tasks and shortcuts"})})]}),f.jsx(Rt,{className:"grid gap-4",children:Me.slice(0,4).map(H=>f.jsxs(xt,{variant:"outline",className:"h-auto py-4 justify-start gap-4",onClick:()=>re(H.id),children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:f.jsx(H.icon,{className:"h-5 w-5 text-primary"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold",children:H.label}),f.jsx("div",{className:"text-xs text-muted-foreground",children:H.description})]})]},H.id))})]})]})]})})]})]})}function Ul(e,t){if(console.error(`Service error in ${t}:`,e),e instanceof Error)return{message:e.message||"An unexpected error occurred",code:e.name,details:e};if(typeof e=="string")return{message:e,code:"STRING_ERROR"};if(e&&typeof e=="object"&&"status"in e){const r=e.status;switch(r){case 401:return{message:"Authentication failed. Please log in again.",code:"UNAUTHORIZED"};case 403:return{message:"You do not have permission to perform this action.",code:"FORBIDDEN"};case 404:return{message:"The requested resource was not found.",code:"NOT_FOUND"};case 500:return{message:"A server error occurred. Please try again later.",code:"SERVER_ERROR"};default:return{message:`Network error: ${r}`,code:"NETWORK_ERROR"}}}return{message:"An unexpected error occurred while processing your request.",code:"UNKNOWN_ERROR",details:e}}function M0({error:e,onRetry:t}){return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-md space-y-4",children:[f.jsxs(du,{variant:"destructive",children:[f.jsx(zd,{className:"h-4 w-4"}),f.jsx(LW,{children:"An Error Occurred"}),f.jsx(fu,{children:e})]}),f.jsx(xt,{onClick:t,className:"w-full",children:"Try Again"})]})})}var j1="Checkbox",[nie]=zi(j1),[aie,GT]=nie(j1);function sie(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:u,required:d,value:m="on",internal_do_not_use_render:p}=e,[v,y]=ec({prop:r,defaultProp:a??!1,onChange:u,caller:j1}),[w,x]=E.useState(null),[b,T]=E.useState(null),M=E.useRef(!1),k=w?!!i||!!w.closest("form"):!0,j={checked:v,disabled:s,setChecked:y,control:w,setControl:x,name:l,form:i,value:m,hasConsumerStoppedPropagationRef:M,required:d,defaultChecked:mu(a)?!1:a,isFormControl:k,bubbleInput:b,setBubbleInput:T};return f.jsx(aie,{scope:t,...j,children:iie(p)?p(j):n})}var QL="CheckboxTrigger",JL=E.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:u,required:d,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:w}=GT(QL,e),x=xr(a,m),b=E.useRef(u);return E.useEffect(()=>{const T=s==null?void 0:s.form;if(T){const M=()=>p(b.current);return T.addEventListener("reset",M),()=>T.removeEventListener("reset",M)}},[s,p]),f.jsx(Wt.button,{type:"button",role:"checkbox","aria-checked":mu(u)?"mixed":u,"aria-required":d,"data-state":a5(u),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:x,onKeyDown:yt(t,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:yt(r,T=>{p(M=>mu(M)?!0:!M),w&&y&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})})});JL.displayName=QL;var ZL=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:u,onCheckedChange:d,form:m,...p}=e;return f.jsx(sie,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:d,name:n,form:m,value:u,internal_do_not_use_render:({isFormControl:v})=>f.jsxs(f.Fragment,{children:[f.jsx(JL,{...p,ref:t,__scopeCheckbox:r}),v&&f.jsx(n5,{__scopeCheckbox:r})]})})});ZL.displayName=j1;var e5="CheckboxIndicator",t5=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=GT(e5,r);return f.jsx(wo,{present:n||mu(s.checked)||s.checked===!0,children:f.jsx(Wt.span,{"data-state":a5(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});t5.displayName=e5;var r5="CheckboxBubbleInput",n5=E.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:u,name:d,value:m,form:p,bubbleInput:v,setBubbleInput:y}=GT(r5,e),w=xr(r,y),x=FT(s),b=bT(n);E.useEffect(()=>{const M=v;if(!M)return;const k=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(k,"checked").set,D=!a.current;if(x!==s&&R){const O=new Event("click",{bubbles:D});M.indeterminate=mu(s),R.call(M,mu(s)?!1:s),M.dispatchEvent(O)}},[v,x,s,a]);const T=E.useRef(mu(s)?!1:s);return f.jsx(Wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??T.current,required:l,disabled:u,name:d,value:m,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});n5.displayName=r5;function iie(e){return typeof e=="function"}function mu(e){return e==="indeterminate"}function a5(e){return mu(e)?"indeterminate":e?"checked":"unchecked"}function E2({className:e,...t}){return f.jsx(ZL,{"data-slot":"checkbox",className:jt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(t5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:f.jsx(kd,{className:"size-3.5"})})})}function zp({className:e,...t}){return f.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:f.jsx("table",{"data-slot":"table",className:jt("w-full caption-bottom text-sm",e),...t})})}function Vp({className:e,...t}){return f.jsx("thead",{"data-slot":"table-header",className:jt("[&_tr]:border-b",e),...t})}function Hp({className:e,...t}){return f.jsx("tbody",{"data-slot":"table-body",className:jt("[&_tr:last-child]:border-0",e),...t})}function Di({className:e,...t}){return f.jsx("tr",{"data-slot":"table-row",className:jt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function an({className:e,...t}){return f.jsx("th",{"data-slot":"table-head",className:jt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function kr({className:e,...t}){return f.jsx("td",{"data-slot":"table-cell",className:jt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var oie=Symbol("radix.slottable");function lie(e){const t=({children:r})=>f.jsx(f.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=oie,t}var s5="AlertDialog",[cie]=zi(s5,[SL]),lc=SL(),i5=e=>{const{__scopeAlertDialog:t,...r}=e,n=lc(t);return f.jsx(BL,{...n,...r,modal:!0})};i5.displayName=s5;var uie="AlertDialogTrigger",o5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=lc(r);return f.jsx(UL,{...a,...n,ref:t})});o5.displayName=uie;var die="AlertDialogPortal",l5=e=>{const{__scopeAlertDialog:t,...r}=e,n=lc(t);return f.jsx(zL,{...n,...r})};l5.displayName=die;var fie="AlertDialogOverlay",c5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=lc(r);return f.jsx(VL,{...a,...n,ref:t})});c5.displayName=fie;var Uh="AlertDialogContent",[hie,mie]=cie(Uh),pie=lie("AlertDialogContent"),u5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=lc(r),i=E.useRef(null),l=xr(t,i),u=E.useRef(null);return f.jsx(Lse,{contentName:Uh,titleName:d5,docsSlug:"alert-dialog",children:f.jsx(hie,{scope:r,cancelRef:u,children:f.jsxs(HL,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:yt(a.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=u.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[f.jsx(pie,{children:n}),f.jsx(vie,{contentRef:i})]})})})});u5.displayName=Uh;var d5="AlertDialogTitle",f5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=lc(r);return f.jsx($L,{...a,...n,ref:t})});f5.displayName=d5;var h5="AlertDialogDescription",m5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=lc(r);return f.jsx(qL,{...a,...n,ref:t})});m5.displayName=h5;var gie="AlertDialogAction",p5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=lc(r);return f.jsx($T,{...a,...n,ref:t})});p5.displayName=gie;var g5="AlertDialogCancel",v5=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=mie(g5,r),s=lc(r),i=xr(t,a);return f.jsx($T,{...s,...n,ref:i})});v5.displayName=g5;var vie=({contentRef:e})=>{const t=`\`${Uh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Uh}\` by passing a \`${h5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Uh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},yie=i5,xie=o5,wie=l5,_ie=c5,bie=u5,Sie=p5,Eie=v5,Tie=f5,kie=m5;function N0({...e}){return f.jsx(yie,{"data-slot":"alert-dialog",...e})}function Cie({...e}){return f.jsx(xie,{"data-slot":"alert-dialog-trigger",...e})}function Aie({...e}){return f.jsx(wie,{"data-slot":"alert-dialog-portal",...e})}function Mie({className:e,...t}){return f.jsx(_ie,{"data-slot":"alert-dialog-overlay",className:jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function j0({className:e,...t}){return f.jsxs(Aie,{children:[f.jsx(Mie,{}),f.jsx(bie,{"data-slot":"alert-dialog-content",className:jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function R0({className:e,...t}){return f.jsx("div",{"data-slot":"alert-dialog-header",className:jt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function O0({className:e,...t}){return f.jsx("div",{"data-slot":"alert-dialog-footer",className:jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function D0({className:e,...t}){return f.jsx(Tie,{"data-slot":"alert-dialog-title",className:jt("text-lg font-semibold",e),...t})}function P0({className:e,...t}){return f.jsx(kie,{"data-slot":"alert-dialog-description",className:jt("text-muted-foreground text-sm",e),...t})}function nf({className:e,...t}){return f.jsx(Sie,{className:jt(JE(),e),...t})}function F0({className:e,...t}){return f.jsx(Eie,{className:jt(JE({variant:"outline"}),e),...t})}function Nie({isOpen:e,onClose:t,onSave:r,mode:n,contact:a,groups:s,contactService:i,onNotification:l}){const[u,d]=E.useState(!1),[m,p]=E.useState({name:"",phone:"",group_id:"",tags:[]}),[v,y]=E.useState(""),w=E.useMemo(()=>s,[s.length]);E.useEffect(()=>{e&&(p(n==="edit"&&a?{name:a.name,phone:a.phone,group_id:a.group_id,tags:a.tags||[]}:{name:"",phone:"",group_id:w.length>0?w[0].id:"",tags:[]}),y(""))},[e,n,a,w]);const x=(D,O)=>{p(B=>({...B,[D]:O}))},b=()=>{v.trim()&&!m.tags.includes(v.trim())&&(p(D=>({...D,tags:[...D.tags,v.trim()]})),y(""))},T=D=>{p(O=>({...O,tags:O.tags.filter(B=>B!==D)}))},M=D=>{D.key==="Enter"&&v.trim()&&(D.preventDefault(),b())},k=()=>m.name.trim()?m.phone.trim()?m.group_id?/^(\+62|62|0)[0-9]{9,13}$/.test(m.phone.replace(/\s+/g,""))?!0:(l({message:"Please enter a valid Indonesian phone number",type:"error"}),!1):(l({message:"Please select a group",type:"error"}),!1):(l({message:"Phone number is required",type:"error"}),!1):(l({message:"Name is required",type:"error"}),!1),j=async()=>{if(k()){d(!0);try{let D=null;if(n==="add"){const O=await i.createContact({name:m.name.trim(),phone:m.phone.trim(),group_id:m.group_id,tags:m.tags,is_blocked:!1});D=O,l({message:`${O.name} has been added successfully.`,type:"success"})}else if(n==="edit"&&a){const O=await i.updateContact(a.id,{name:m.name.trim(),phone:m.phone.trim(),group_id:m.group_id,tags:m.tags});D=O,O&&l({message:`${O.name} has been updated successfully.`,type:"success"})}D&&(r(D),t())}catch(D){console.error("Error saving contact:",D),l({message:`Failed to ${n} contact. Please try again.`,type:"error"})}finally{d(!1)}}},R=()=>{u||t()};return f.jsx(co,{open:e,onOpenChange:R,children:f.jsxs(uo,{className:"sm:max-w-[425px]",children:[f.jsx(fo,{children:f.jsx(ho,{children:n==="add"?"Add New Contact":"Edit Contact"})}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"name",children:"Name *"}),f.jsx(Cr,{id:"name",placeholder:"Enter contact name",value:m.name,onChange:D=>x("name",D.target.value),disabled:u})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"phone",children:"Phone Number *"}),f.jsx(Cr,{id:"phone",placeholder:"e.g. +62812345678",value:m.phone,onChange:D=>x("phone",D.target.value),disabled:u})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"group",children:"Group *"}),f.jsxs(Hd,{value:m.group_id,onValueChange:D=>x("group_id",D),disabled:u||w.length===0,children:[f.jsx(qd,{children:f.jsx($d,{placeholder:"Select a group"})}),f.jsx(Gd,{children:w.map(D=>f.jsx(as,{value:D.id,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:D.color}}),D.name]})},D.id))})]}),w.length===0&&f.jsx("p",{className:"text-sm text-muted-foreground",children:"No groups available. Please create a group first."})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"tags",children:"Tags"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Cr,{id:"tags",placeholder:"Add tag",value:v,onChange:D=>y(D.target.value),onKeyPress:M,disabled:u}),f.jsx(xt,{type:"button",variant:"outline",onClick:b,disabled:u||!v.trim(),children:"Add"})]}),m.tags.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:m.tags.map(D=>f.jsxs(Br,{variant:"secondary",className:"flex items-center gap-1",children:[D,f.jsx(so,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>!u&&T(D)})]},D))})]})]}),f.jsxs(vp,{children:[f.jsx(xt,{variant:"outline",onClick:R,disabled:u,children:"Cancel"}),f.jsx(xt,{onClick:j,disabled:u||w.length===0,children:u?n==="add"?"Adding...":"Updating...":n==="add"?"Add Contact":"Update Contact"})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ix={};Ix.version="0.18.5";var y5=1252,jie=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WT={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},KT=function(e){jie.indexOf(e)!=-1&&(y5=WT[0]=e)};function Rie(){KT(1252)}var io=function(e){KT(e)};function XT(){io(1200),Rie()}function bR(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Oie(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function x5(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Zm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Oie(e.slice(2)):t==254&&r==255?x5(e.slice(2)):t==65279?e.slice(1):e},Py=function(t){return String.fromCharCode(t)},SR=function(t){return String.fromCharCode(t)},$p,cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qp(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,u=0,d=0;d<e.length;)r=e.charCodeAt(d++),s=r>>2,n=e.charCodeAt(d++),i=(r&3)<<4|n>>4,a=e.charCodeAt(d++),l=(n&15)<<2|a>>6,u=a&63,isNaN(n)?l=u=64:isNaN(a)&&(u=64),t+=cu.charAt(s)+cu.charAt(i)+cu.charAt(l)+cu.charAt(u);return t}function oi(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)s=cu.indexOf(e.charAt(d++)),i=cu.indexOf(e.charAt(d++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=cu.indexOf(e.charAt(d++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),u=cu.indexOf(e.charAt(d++)),a=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var yr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),cc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function wu(e){return yr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ER(e){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ai=function(t){return yr?cc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function R1(e){if(typeof ArrayBuffer>"u")return ai(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Ru(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Die(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function YT(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return YT(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Na=yr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:cc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Pie(e){for(var t=[],r=0,n=e.length+250,a=wu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=wu(65535),n=65530)}return t.push(a.slice(0,r)),Na(t)}var bs=/\u0000/g,ep=/[\u0001-\u0006]/g;function zh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function oo(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}function QT(e,t){var r=""+e;return r.length>=t?r:Gn(" ",t-r.length)+r}function Lx(e,t){var r=""+e;return r.length>=t?r:r+Gn(" ",t-r.length)}function Fie(e,t){var r=""+Math.round(e);return r.length>=t?r:Gn("0",t-r.length)+r}function Iie(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}var TR=Math.pow(2,32);function _h(e,t){if(e>TR||e<-TR)return Fie(e,t);var r=Math.round(e);return Iie(r,t)}function Bx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var kR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Qb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lie(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Qt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},CR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Bie={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ux(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,u=1,d=0,m=0,p=Math.floor(a);d<t&&(p=Math.floor(a),l=p*i+s,m=p*d+u,!(a-p<5e-8));)a=1/(a-p),s=i,i=l,u=d,d=m;if(m>t&&(d>t?(m=u,l=s):(m=d,l=i)),!r)return[0,n*l,m];var v=Math.floor(n*l/m);return[v,n*l-v*m,m]}function Ad(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),i=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),n<60&&(s=(s+6)%7),r&&(s=qie(u,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var w5=new Date(1899,11,31,0,0,0),Uie=w5.getTime(),zie=new Date(1900,2,1,0,0,0);function _5(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=zie&&(r+=1440*60*1e3),(r-(Uie+(e.getTimezoneOffset()-w5.getTimezoneOffset())*6e4))/(1440*60*1e3)}function JT(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vie(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Hie(e){var t=e<0?12:11,r=JT(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function $ie(e){var t=JT(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Gp(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Hie(e):t===10?r=e.toFixed(10).substr(0,12):r=$ie(e),JT(Vie(r.toUpperCase()))}function af(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Gp(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bi(14,_5(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function qie(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Gie(e,t,r,n){var a="",s=0,i=0,l=r.y,u,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,d=2;break;default:u=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,d=t.length;break;case 3:return Qb[r.m-1][1];case 5:return Qb[r.m-1][0];default:return Qb[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,d=t.length;break;case 3:return kR[r.q][0];default:return kR[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?oo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=oo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:u=l,d=1;break}var m=d>0?oo(u,d):"";return m}function uu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var b5=/%/g;function Wie(e,t,r){var n=t.replace(b5,""),a=t.length-n.length;return $l(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function Kie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return $l(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function S5(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+S5(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,d,m){return u+d+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var E5=/# (\?+)( ?)\/( ?)(\d+)/;function Xie(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?Gn(" ",e[1].length+1+e[4].length):QT(i,e[1].length)+e[2]+"/"+e[3]+oo(l,e[4].length))}function Yie(e,t,r){return r+(t===0?"":""+t)+Gn(" ",e[1].length+2+e[4].length)}var T5=/^#*0*\.([0#]+)/,k5=/\).*[0#]/,C5=/\(###\) ###\\?-####/;function vs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function AR(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function MR(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Qie(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Jie(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function bi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(k5)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?bi("n",n,r):"("+bi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Kie(e,t,r);if(t.indexOf("%")!==-1)return Wie(e,t,r);if(t.indexOf("E")!==-1)return S5(t,r);if(t.charCodeAt(0)===36)return"$"+bi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+_h(u,t.length);if(t.match(/^[#?]+$/))return a=_h(r,0),a==="0"&&(a=""),a.length>t.length?a:vs(t.substr(0,t.length-a.length))+a;if(s=t.match(E5))return Xie(s,u,d);if(t.match(/^#+0+$/))return d+_h(u,t.length-t.indexOf("0"));if(s=t.match(T5))return a=AR(r,s[1].length).replace(/^([^\.]+)$/,"$1."+vs(s[1])).replace(/\.$/,"."+vs(s[1])).replace(/\.(\d*)$/,function(w,x){return"."+x+Gn("0",vs(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+AR(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+uu(_h(u,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+bi(e,t,-r):uu(""+(Math.floor(r)+Qie(r,s[1].length)))+"."+oo(MR(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return bi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=zh(bi(e,t.replace(/[\\-]/g,""),r)),i=0,zh(zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<a.length?a.charAt(i++):w==="0"?"0":""}));if(t.match(C5))return a=bi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Ux(u,Math.pow(10,i)-1,!1),a=""+d,m=$l("n",s[1],l[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=Lx(l[2],i),m.length<s[4].length&&(m=vs(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Ux(u,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?QT(l[1],i)+s[2]+"/"+s[3]+Lx(l[2],i):Gn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=_h(r,0),t.length<=a.length?a:vs(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var p=t.indexOf(".")-i,v=t.length-a.length-p;return vs(t.substr(0,p)+a+t.substr(t.length-v))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=MR(r,s[1].length),r<0?"-"+bi(e,t,-r):uu(Jie(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?oo(0,3-w.length):"")+w})+"."+oo(i,s[1].length);switch(t){case"###,##0.00":return bi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=uu(_h(u,0));return y!=="0"?d+y:"";case"###,###.00":return bi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return bi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zie(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return $l(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function eoe(e,t,r){var n=t.replace(b5,""),a=t.length-n.length;return $l(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function A5(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+A5(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,d,m){return u+d+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(k5)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fo("n",n,r):"("+Fo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zie(e,t,r);if(t.indexOf("%")!==-1)return eoe(e,t,r);if(t.indexOf("E")!==-1)return A5(t,r);if(t.charCodeAt(0)===36)return"$"+Fo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+oo(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:vs(t.substr(0,t.length-a.length))+a;if(s=t.match(E5))return Yie(s,u,d);if(t.match(/^#+0+$/))return d+oo(u,t.length-t.indexOf("0"));if(s=t.match(T5))return a=(""+r).replace(/^([^\.]+)$/,"$1."+vs(s[1])).replace(/\.$/,"."+vs(s[1])),a=a.replace(/\.(\d*)$/,function(w,x){return"."+x+Gn("0",vs(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+uu(""+u);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fo(e,t,-r):uu(""+r)+"."+Gn("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Fo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=zh(Fo(e,t.replace(/[\\-]/g,""),r)),i=0,zh(zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(w){return i<a.length?a.charAt(i++):w==="0"?"0":""}));if(t.match(C5))return a=Fo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Ux(u,Math.pow(10,i)-1,!1),a=""+d,m=$l("n",s[1],l[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=Lx(l[2],i),m.length<s[4].length&&(m=vs(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Ux(u,Math.pow(10,i)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?QT(l[1],i)+s[2]+"/"+s[3]+Lx(l[2],i):Gn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:vs(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var p=t.indexOf(".")-i,v=t.length-a.length-p;return vs(t.substr(0,p)+a+t.substr(t.length-v))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fo(e,t,-r):uu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?oo(0,3-w.length):"")+w})+"."+oo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=uu(""+u);return y!=="0"?d+y:"";default:if(t.match(/\.[0#?]*$/))return Fo(e,t.slice(0,t.lastIndexOf(".")),r)+vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function $l(e,t,r){return(r|0)===r?Fo(e,t,r):bi(e,t,r)}function toe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var M5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function I0(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Bx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(M5))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function roe(e,t,r,n){for(var a=[],s="",i=0,l="",u="t",d,m,p,v="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!Bx(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(p=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(p);a[a.length]={t:"t",v:s},++i;break;case"\\":var y=e.charAt(++i),w=y==="("||y===")"?y:"t";a[a.length]={t:w,v:y},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(d==null&&(d=Ad(t,r,e.charAt(i+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},u=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Ad(t,r),d==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=v),a[a.length]={t:l,v:s},u=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=Ad(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",v="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",i+=5,v="h"):e.substr(i,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",i+=5,v="h"):(x.t="t",++i),d==null&&x.t==="T")return"";a[a.length]=x,u=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(M5)){if(d==null&&(d=Ad(t,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",I0(e)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},u=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var b=0,T=0,M;for(i=a.length-1,u="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=v,u="h",b<1&&(b=1);break;case"s":(M=a[i].v.match(/\.0+$/))&&(T=Math.max(T,M[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":u=a[i].t;break;case"m":u==="s"&&(a[i].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[i].v.match(/[Hh]/)&&(b=1),b<2&&a[i].v.match(/[Mm]/)&&(b=2),b<3&&a[i].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var k="",j;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Gie(a[i].t.charCodeAt(0),a[i].v,d,T),a[i].t="t";break;case"n":case"?":for(j=i+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[i].v+=a[j].v,a[j]={v:"",t:";"},++j;k+=a[i].v,i=j-1;break;case"G":a[i].t="t",a[i].v=af(t,r);break}var R="",D,O;if(k.length>0){k.charCodeAt(0)==40?(D=t<0&&k.charCodeAt(0)===45?-t:t,O=$l("n",k,D)):(D=t<0&&n>1?-t:t,O=$l("n",k,D),D<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),j=O.length-1;var B=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){B=i;break}var V=a.length;if(B===a.length&&O.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(j>=a[i].v.length-1?(j-=a[i].v.length,a[i].v=O.substr(j+1,a[i].v.length)):j<0?a[i].v="":(a[i].v=O.substr(0,j+1),j=-1),a[i].t="t",V=i);j>=0&&V<a.length&&(a[V].v=O.substr(0,j+1)+a[V].v)}else if(B!==a.length&&O.indexOf("E")===-1){for(j=O.indexOf(".")-1,i=B;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(m=a[i].v.indexOf(".")>-1&&i===B?a[i].v.indexOf(".")-1:a[i].v.length-1,R=a[i].v.substr(m+1);m>=0;--m)j>=0&&(a[i].v.charAt(m)==="0"||a[i].v.charAt(m)==="#")&&(R=O.charAt(j--)+R);a[i].v=R,a[i].t="t",V=i}for(j>=0&&V<a.length&&(a[V].v=O.substr(0,j+1)+a[V].v),j=O.indexOf(".")+1,i=B;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==B)){for(m=a[i].v.indexOf(".")>-1&&i===B?a[i].v.indexOf(".")+1:0,R=a[i].v.substr(0,m);m<a[i].v.length;++m)j<O.length&&(R+=O.charAt(j++));a[i].v=R,a[i].t="t",V=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(D=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=$l(a[i].t,a[i].v,D),a[i].t="t");var ne="";for(i=0;i!==a.length;++i)a[i]!=null&&(ne+=a[i].v);return ne}var NR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function jR(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function noe(e,t){var r=toe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(NR),l=r[1].match(NR);return jR(t,i)?[n,r[0]]:jR(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Bi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qt)[e],n==null&&(n=r.table&&r.table[CR[e]]||Qt[CR[e]]),n==null&&(n=Bie[e]||"General");break}if(Bx(n,0))return af(t,r);t instanceof Date&&(t=_5(t,r.date1904));var a=noe(n,t);if(Bx(a[1]))return af(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return roe(a[1],t,r,a[0])}function ql(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Qt[r]==null){t<0&&(t=r);continue}if(Qt[r]==e){t=r;break}}t<0&&(t=391)}return Qt[t]=e,t}function O1(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ql(e[t],t)}function L0(){Qt=Lie()}var aoe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},N5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function soe(e){var t=typeof e=="number"?Qt[e]:e;return t=t.replace(N5,"(\\d+)"),new RegExp("^"+t+"$")}function ioe(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,u=-1;(t.match(N5)||[]).forEach(function(p,v){var y=parseInt(r[v+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":s=y;break;case"h":i=y;break;case"s":u=y;break;case"m":i>=0?l=y:a=y;break}}),u>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var m=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return i==-1&&l==-1&&u==-1?d:n==-1&&a==-1&&s==-1?m:d+"T"+m}var ooe=(function(){var e={};e.version="1.2.0";function t(){for(var O=0,B=new Array(256),V=0;V!=256;++V)O=V,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,B[V]=O;return typeof Int32Array<"u"?new Int32Array(B):B}var r=t();function n(O){var B=0,V=0,ne=0,ie=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ne=0;ne!=256;++ne)ie[ne]=O[ne];for(ne=0;ne!=256;++ne)for(V=O[ne],B=256+ne;B<4096;B+=256)V=ie[B]=V>>>8^O[V&255];var Q=[];for(ne=1;ne!=16;++ne)Q[ne-1]=typeof Int32Array<"u"?ie.subarray(ne*256,ne*256+256):ie.slice(ne*256,ne*256+256);return Q}var a=n(r),s=a[0],i=a[1],l=a[2],u=a[3],d=a[4],m=a[5],p=a[6],v=a[7],y=a[8],w=a[9],x=a[10],b=a[11],T=a[12],M=a[13],k=a[14];function j(O,B){for(var V=B^-1,ne=0,ie=O.length;ne<ie;)V=V>>>8^r[(V^O.charCodeAt(ne++))&255];return~V}function R(O,B){for(var V=B^-1,ne=O.length-15,ie=0;ie<ne;)V=k[O[ie++]^V&255]^M[O[ie++]^V>>8&255]^T[O[ie++]^V>>16&255]^b[O[ie++]^V>>>24]^x[O[ie++]]^w[O[ie++]]^y[O[ie++]]^v[O[ie++]]^p[O[ie++]]^m[O[ie++]]^d[O[ie++]]^u[O[ie++]]^l[O[ie++]]^i[O[ie++]]^s[O[ie++]]^r[O[ie++]];for(ne+=15;ie<ne;)V=V>>>8^r[(V^O[ie++])&255];return~V}function D(O,B){for(var V=B^-1,ne=0,ie=O.length,Q=0,ve=0;ne<ie;)Q=O.charCodeAt(ne++),Q<128?V=V>>>8^r[(V^Q)&255]:Q<2048?(V=V>>>8^r[(V^(192|Q>>6&31))&255],V=V>>>8^r[(V^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,ve=O.charCodeAt(ne++)&1023,V=V>>>8^r[(V^(240|Q>>8&7))&255],V=V>>>8^r[(V^(128|Q>>2&63))&255],V=V>>>8^r[(V^(128|ve>>6&15|(Q&3)<<4))&255],V=V>>>8^r[(V^(128|ve&63))&255]):(V=V>>>8^r[(V^(224|Q>>12&15))&255],V=V>>>8^r[(V^(128|Q>>6&63))&255],V=V>>>8^r[(V^(128|Q&63))&255]);return~V}return e.table=r,e.bstr=j,e.buf=R,e.str=D,e})(),$t=(function(){var t={};t.version="1.2.1";function r(z,oe){for(var te=z.split("/"),ee=oe.split("/"),se=0,ce=0,Oe=Math.min(te.length,ee.length);se<Oe;++se){if(ce=te[se].length-ee[se].length)return ce;if(te[se]!=ee[se])return te[se]<ee[se]?-1:1}return te.length-ee.length}function n(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:n(z.slice(0,-1));var oe=z.lastIndexOf("/");return oe===-1?z:z.slice(0,oe+1)}function a(z){if(z.charAt(z.length-1)=="/")return a(z.slice(0,-1));var oe=z.lastIndexOf("/");return oe===-1?z:z.slice(oe+1)}function s(z,oe){typeof oe=="string"&&(oe=new Date(oe));var te=oe.getHours();te=te<<6|oe.getMinutes(),te=te<<5|oe.getSeconds()>>>1,z.write_shift(2,te);var ee=oe.getFullYear()-1980;ee=ee<<4|oe.getMonth()+1,ee=ee<<5|oe.getDate(),z.write_shift(2,ee)}function i(z){var oe=z.read_shift(2)&65535,te=z.read_shift(2)&65535,ee=new Date,se=te&31;te>>>=5;var ce=te&15;te>>>=4,ee.setMilliseconds(0),ee.setFullYear(te+1980),ee.setMonth(ce-1),ee.setDate(se);var Oe=oe&31;oe>>>=5;var qe=oe&63;return oe>>>=6,ee.setHours(oe),ee.setMinutes(qe),ee.setSeconds(Oe<<1),ee}function l(z){Va(z,0);for(var oe={},te=0;z.l<=z.length-4;){var ee=z.read_shift(2),se=z.read_shift(2),ce=z.l+se,Oe={};switch(ee){case 21589:te=z.read_shift(1),te&1&&(Oe.mtime=z.read_shift(4)),se>5&&(te&2&&(Oe.atime=z.read_shift(4)),te&4&&(Oe.ctime=z.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}z.l=ce,oe[ee]=Oe}return oe}var u;function d(){return u||(u={})}function m(z,oe){if(z[0]==80&&z[1]==75)return mt(z,oe);if((z[0]|32)==109&&(z[1]|32)==105)return Es(z,oe);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var te=3,ee=512,se=0,ce=0,Oe=0,qe=0,je=0,Ie=[],De=z.slice(0,512);Va(De,0);var et=p(De);switch(te=et[0],te){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(et[1]==0)return mt(z,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ee!==512&&(De=z.slice(0,ee),Va(De,28));var ot=z.slice(0,ee);v(De,te);var rt=De.read_shift(4,"i");if(te===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);De.l+=4,Oe=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),qe=De.read_shift(4,"i"),se=De.read_shift(4,"i"),je=De.read_shift(4,"i"),ce=De.read_shift(4,"i");for(var Ze=-1,ct=0;ct<109&&(Ze=De.read_shift(4,"i"),!(Ze<0));++ct)Ie[ct]=Ze;var kt=y(z,ee);b(je,ce,kt,ee,Ie);var Lr=M(kt,Oe,Ie,ee);Lr[Oe].name="!Directory",se>0&&qe!==ve&&(Lr[qe].name="!MiniFAT"),Lr[Ie[0]].name="!FAT",Lr.fat_addrs=Ie,Lr.ssz=ee;var Wr={},un=[],Ka=[],cs=[];k(Oe,Lr,kt,un,se,Wr,Ka,qe),w(Ka,cs,un),un.shift();var qi={FileIndex:Ka,FullPaths:cs};return oe&&oe.raw&&(qi.raw={header:ot,sectors:kt}),qi}function p(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(G,"Header Signature: "),z.l+=16;var oe=z.read_shift(2,"u");return[z.read_shift(2,"u"),oe]}function v(z,oe){var te=9;switch(z.l+=2,te=z.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function y(z,oe){for(var te=Math.ceil(z.length/oe)-1,ee=[],se=1;se<te;++se)ee[se-1]=z.slice(se*oe,(se+1)*oe);return ee[te-1]=z.slice(te*oe),ee}function w(z,oe,te){for(var ee=0,se=0,ce=0,Oe=0,qe=0,je=te.length,Ie=[],De=[];ee<je;++ee)Ie[ee]=De[ee]=ee,oe[ee]=te[ee];for(;qe<De.length;++qe)ee=De[qe],se=z[ee].L,ce=z[ee].R,Oe=z[ee].C,Ie[ee]===ee&&(se!==-1&&Ie[se]!==se&&(Ie[ee]=Ie[se]),ce!==-1&&Ie[ce]!==ce&&(Ie[ee]=Ie[ce])),Oe!==-1&&(Ie[Oe]=ee),se!==-1&&ee!=Ie[ee]&&(Ie[se]=Ie[ee],De.lastIndexOf(se)<qe&&De.push(se)),ce!==-1&&ee!=Ie[ee]&&(Ie[ce]=Ie[ee],De.lastIndexOf(ce)<qe&&De.push(ce));for(ee=1;ee<je;++ee)Ie[ee]===ee&&(ce!==-1&&Ie[ce]!==ce?Ie[ee]=Ie[ce]:se!==-1&&Ie[se]!==se&&(Ie[ee]=Ie[se]));for(ee=1;ee<je;++ee)if(z[ee].type!==0){if(qe=ee,qe!=Ie[qe])do qe=Ie[qe],oe[ee]=oe[qe]+"/"+oe[ee];while(qe!==0&&Ie[qe]!==-1&&qe!=Ie[qe]);Ie[ee]=-1}for(oe[0]+="/",ee=1;ee<je;++ee)z[ee].type!==2&&(oe[ee]+="/")}function x(z,oe,te){for(var ee=z.start,se=z.size,ce=[],Oe=ee;te&&se>0&&Oe>=0;)ce.push(oe.slice(Oe*Q,Oe*Q+Q)),se-=Q,Oe=wd(te,Oe*4);return ce.length===0?$e(0):Na(ce).slice(0,z.size)}function b(z,oe,te,ee,se){var ce=ve;if(z===ve){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var Oe=te[z],qe=(ee>>>2)-1;if(!Oe)return;for(var je=0;je<qe&&(ce=wd(Oe,je*4))!==ve;++je)se.push(ce);b(wd(Oe,ee-4),oe-1,te,ee,se)}}function T(z,oe,te,ee,se){var ce=[],Oe=[];se||(se=[]);var qe=ee-1,je=0,Ie=0;for(je=oe;je>=0;){se[je]=!0,ce[ce.length]=je,Oe.push(z[je]);var De=te[Math.floor(je*4/ee)];if(Ie=je*4&qe,ee<4+Ie)throw new Error("FAT boundary crossed: "+je+" 4 "+ee);if(!z[De])break;je=wd(z[De],Ie)}return{nodes:ce,data:HR([Oe])}}function M(z,oe,te,ee){var se=z.length,ce=[],Oe=[],qe=[],je=[],Ie=ee-1,De=0,et=0,ot=0,rt=0;for(De=0;De<se;++De)if(qe=[],ot=De+oe,ot>=se&&(ot-=se),!Oe[ot]){je=[];var Ze=[];for(et=ot;et>=0;){Ze[et]=!0,Oe[et]=!0,qe[qe.length]=et,je.push(z[et]);var ct=te[Math.floor(et*4/ee)];if(rt=et*4&Ie,ee<4+rt)throw new Error("FAT boundary crossed: "+et+" 4 "+ee);if(!z[ct]||(et=wd(z[ct],rt),Ze[et]))break}ce[ot]={nodes:qe,data:HR([je])}}return ce}function k(z,oe,te,ee,se,ce,Oe,qe){for(var je=0,Ie=ee.length?2:0,De=oe[z].data,et=0,ot=0,rt;et<De.length;et+=128){var Ze=De.slice(et,et+128);Va(Ze,64),ot=Ze.read_shift(2),rt=sk(Ze,0,ot-Ie),ee.push(rt);var ct={name:rt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},kt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);kt!==0&&(ct.ct=j(Ze,Ze.l-8));var Lr=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Lr!==0&&(ct.mt=j(Ze,Ze.l-8)),ct.start=Ze.read_shift(4,"i"),ct.size=Ze.read_shift(4,"i"),ct.size<0&&ct.start<0&&(ct.size=ct.type=0,ct.start=ve,ct.name=""),ct.type===5?(je=ct.start,se>0&&je!==ve&&(oe[je].name="!StreamData")):ct.size>=4096?(ct.storage="fat",oe[ct.start]===void 0&&(oe[ct.start]=T(te,ct.start,oe.fat_addrs,oe.ssz)),oe[ct.start].name=ct.name,ct.content=oe[ct.start].data.slice(0,ct.size)):(ct.storage="minifat",ct.size<0?ct.size=0:je!==ve&&ct.start!==ve&&oe[je]&&(ct.content=x(ct,oe[je].data,(oe[qe]||{}).data))),ct.content&&Va(ct.content,0),ce[rt]=ct,Oe.push(ct)}}function j(z,oe){return new Date((ti(z,oe+4)/1e7*Math.pow(2,32)+ti(z,oe)/1e7-11644473600)*1e3)}function R(z,oe){return d(),m(u.readFileSync(z),oe)}function D(z,oe){var te=oe&&oe.type;switch(te||yr&&Buffer.isBuffer(z)&&(te="buffer"),te||"base64"){case"file":return R(z,oe);case"base64":return m(ai(oi(z)),oe);case"binary":return m(ai(z),oe)}return m(z,oe)}function O(z,oe){var te=oe||{},ee=te.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=ee+"/",z.FileIndex[0]={name:ee,type:5}),te.CLSID&&(z.FileIndex[0].clsid=te.CLSID),B(z)}function B(z){var oe="Sh33tJ5";if(!$t.find(z,"/"+oe)){var te=$e(4);te[0]=55,te[1]=te[3]=50,te[2]=54,z.FileIndex.push({name:oe,type:2,content:te,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+oe),V(z)}}function V(z,oe){O(z);for(var te=!1,ee=!1,se=z.FullPaths.length-1;se>=0;--se){var ce=z.FileIndex[se];switch(ce.type){case 0:ee?te=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(ce.R*ce.L*ce.C)&&(te=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!oe)){var Oe=new Date(1987,1,19),qe=0,je=Object.create?Object.create(null):{},Ie=[];for(se=0;se<z.FullPaths.length;++se)je[z.FullPaths[se]]=!0,z.FileIndex[se].type!==0&&Ie.push([z.FullPaths[se],z.FileIndex[se]]);for(se=0;se<Ie.length;++se){var De=n(Ie[se][0]);ee=je[De],ee||(Ie.push([De,{name:a(De).replace("/",""),type:1,clsid:K,ct:Oe,mt:Oe,content:null}]),je[De]=!0)}for(Ie.sort(function(rt,Ze){return r(rt[0],Ze[0])}),z.FullPaths=[],z.FileIndex=[],se=0;se<Ie.length;++se)z.FullPaths[se]=Ie[se][0],z.FileIndex[se]=Ie[se][1];for(se=0;se<Ie.length;++se){var et=z.FileIndex[se],ot=z.FullPaths[se];if(et.name=a(ot).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||K,se===0)et.C=Ie.length>1?1:-1,et.size=0,et.type=5;else if(ot.slice(-1)=="/"){for(qe=se+1;qe<Ie.length&&n(z.FullPaths[qe])!=ot;++qe);for(et.C=qe>=Ie.length?-1:qe,qe=se+1;qe<Ie.length&&n(z.FullPaths[qe])!=n(ot);++qe);et.R=qe>=Ie.length?-1:qe,et.type=1}else n(z.FullPaths[se+1]||"")==n(ot)&&(et.R=se+1),et.type=2}}}function ne(z,oe){var te=oe||{};if(te.fileType=="mad")return Pu(z,te);switch(V(z),te.fileType){case"zip":return sl(z,te)}var ee=(function(rt){for(var Ze=0,ct=0,kt=0;kt<rt.FileIndex.length;++kt){var Lr=rt.FileIndex[kt];if(Lr.content){var Wr=Lr.content.length;Wr>0&&(Wr<4096?Ze+=Wr+63>>6:ct+=Wr+511>>9)}}for(var un=rt.FullPaths.length+3>>2,Ka=Ze+7>>3,cs=Ze+127>>7,qi=Ka+ct+un+cs,us=qi+127>>7,fc=us<=109?0:Math.ceil((us-109)/127);qi+us+fc+127>>7>us;)fc=++us<=109?0:Math.ceil((us-109)/127);var Yt=[1,fc,us,cs,un,ct,Ze,0];return rt.FileIndex[0].size=Ze<<6,Yt[7]=(rt.FileIndex[0].start=Yt[0]+Yt[1]+Yt[2]+Yt[3]+Yt[4]+Yt[5])+(Yt[6]+7>>3),Yt})(z),se=$e(ee[7]<<9),ce=0,Oe=0;{for(ce=0;ce<8;++ce)se.write_shift(1,fe[ce]);for(ce=0;ce<8;++ce)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),ce=0;ce<3;++ce)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,ee[2]),se.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:ve),se.write_shift(4,ee[3]),se.write_shift(-4,ee[1]?ee[0]-1:ve),se.write_shift(4,ee[1]),ce=0;ce<109;++ce)se.write_shift(-4,ce<ee[2]?ee[1]+ce:-1)}if(ee[1])for(Oe=0;Oe<ee[1];++Oe){for(;ce<236+Oe*127;++ce)se.write_shift(-4,ce<ee[2]?ee[1]+ce:-1);se.write_shift(-4,Oe===ee[1]-1?ve:Oe+1)}var qe=function(rt){for(Oe+=rt;ce<Oe-1;++ce)se.write_shift(-4,ce+1);rt&&(++ce,se.write_shift(-4,ve))};for(Oe=ce=0,Oe+=ee[1];ce<Oe;++ce)se.write_shift(-4,re.DIFSECT);for(Oe+=ee[2];ce<Oe;++ce)se.write_shift(-4,re.FATSECT);qe(ee[3]),qe(ee[4]);for(var je=0,Ie=0,De=z.FileIndex[0];je<z.FileIndex.length;++je)De=z.FileIndex[je],De.content&&(Ie=De.content.length,!(Ie<4096)&&(De.start=Oe,qe(Ie+511>>9)));for(qe(ee[6]+7>>3);se.l&511;)se.write_shift(-4,re.ENDOFCHAIN);for(Oe=ce=0,je=0;je<z.FileIndex.length;++je)De=z.FileIndex[je],De.content&&(Ie=De.content.length,!(!Ie||Ie>=4096)&&(De.start=Oe,qe(Ie+63>>6)));for(;se.l&511;)se.write_shift(-4,re.ENDOFCHAIN);for(ce=0;ce<ee[4]<<2;++ce){var et=z.FullPaths[ce];if(!et||et.length===0){for(je=0;je<17;++je)se.write_shift(4,0);for(je=0;je<3;++je)se.write_shift(4,-1);for(je=0;je<12;++je)se.write_shift(4,0);continue}De=z.FileIndex[ce],ce===0&&(De.start=De.size?De.start-1:ve);var ot=ce===0&&te.root||De.name;if(Ie=2*(ot.length+1),se.write_shift(64,ot,"utf16le"),se.write_shift(2,Ie),se.write_shift(1,De.type),se.write_shift(1,De.color),se.write_shift(-4,De.L),se.write_shift(-4,De.R),se.write_shift(-4,De.C),De.clsid)se.write_shift(16,De.clsid,"hex");else for(je=0;je<4;++je)se.write_shift(4,0);se.write_shift(4,De.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,De.start),se.write_shift(4,De.size),se.write_shift(4,0)}for(ce=1;ce<z.FileIndex.length;++ce)if(De=z.FileIndex[ce],De.size>=4096)if(se.l=De.start+1<<9,yr&&Buffer.isBuffer(De.content))De.content.copy(se,se.l,0,De.size),se.l+=De.size+511&-512;else{for(je=0;je<De.size;++je)se.write_shift(1,De.content[je]);for(;je&511;++je)se.write_shift(1,0)}for(ce=1;ce<z.FileIndex.length;++ce)if(De=z.FileIndex[ce],De.size>0&&De.size<4096)if(yr&&Buffer.isBuffer(De.content))De.content.copy(se,se.l,0,De.size),se.l+=De.size+63&-64;else{for(je=0;je<De.size;++je)se.write_shift(1,De.content[je]);for(;je&63;++je)se.write_shift(1,0)}if(yr)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function ie(z,oe){var te=z.FullPaths.map(function(je){return je.toUpperCase()}),ee=te.map(function(je){var Ie=je.split("/");return Ie[Ie.length-(je.slice(-1)=="/"?2:1)]}),se=!1;oe.charCodeAt(0)===47?(se=!0,oe=te[0].slice(0,-1)+oe):se=oe.indexOf("/")!==-1;var ce=oe.toUpperCase(),Oe=se===!0?te.indexOf(ce):ee.indexOf(ce);if(Oe!==-1)return z.FileIndex[Oe];var qe=!ce.match(ep);for(ce=ce.replace(bs,""),qe&&(ce=ce.replace(ep,"!")),Oe=0;Oe<te.length;++Oe)if((qe?te[Oe].replace(ep,"!"):te[Oe]).replace(bs,"")==ce||(qe?ee[Oe].replace(ep,"!"):ee[Oe]).replace(bs,"")==ce)return z.FileIndex[Oe];return null}var Q=64,ve=-2,G="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ve,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(z,oe,te){d();var ee=ne(z,te);u.writeFileSync(oe,ee)}function J(z){for(var oe=new Array(z.length),te=0;te<z.length;++te)oe[te]=String.fromCharCode(z[te]);return oe.join("")}function Me(z,oe){var te=ne(z,oe);switch(oe&&oe.type||"buffer"){case"file":return d(),u.writeFileSync(oe.filename,te),te;case"binary":return typeof te=="string"?te:J(te);case"base64":return qp(typeof te=="string"?te:J(te));case"buffer":if(yr)return Buffer.isBuffer(te)?te:cc(te);case"array":return typeof te=="string"?ai(te):te}return te}var H;function L(z){try{var oe=z.InflateRaw,te=new oe;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)H=z;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function Y(z,oe){if(!H)return Ga(z,oe);var te=H.InflateRaw,ee=new te,se=ee._processChunk(z.slice(z.l),ee._finishFlushFlag);return z.l+=ee.bytesRead,se}function Z(z){return H?H.deflateRawSync(z):Gt(z)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(z){var oe=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var ye=typeof Uint8Array<"u",Ue=ye?new Uint8Array(256):[],st=0;st<256;++st)Ue[st]=Re(st);function X(z,oe){var te=Ue[z&255];return oe<=8?te>>>8-oe:(te=te<<8|Ue[z>>8&255],oe<=16?te>>>16-oe:(te=te<<8|Ue[z>>16&255],te>>>24-oe))}function zt(z,oe){var te=oe&7,ee=oe>>>3;return(z[ee]|(te<=6?0:z[ee+1]<<8))>>>te&3}function Ot(z,oe){var te=oe&7,ee=oe>>>3;return(z[ee]|(te<=5?0:z[ee+1]<<8))>>>te&7}function qt(z,oe){var te=oe&7,ee=oe>>>3;return(z[ee]|(te<=4?0:z[ee+1]<<8))>>>te&15}function it(z,oe){var te=oe&7,ee=oe>>>3;return(z[ee]|(te<=3?0:z[ee+1]<<8))>>>te&31}function We(z,oe){var te=oe&7,ee=oe>>>3;return(z[ee]|(te<=1?0:z[ee+1]<<8))>>>te&127}function ar(z,oe,te){var ee=oe&7,se=oe>>>3,ce=(1<<te)-1,Oe=z[se]>>>ee;return te<8-ee||(Oe|=z[se+1]<<8-ee,te<16-ee)||(Oe|=z[se+2]<<16-ee,te<24-ee)||(Oe|=z[se+3]<<24-ee),Oe&ce}function fr(z,oe,te){var ee=oe&7,se=oe>>>3;return ee<=5?z[se]|=(te&7)<<ee:(z[se]|=te<<ee&255,z[se+1]=(te&7)>>8-ee),oe+3}function Ft(z,oe,te){var ee=oe&7,se=oe>>>3;return te=(te&1)<<ee,z[se]|=te,oe+1}function Pt(z,oe,te){var ee=oe&7,se=oe>>>3;return te<<=ee,z[se]|=te&255,te>>>=8,z[se+1]=te,oe+8}function jr(z,oe,te){var ee=oe&7,se=oe>>>3;return te<<=ee,z[se]|=te&255,te>>>=8,z[se+1]=te&255,z[se+2]=te>>>8,oe+16}function wr(z,oe){var te=z.length,ee=2*te>oe?2*te:oe+5,se=0;if(te>=oe)return z;if(yr){var ce=ER(ee);if(z.copy)z.copy(ce);else for(;se<z.length;++se)ce[se]=z[se];return ce}else if(ye){var Oe=new Uint8Array(ee);if(Oe.set)Oe.set(z);else for(;se<te;++se)Oe[se]=z[se];return Oe}return z.length=ee,z}function Xe(z){for(var oe=new Array(z),te=0;te<z;++te)oe[te]=0;return oe}function wt(z,oe,te){var ee=1,se=0,ce=0,Oe=0,qe=0,je=z.length,Ie=ye?new Uint16Array(32):Xe(32);for(ce=0;ce<32;++ce)Ie[ce]=0;for(ce=je;ce<te;++ce)z[ce]=0;je=z.length;var De=ye?new Uint16Array(je):Xe(je);for(ce=0;ce<je;++ce)Ie[se=z[ce]]++,ee<se&&(ee=se),De[ce]=0;for(Ie[0]=0,ce=1;ce<=ee;++ce)Ie[ce+16]=qe=qe+Ie[ce-1]<<1;for(ce=0;ce<je;++ce)qe=z[ce],qe!=0&&(De[ce]=Ie[qe+16]++);var et=0;for(ce=0;ce<je;++ce)if(et=z[ce],et!=0)for(qe=X(De[ce],ee)>>ee-et,Oe=(1<<ee+4-et)-1;Oe>=0;--Oe)oe[qe|Oe<<et]=et&15|ce<<4;return ee}var lr=ye?new Uint16Array(512):Xe(512),_r=ye?new Uint16Array(32):Xe(32);if(!ye){for(var pr=0;pr<512;++pr)lr[pr]=0;for(pr=0;pr<32;++pr)_r[pr]=0}(function(){for(var z=[],oe=0;oe<32;oe++)z.push(5);wt(z,_r,32);var te=[];for(oe=0;oe<=143;oe++)te.push(8);for(;oe<=255;oe++)te.push(9);for(;oe<=279;oe++)te.push(7);for(;oe<=287;oe++)te.push(8);wt(te,lr,288)})();var Mn=(function(){for(var oe=ye?new Uint8Array(32768):[],te=0,ee=0;te<he.length-1;++te)for(;ee<he[te+1];++ee)oe[ee]=te;for(;ee<32768;++ee)oe[ee]=29;var se=ye?new Uint8Array(259):[];for(te=0,ee=0;te<ue.length-1;++te)for(;ee<ue[te+1];++ee)se[ee]=te;function ce(qe,je){for(var Ie=0;Ie<qe.length;){var De=Math.min(65535,qe.length-Ie),et=Ie+De==qe.length;for(je.write_shift(1,+et),je.write_shift(2,De),je.write_shift(2,~De&65535);De-- >0;)je[je.l++]=qe[Ie++]}return je.l}function Oe(qe,je){for(var Ie=0,De=0,et=ye?new Uint16Array(32768):[];De<qe.length;){var ot=Math.min(65535,qe.length-De);if(ot<10){for(Ie=fr(je,Ie,+(De+ot==qe.length)),Ie&7&&(Ie+=8-(Ie&7)),je.l=Ie/8|0,je.write_shift(2,ot),je.write_shift(2,~ot&65535);ot-- >0;)je[je.l++]=qe[De++];Ie=je.l*8;continue}Ie=fr(je,Ie,+(De+ot==qe.length)+2);for(var rt=0;ot-- >0;){var Ze=qe[De];rt=(rt<<5^Ze)&32767;var ct=-1,kt=0;if((ct=et[rt])&&(ct|=De&-32768,ct>De&&(ct-=32768),ct<De))for(;qe[ct+kt]==qe[De+kt]&&kt<250;)++kt;if(kt>2){Ze=se[kt],Ze<=22?Ie=Pt(je,Ie,Ue[Ze+1]>>1)-1:(Pt(je,Ie,3),Ie+=5,Pt(je,Ie,Ue[Ze-23]>>5),Ie+=3);var Lr=Ze<8?0:Ze-4>>2;Lr>0&&(jr(je,Ie,kt-ue[Ze]),Ie+=Lr),Ze=oe[De-ct],Ie=Pt(je,Ie,Ue[Ze]>>3),Ie-=3;var Wr=Ze<4?0:Ze-2>>1;Wr>0&&(jr(je,Ie,De-ct-he[Ze]),Ie+=Wr);for(var un=0;un<kt;++un)et[rt]=De&32767,rt=(rt<<5^qe[De])&32767,++De;ot-=kt-1}else Ze<=143?Ze=Ze+48:Ie=Ft(je,Ie,1),Ie=Pt(je,Ie,Ue[Ze]),et[rt]=De&32767,++De}Ie=Pt(je,Ie,0)-1}return je.l=(Ie+7)/8|0,je.l}return function(je,Ie){return je.length<8?ce(je,Ie):Oe(je,Ie)}})();function Gt(z){var oe=$e(50+Math.floor(z.length*1.1)),te=Mn(z,oe);return oe.slice(0,te)}var Vr=ye?new Uint16Array(32768):Xe(32768),yn=ye?new Uint16Array(32768):Xe(32768),Fr=ye?new Uint16Array(128):Xe(128),Yr=1,Nn=1;function vt(z,oe){var te=it(z,oe)+257;oe+=5;var ee=it(z,oe)+1;oe+=5;var se=qt(z,oe)+4;oe+=4;for(var ce=0,Oe=ye?new Uint8Array(19):Xe(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],je=1,Ie=ye?new Uint8Array(8):Xe(8),De=ye?new Uint8Array(8):Xe(8),et=Oe.length,ot=0;ot<se;++ot)Oe[W[ot]]=ce=Ot(z,oe),je<ce&&(je=ce),Ie[ce]++,oe+=3;var rt=0;for(Ie[0]=0,ot=1;ot<=je;++ot)De[ot]=rt=rt+Ie[ot-1]<<1;for(ot=0;ot<et;++ot)(rt=Oe[ot])!=0&&(qe[ot]=De[rt]++);var Ze=0;for(ot=0;ot<et;++ot)if(Ze=Oe[ot],Ze!=0){rt=Ue[qe[ot]]>>8-Ze;for(var ct=(1<<7-Ze)-1;ct>=0;--ct)Fr[rt|ct<<Ze]=Ze&7|ot<<3}var kt=[];for(je=1;kt.length<te+ee;)switch(rt=Fr[We(z,oe)],oe+=rt&7,rt>>>=3){case 16:for(ce=3+zt(z,oe),oe+=2,rt=kt[kt.length-1];ce-- >0;)kt.push(rt);break;case 17:for(ce=3+Ot(z,oe),oe+=3;ce-- >0;)kt.push(0);break;case 18:for(ce=11+We(z,oe),oe+=7;ce-- >0;)kt.push(0);break;default:kt.push(rt),je<rt&&(je=rt);break}var Lr=kt.slice(0,te),Wr=kt.slice(te);for(ot=te;ot<286;++ot)Lr[ot]=0;for(ot=ee;ot<30;++ot)Wr[ot]=0;return Yr=wt(Lr,Vr,286),Nn=wt(Wr,yn,30),oe}function $s(z,oe){if(z[0]==3&&!(z[1]&3))return[wu(oe),2];for(var te=0,ee=0,se=ER(oe||1<<18),ce=0,Oe=se.length>>>0,qe=0,je=0;(ee&1)==0;){if(ee=Ot(z,te),te+=3,ee>>>1)ee>>1==1?(qe=9,je=5):(te=vt(z,te),qe=Yr,je=Nn);else{te&7&&(te+=8-(te&7));var Ie=z[te>>>3]|z[(te>>>3)+1]<<8;if(te+=32,Ie>0)for(!oe&&Oe<ce+Ie&&(se=wr(se,ce+Ie),Oe=se.length);Ie-- >0;)se[ce++]=z[te>>>3],te+=8;continue}for(;;){!oe&&Oe<ce+32767&&(se=wr(se,ce+32767),Oe=se.length);var De=ar(z,te,qe),et=ee>>>1==1?lr[De]:Vr[De];if(te+=et&15,et>>>=4,(et>>>8&255)===0)se[ce++]=et;else{if(et==256)break;et-=257;var ot=et<8?0:et-4>>2;ot>5&&(ot=0);var rt=ce+ue[et];ot>0&&(rt+=ar(z,te,ot),te+=ot),De=ar(z,te,je),et=ee>>>1==1?_r[De]:yn[De],te+=et&15,et>>>=4;var Ze=et<4?0:et-2>>1,ct=he[et];for(Ze>0&&(ct+=ar(z,te,Ze),te+=Ze),!oe&&Oe<rt&&(se=wr(se,rt+100),Oe=se.length);ce<rt;)se[ce]=se[ce-ct],++ce}}}return oe?[se,te+7>>>3]:[se.slice(0,ce),te+7>>>3]}function Ga(z,oe){var te=z.slice(z.l||0),ee=$s(te,oe);return z.l+=ee[1],ee[0]}function Hi(z,oe){if(z)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function mt(z,oe){var te=z;Va(te,0);var ee=[],se=[],ce={FileIndex:ee,FullPaths:se};O(ce,{root:oe.root});for(var Oe=te.length-4;(te[Oe]!=80||te[Oe+1]!=75||te[Oe+2]!=5||te[Oe+3]!=6)&&Oe>=0;)--Oe;te.l=Oe+4,te.l+=4;var qe=te.read_shift(2);te.l+=6;var je=te.read_shift(4);for(te.l=je,Oe=0;Oe<qe;++Oe){te.l+=20;var Ie=te.read_shift(4),De=te.read_shift(4),et=te.read_shift(2),ot=te.read_shift(2),rt=te.read_shift(2);te.l+=8;var Ze=te.read_shift(4),ct=l(te.slice(te.l+et,te.l+et+ot));te.l+=et+ot+rt;var kt=te.l;te.l=Ze+4,So(te,Ie,De,ce,ct),te.l=kt}return ce}function So(z,oe,te,ee,se){z.l+=2;var ce=z.read_shift(2),Oe=z.read_shift(2),qe=i(z);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var je=z.read_shift(4),Ie=z.read_shift(4),De=z.read_shift(4),et=z.read_shift(2),ot=z.read_shift(2),rt="",Ze=0;Ze<et;++Ze)rt+=String.fromCharCode(z[z.l++]);if(ot){var ct=l(z.slice(z.l,z.l+ot));(ct[21589]||{}).mt&&(qe=ct[21589].mt),((se||{})[21589]||{}).mt&&(qe=se[21589].mt)}z.l+=ot;var kt=z.slice(z.l,z.l+Ie);switch(Oe){case 8:kt=Y(z,De);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var Lr=!1;ce&8&&(je=z.read_shift(4),je==134695760&&(je=z.read_shift(4),Lr=!0),Ie=z.read_shift(4),De=z.read_shift(4)),Ie!=oe&&Hi(Lr,"Bad compressed size: "+oe+" != "+Ie),De!=te&&Hi(Lr,"Bad uncompressed size: "+te+" != "+De),Gr(ee,rt,kt,{unsafe:!0,mt:qe})}function sl(z,oe){var te=oe||{},ee=[],se=[],ce=$e(1),Oe=te.compression?8:0,qe=0,je=0,Ie=0,De=0,et=0,ot=z.FullPaths[0],rt=ot,Ze=z.FileIndex[0],ct=[],kt=0;for(je=1;je<z.FullPaths.length;++je)if(rt=z.FullPaths[je].slice(ot.length),Ze=z.FileIndex[je],!(!Ze.size||!Ze.content||rt=="Sh33tJ5")){var Lr=De,Wr=$e(rt.length);for(Ie=0;Ie<rt.length;++Ie)Wr.write_shift(1,rt.charCodeAt(Ie)&127);Wr=Wr.slice(0,Wr.l),ct[et]=ooe.buf(Ze.content,0);var un=Ze.content;Oe==8&&(un=Z(un)),ce=$e(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,qe),ce.write_shift(2,Oe),Ze.mt?s(ce,Ze.mt):ce.write_shift(4,0),ce.write_shift(-4,ct[et]),ce.write_shift(4,un.length),ce.write_shift(4,Ze.content.length),ce.write_shift(2,Wr.length),ce.write_shift(2,0),De+=ce.length,ee.push(ce),De+=Wr.length,ee.push(Wr),De+=un.length,ee.push(un),ce=$e(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,qe),ce.write_shift(2,Oe),ce.write_shift(4,0),ce.write_shift(-4,ct[et]),ce.write_shift(4,un.length),ce.write_shift(4,Ze.content.length),ce.write_shift(2,Wr.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,Lr),kt+=ce.l,se.push(ce),kt+=Wr.length,se.push(Wr),++et}return ce=$e(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,et),ce.write_shift(2,et),ce.write_shift(4,kt),ce.write_shift(4,De),ce.write_shift(2,0),Na([Na(ee),Na(se),ce])}var Wa={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function il(z,oe){if(z.ctype)return z.ctype;var te=z.name||"",ee=te.match(/\.([^\.]+)$/);return ee&&Wa[ee[1]]||oe&&(ee=(te=oe).match(/[\.\\]([^\.\\])+$/),ee&&Wa[ee[1]])?Wa[ee[1]]:"application/octet-stream"}function $i(z){for(var oe=qp(z),te=[],ee=0;ee<oe.length;ee+=76)te.push(oe.slice(ee,ee+76));return te.join(`\r
`)+`\r
`}function H0(z){var oe=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var De=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(De.length==1?"0"+De:De)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ee=oe.split(`\r
`),se=0;se<ee.length;++se){var ce=ee[se];if(ce.length==0){te.push("");continue}for(var Oe=0;Oe<ce.length;){var qe=76,je=ce.slice(Oe,Oe+qe);je.charAt(qe-1)=="="?qe--:je.charAt(qe-2)=="="?qe-=2:je.charAt(qe-3)=="="&&(qe-=3),je=ce.slice(Oe,Oe+qe),Oe+=qe,Oe<ce.length&&(je+="="),te.push(je)}}return te.join(`\r
`)}function _f(z){for(var oe=[],te=0;te<z.length;++te){for(var ee=z[te];te<=z.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+z[++te];oe.push(ee)}for(var se=0;se<oe.length;++se)oe[se]=oe[se].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return ai(oe.join(`\r
`))}function li(z,oe,te){for(var ee="",se="",ce="",Oe,qe=0;qe<10;++qe){var je=oe[qe];if(!je||je.match(/^\s*$/))break;var Ie=je.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":ee=Ie[2].trim();break;case"content-type":ce=Ie[2].trim();break;case"content-transfer-encoding":se=Ie[2].trim();break}}switch(++qe,se.toLowerCase()){case"base64":Oe=ai(oi(oe.slice(qe).join("")));break;case"quoted-printable":Oe=_f(oe.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var De=Gr(z,ee.slice(te.length),Oe,{unsafe:!0});ce&&(De.ctype=ce)}function Es(z,oe){if(J(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=oe&&oe.root||"",ee=(yr&&Buffer.isBuffer(z)?z.toString("binary"):J(z)).split(`\r
`),se=0,ce="";for(se=0;se<ee.length;++se)if(ce=ee[se],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),te||(te=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),ce.slice(0,te.length)!=te););var Oe=(ee[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var qe="--"+(Oe[1]||""),je=[],Ie=[],De={FileIndex:je,FullPaths:Ie};O(De);var et,ot=0;for(se=0;se<ee.length;++se){var rt=ee[se];rt!==qe&&rt!==qe+"--"||(ot++&&li(De,ee.slice(et,se),te),et=se)}return De}function Pu(z,oe){var te=oe||{},ee=te.boundary||"SheetJS";ee="------="+ee;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],ce=z.FullPaths[0],Oe=ce,qe=z.FileIndex[0],je=1;je<z.FullPaths.length;++je)if(Oe=z.FullPaths[je].slice(ce.length),qe=z.FileIndex[je],!(!qe.size||!qe.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var Ie=qe.content,De=yr&&Buffer.isBuffer(Ie)?Ie.toString("binary"):J(Ie),et=0,ot=Math.min(1024,De.length),rt=0,Ze=0;Ze<=ot;++Ze)(rt=De.charCodeAt(Ze))>=32&&rt<128&&++et;var ct=et>=ot*4/5;se.push(ee),se.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+Oe),se.push("Content-Transfer-Encoding: "+(ct?"quoted-printable":"base64")),se.push("Content-Type: "+il(qe,Oe)),se.push(""),se.push(ct?H0(De):$i(De))}return se.push(ee+`--\r
`),se.join(`\r
`)}function ol(z){var oe={};return O(oe,z),oe}function Gr(z,oe,te,ee){var se=ee&&ee.unsafe;se||O(z);var ce=!se&&$t.find(z,oe);if(!ce){var Oe=z.FullPaths[0];oe.slice(0,Oe.length)==Oe?Oe=oe:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+oe).replace("//","/")),ce={name:a(oe),type:2},z.FileIndex.push(ce),z.FullPaths.push(Oe),se||$t.utils.cfb_gc(z)}return ce.content=te,ce.size=te?te.length:0,ee&&(ee.CLSID&&(ce.clsid=ee.CLSID),ee.mt&&(ce.mt=ee.mt),ee.ct&&(ce.ct=ee.ct)),ce}function Pn(z,oe){O(z);var te=$t.find(z,oe);if(te){for(var ee=0;ee<z.FileIndex.length;++ee)if(z.FileIndex[ee]==te)return z.FileIndex.splice(ee,1),z.FullPaths.splice(ee,1),!0}return!1}function Fu(z,oe,te){O(z);var ee=$t.find(z,oe);if(ee){for(var se=0;se<z.FileIndex.length;++se)if(z.FileIndex[se]==ee)return z.FileIndex[se].name=a(te),z.FullPaths[se]=te,!0}return!1}function Eo(z){V(z,!0)}return t.find=ie,t.read=D,t.parse=m,t.write=Me,t.writeFile=le,t.utils={cfb_new:ol,cfb_add:Gr,cfb_del:Pn,cfb_mov:Fu,cfb_gc:Eo,ReadShift:yp,CheckField:J5,prep_blob:Va,bconcat:Na,use_zlib:L,_deflateRaw:Gt,_inflateRaw:Ga,consts:re},t})();function loe(e){return typeof e=="string"?R1(e):Array.isArray(e)?Die(e):e}function Bg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=R1(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Go(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([loe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Ru(t)),l.write(t),l.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function coe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Xn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function RR(e,t){for(var r=[],n=Xn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function D1(e){for(var t=[],r=Xn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function P1(e){for(var t=[],r=Xn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function uoe(e){for(var t=[],r=Xn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var zx=new Date(1899,11,30,0,0,0);function _a(e,t){var r=e.getTime(),n=zx.getTime()+(e.getTimezoneOffset()-zx.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var j5=new Date,doe=zx.getTime()+(j5.getTimezoneOffset()-zx.getTimezoneOffset())*6e4,OR=j5.getTimezoneOffset();function F1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+doe),t.getTimezoneOffset()!==OR&&t.setTime(t.getTime()+(t.getTimezoneOffset()-OR)*6e4),t}function foe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var DR=new Date("2017-02-19T19:06:09.000Z"),R5=isNaN(DR.getFullYear())?new Date("2/19/17"):DR,hoe=R5.getFullYear()==2017;function Cn(e,t){var r=new Date(e);if(hoe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(R5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function sf(e,t){if(yr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Go(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Go(x5(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Go(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Go(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function An(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=An(e[r]));return t}function Gn(e,t){for(var r="";r.length<t;)r+=e;return r}function mo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var moe=["january","february","march","april","may","june","july","august","september","october","november","december"];function u0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&moe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var poe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}})();function O5(e){return e?e.content&&e.type?sf(e.content,!0):e.data?Zm(e.data):e.asNodeBuffer&&yr?Zm(e.asNodeBuffer().toString("binary")):e.asBinary?Zm(e.asBinary()):e._data&&e._data.getContent?Zm(sf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function D5(e){if(!e)return null;if(e.data)return bR(e.data);if(e.asNodeBuffer&&yr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?bR(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function goe(e){return e&&e.name.slice(-4)===".bin"?D5(e):O5(e)}function ki(e,t){for(var r=e.FullPaths||Xn(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function ZT(e,t){var r=ki(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ua(e,t,r){if(!r)return goe(ZT(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function si(e,t,r){if(!r)return O5(ZT(e,t));if(!t)return null;try{return si(e,t)}catch{return null}}function voe(e,t,r){return D5(ZT(e,t))}function PR(e){for(var t=e.FullPaths||Xn(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function mr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return yr?n=cc(r):n=Pie(r),$t.utils.cfb_add(e,t,n)}$t.utils.cfb_add(e,t,r)}else e.file(t,r)}function ek(){return $t.utils.cfb_new()}function P5(e,t){switch(t.type){case"base64":return $t.read(e,{type:"base64"});case"binary":return $t.read(e,{type:"binary"});case"buffer":case"array":return $t.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function tp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ta=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yoe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,FR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xoe=/<[^>]*>/g,ls=ta.match(FR)?FR:xoe,woe=/<\w*:/,_oe=/<(\/?)\w+:/;function nr(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(yoe),l=0,u="",d=0,m="",p="",v=1;if(i)for(d=0;d!=i.length;++d){for(p=i[d],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(m=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(v=(a=p.charCodeAt(s+1))==34||a==39?1:0,u=p.slice(s+1+v,p.length-v),l=0;l!=m.length&&m.charCodeAt(l)!==58;++l);if(l===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=u,n[m.toLowerCase()]=u;else{var y=(l===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(l+1);if(n[y]&&m.slice(l-3,l)=="ext")continue;n[y]=u,n[y.toLowerCase()]=u}}return n}function nl(e){return e.replace(_oe,"<$1")}var F5={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},tk=D1(F5),Ur=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,u){return F5[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,u){return String.fromCharCode(parseInt(u,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}})(),rk=/[&<>'"]/g,boe=/[\u0000-\u0008\u000b-\u001f]/g;function cn(e){var t=e+"";return t.replace(rk,function(r){return tk[r]}).replace(boe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function IR(e){return cn(e).replace(/ /g,"_x0020_")}var I5=/[\u0000-\u001f]/g;function nk(e){var t=e+"";return t.replace(rk,function(r){return tk[r]}).replace(/\n/g,"<br/>").replace(I5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Soe(e){var t=e+"";return t.replace(rk,function(r){return tk[r]}).replace(I5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var LR=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Eoe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function kn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Jb(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function BR(e){var t=wu(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function UR(e){return cc(e,"binary").toString("utf8")}var Fy="foo bar baz",mn=yr&&(UR(Fy)==Jb(Fy)&&UR||BR(Fy)==Jb(Fy)&&BR)||Jb,Go=yr?function(e){return cc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Wp=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),L5=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),Toe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),koe=/<\/?(?:vt:)?variant>/g,Coe=/<(?:vt:)([^>]*)>([\s\S]*)</;function zR(e,t){var r=nr(e),n=e.match(Toe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(koe,"").match(Coe);i&&a.push({v:mn(i[2]),t:i[1]})}),a}var B5=/(^\s|\s$|\n)/;function Ha(e,t){return"<"+e+(t.match(B5)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Kp(e){return Xn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ft(e,t,r){return"<"+e+(r!=null?Kp(r):"")+(t!=null?(t.match(B5)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function T2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Aoe(e,t){switch(typeof e){case"string":var r=ft("vt:lpwstr",cn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ft((e|0)==e?"vt:i4":"vt:r8",cn(String(e)));case"boolean":return ft("vt:bool",e?"true":"false")}if(e instanceof Date)return ft("vt:filetime",T2(e));throw new Error("Unable to serialize "+e)}function ak(e){if(yr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return mn(Ru(YT(e)));throw new Error("Bad input format: expected Buffer or string")}var Xp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ei={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Moe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Noe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var VR=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},HR=yr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:cc(t)})):VR(e)}:VR,$R=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zl(e,a)));return n.join("").replace(bs,"")},sk=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(bs,""):$R(e,t,r)}:$R,qR=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},U5=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):qR(e,t,r)}:qR,GR=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Ah(e,a)));return n.join("")},Ug=yr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):GR(t,r,n)}:GR,z5=function(e,t){var r=ti(e,t);return r>0?Ug(e,t+4,t+4+r-1):""},V5=z5,H5=function(e,t){var r=ti(e,t);return r>0?Ug(e,t+4,t+4+r-1):""},$5=H5,q5=function(e,t){var r=2*ti(e,t);return r>0?Ug(e,t+4,t+4+r-1):""},G5=q5,W5=function(t,r){var n=ti(t,r);return n>0?sk(t,r+4,r+4+n):""},K5=W5,X5=function(e,t){var r=ti(e,t);return r>0?Ug(e,t+4,t+4+r):""},Y5=X5,Q5=function(e,t){return Moe(e,t)},Vx=Q5,ik=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};yr&&(V5=function(t,r){if(!Buffer.isBuffer(t))return z5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$5=function(t,r){if(!Buffer.isBuffer(t))return H5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},G5=function(t,r){if(!Buffer.isBuffer(t))return q5(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},K5=function(t,r){if(!Buffer.isBuffer(t))return W5(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Y5=function(t,r){if(!Buffer.isBuffer(t))return X5(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Vx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Q5(t,r)},ik=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ah=function(e,t){return e[t]},zl=function(e,t){return e[t+1]*256+e[t]},joe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ti=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Roe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yp(e,t){var r="",n,a,s=[],i,l,u,d;switch(t){case"dbcs":if(d=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(zl(this,d)),d+=2;e*=2;break;case"utf8":r=Ug(this,this.l,this.l+e);break;case"utf16le":e*=2,r=sk(this,this.l,this.l+e);break;case"wstr":return yp.call(this,e,"dbcs");case"lpstr-ansi":r=V5(this,this.l),e=4+ti(this,this.l);break;case"lpstr-cp":r=$5(this,this.l),e=4+ti(this,this.l);break;case"lpwstr":r=G5(this,this.l),e=4+2*ti(this,this.l);break;case"lpp4":e=4+ti(this,this.l),r=K5(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ti(this,this.l),r=Y5(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Ah(this,this.l+e++))!==0;)s.push(Py(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=zl(this,this.l+e))!==0;)s.push(Py(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return i=Ah(this,d),this.l=d+1,l=yp.call(this,e-u,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Py(zl(this,d))),d+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return i=Ah(this,d),this.l=d+1,l=yp.call(this,e-u,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Py(Ah(this,d))),d+=1}r=s.join("");break;default:switch(e){case 1:return n=Ah(this,this.l),this.l++,n;case 2:return n=(t==="i"?joe:zl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?wd:Roe)(this,this.l),this.l+=4,n):(a=ti(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Vx(this,this.l):a=Vx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=U5(this,this.l,e);break}}return this.l+=e,r}var Ooe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Doe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Poe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Foe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Poe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Ooe(this,t,this.l);break;case 8:if(n=8,r==="f"){Noe(this,t,this.l);break}case 16:break;case-4:n=4,Doe(this,t,this.l);break}return this.l+=n,this}function J5(e,t){var r=U5(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Va(e,t){e.l=t,e.read_shift=yp,e.chk=J5,e.write_shift=Foe}function os(e,t){e.l+=t}function $e(e){var t=wu(e);return Va(t,0),t}function uc(e,t,r){if(e){var n,a,s;Va(e,e.l||0);for(var i=e.length,l=0,u=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=tg[l]||tg[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;u=e.l+s;var m=d.f&&d.f(e,s,r);if(e.l=u,t(m,d,l))return}}}function Ls(){var e=[],t=yr?256:2048,r=function(d){var m=$e(d);return Va(m,0),m},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},i=function(){return a(),Na(e)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function Je(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=tg[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,(a&127)+128),i.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&ik(r)&&e.push(r)}}function xp(e,t,r){var n=An(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function WR(e,t,r){var n=An(e);return n.s=xp(n.s,t.s,r),n.e=xp(n.e,t.s,r),n}function wp(e,t){if(e.cRel&&e.c<0)for(e=An(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=An(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Zt(e);return!e.cRel&&e.cRel!=null&&(r=Boe(r)),!e.rRel&&e.rRel!=null&&(r=Ioe(r)),r}function Zb(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Un(e.s.c)+":"+(e.e.cRel?"":"$")+Un(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ea(e.s.r)+":"+(e.e.rRel?"":"$")+ea(e.e.r):wp(e.s,t.biff)+":"+wp(e.e,t.biff)}function ok(e){return parseInt(Loe(e),10)-1}function ea(e){return""+(e+1)}function Ioe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Loe(e){return e.replace(/\$(\d+)$/,"$1")}function lk(e){for(var t=Uoe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Un(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Boe(e){return e.replace(/^([A-Z])/,"$$$1")}function Uoe(e){return e.replace(/^\$([A-Z])/,"$1")}function zoe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function zn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Zt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function zs(e){var t=e.indexOf(":");return t==-1?{s:zn(e),e:zn(e)}:{s:zn(e.slice(0,t)),e:zn(e.slice(t+1))}}function dr(e,t){return typeof t>"u"||typeof t=="number"?dr(e.s,e.e):(typeof e!="string"&&(e=Zt(e)),typeof t!="string"&&(t=Zt(t)),e==t?e:e+":"+t)}function zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function KR(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bi(e.z,r?_a(t):t)}catch{}try{return e.w=Bi((e.XF||{}).numFmtId||(r?14:0),r?_a(t):t)}catch{return""+t}}function nc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?dc[e.v]||e.v:t==null?KR(e,e.v):KR(e,t))}function Ou(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Z5(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var u=typeof n.origin=="string"?zn(n.origin):n.origin;i=u.r,l=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=zr(s["!ref"]);d.s.c=m.s.c,d.s.r=m.s.r,d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),i==-1&&(d.e.r=i=m.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=t[p].length;++v)if(!(typeof t[p][v]>"u")){var y={v:t[p][v]},w=i+p,x=l+v;if(d.s.r>w&&(d.s.r=w),d.s.c>x&&(d.s.c=x),d.e.r<w&&(d.e.r=w),d.e.c<x&&(d.e.c=x),t[p][v]&&typeof t[p][v]=="object"&&!Array.isArray(t[p][v])&&!(t[p][v]instanceof Date))y=t[p][v];else if(Array.isArray(y.v)&&(y.f=t[p][v][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||Qt[14],n.cellDates?(y.t="d",y.w=Bi(y.z,_a(y.v))):(y.t="n",y.v=_a(y.v),y.w=Bi(y.z,y.v))):y.t="s";if(a)s[w]||(s[w]=[]),s[w][x]&&s[w][x].z&&(y.z=s[w][x].z),s[w][x]=y;else{var b=Zt({c:x,r:w});s[b]&&s[b].z&&(y.z=s[b].z),s[b]=y}}}return d.s.c<1e7&&(s["!ref"]=dr(d)),s}function B0(e,t){return Z5(null,e,t)}function Voe(e){return e.read_shift(4,"i")}function po(e,t){return t||(t=$e(4)),t.write_shift(4,e),t}function is(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ra(e,t){var r=!1;return t==null&&(r=!0,t=$e(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Hoe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function $oe(e,t){return t||(t=$e(4)),t.write_shift(2,0),t.write_shift(2,0),t}function ck(e,t){var r=e.l,n=e.read_shift(1),a=is(e),s=[],i={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)s.push(Hoe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function qoe(e,t){var r=!1;return t==null&&(r=!0,t=$e(15+4*e.t.length)),t.write_shift(1,0),Ra(e.t,t),r?t.slice(0,t.l):t}var Goe=ck;function Woe(e,t){var r=!1;return t==null&&(r=!0,t=$e(23+4*e.t.length)),t.write_shift(1,1),Ra(e.t,t),t.write_shift(4,1),$oe({},t),r?t.slice(0,t.l):t}function Vi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gf(e,t){return t==null&&(t=$e(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function vf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function yf(e,t){return t==null&&(t=$e(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Koe=is,e8=Ra;function uk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Hx(e,t){var r=!1;return t==null&&(r=!0,t=$e(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Xoe=is,k2=uk,dk=Hx;function fk(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Vx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wd(t,0)>>2;return r?a/100:a}function t8(e,t){t==null&&(t=$e(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function r8(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Yoe(e,t){return t||(t=$e(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var xf=r8,U0=Yoe;function ss(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function of(e,t){return(t||$e(8)).write_shift(8,e,"f")}function Qoe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=Wd[a];d&&(t.rgb=Qp(d));break;case 2:t.rgb=Qp([i,l,u]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function $x(e,t){if(t||(t=$e(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Joe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Zoe(e,t){t||(t=$e(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function n8(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function ele(e){return n8(e,1)}function tle(e){return n8(e,2)}var hk=2,Ds=3,Iy=11,XR=12,qx=19,Ly=64,rle=65,nle=71,ale=4108,sle=4126,Ma=80,a8=81,ile=[Ma,a8],C2={1:{n:"CodePage",t:hk},2:{n:"Category",t:Ma},3:{n:"PresentationFormat",t:Ma},4:{n:"ByteCount",t:Ds},5:{n:"LineCount",t:Ds},6:{n:"ParagraphCount",t:Ds},7:{n:"SlideCount",t:Ds},8:{n:"NoteCount",t:Ds},9:{n:"HiddenCount",t:Ds},10:{n:"MultimediaClipCount",t:Ds},11:{n:"ScaleCrop",t:Iy},12:{n:"HeadingPairs",t:ale},13:{n:"TitlesOfParts",t:sle},14:{n:"Manager",t:Ma},15:{n:"Company",t:Ma},16:{n:"LinksUpToDate",t:Iy},17:{n:"CharacterCount",t:Ds},19:{n:"SharedDoc",t:Iy},22:{n:"HyperlinksChanged",t:Iy},23:{n:"AppVersion",t:Ds,p:"version"},24:{n:"DigSig",t:rle},26:{n:"ContentType",t:Ma},27:{n:"ContentStatus",t:Ma},28:{n:"Language",t:Ma},29:{n:"Version",t:Ma},255:{},2147483648:{n:"Locale",t:qx},2147483651:{n:"Behavior",t:qx},1919054434:{}},A2={1:{n:"CodePage",t:hk},2:{n:"Title",t:Ma},3:{n:"Subject",t:Ma},4:{n:"Author",t:Ma},5:{n:"Keywords",t:Ma},6:{n:"Comments",t:Ma},7:{n:"Template",t:Ma},8:{n:"LastAuthor",t:Ma},9:{n:"RevNumber",t:Ma},10:{n:"EditTime",t:Ly},11:{n:"LastPrinted",t:Ly},12:{n:"CreatedDate",t:Ly},13:{n:"ModifiedDate",t:Ly},14:{n:"PageCount",t:Ds},15:{n:"WordCount",t:Ds},16:{n:"CharCount",t:Ds},17:{n:"Thumbnail",t:nle},18:{n:"Application",t:Ma},19:{n:"DocSecurity",t:Ds},255:{},2147483648:{n:"Locale",t:qx},2147483651:{n:"Behavior",t:qx},1919054434:{}},YR={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ole=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function lle(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var cle=lle([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Wd=An(cle),dc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},s8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},M2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},By={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function mk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ule(e){var t=mk();if(!e||!e.match)return t;var r={};if((e.match(ls)||[]).forEach(function(n){var a=nr(n);switch(a[0].replace(woe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[M2[a.ContentType]]!==void 0&&t[M2[a.ContentType]].push(a.PartName);break}}),t.xmlns!==wa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function i8(e,t){var r=uoe(M2),n=[],a;n[n.length]=ta,n[n.length]=ft("Types",null,{xmlns:wa.CT,"xmlns:xsd":wa.xsd,"xmlns:xsi":wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return ft("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=ft("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:By[u][t.bookType]||By[u].xlsx}))},i=function(u){(e[u]||[]).forEach(function(d){n[n.length]=ft("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:By[u][t.bookType]||By[u].xlsx})})},l=function(u){(e[u]||[]).forEach(function(d){n[n.length]=ft("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[u][0]})})};return s("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var br={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Yp(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function _p(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ls)||[]).forEach(function(a){var s=nr(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:tp(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}function Vh(e){var t=[ta,ft("Relationships",null,{xmlns:wa.RELS})];return Xn(e["!id"]).forEach(function(r){t[t.length]=ft("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[br.HLINK,br.XPATH,br.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var dle="application/vnd.oasis.opendocument.spreadsheet";function fle(e,t){for(var r=ak(e),n,a;n=Xp.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=nr(n[0],!1),a.path=="/"&&a.type!==dle)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function hle(e){var t=[ta];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function QR(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function mle(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function ple(e){var t=[ta];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(QR(e[r][0],e[r][1])),t.push(mle("",e[r][0]));return t.push(QR("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function o8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ix.version+"</meta:generator></office:meta></office:document-meta>"}var Ii=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],gle=(function(){for(var e=new Array(Ii.length),t=0;t<Ii.length;++t){var r=Ii[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function l8(e){var t={};e=mn(e);for(var r=0;r<Ii.length;++r){var n=Ii[r],a=e.match(gle[r]);a!=null&&a.length>0&&(t[n[1]]=Ur(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Cn(t[n[1]]))}return t}function eS(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=cn(t),n[n.length]=r?ft(e,t,r):Ha(e,t))}function c8(e,t){var r=t||{},n=[ta,ft("cp:coreProperties",null,{"xmlns:cp":wa.CORE_PROPS,"xmlns:dc":wa.dc,"xmlns:dcterms":wa.dcterms,"xmlns:dcmitype":wa.dcmitype,"xmlns:xsi":wa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&eS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:T2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&eS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:T2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=Ii.length;++s){var i=Ii[s],l=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&eS(i[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Kd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],u8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function d8(e,t,r,n){var a=[];if(typeof e=="string")a=zR(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(m){return{v:m}}));var i=typeof t=="string"?zR(t,n).map(function(m){return m.v}):t,l=0,u=0;if(i.length>0)for(var d=0;d!==a.length;d+=2){switch(u=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=i.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=i.slice(l,l+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=i.slice(l,l+u);break}l+=u}}function vle(e,t,r){var n={};return t||(t={}),e=mn(e),Kd.forEach(function(a){var s=(e.match(Wp(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Ur(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&d8(n.HeadingPairs,n.TitlesOfParts,t,r),t}function f8(e){var t=[],r=ft;return e||(e={}),e.Application="SheetJS",t[t.length]=ta,t[t.length]=ft("Properties",null,{xmlns:wa.EXT_PROPS,"xmlns:vt":wa.vt}),Kd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=cn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+cn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var yle=/<[^>]+>[^<]*/g;function xle(e,t){var r={},n="",a=e.match(yle);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=nr(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ur(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var u=i.split(">"),d=u[0].slice(4),m=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Ur(m);break;case"bool":r[n]=kn(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=Cn(m);break;case"cy":case"error":r[n]=Ur(m);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,d,u)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function h8(e){var t=[ta,ft("Properties",null,{xmlns:wa.CUST_PROPS,"xmlns:vt":wa.vt})];if(!e)return t.join("");var r=1;return Xn(e).forEach(function(a){++r,t[t.length]=ft("property",Aoe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:cn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var N2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},tS;function wle(e,t,r){tS||(tS=D1(N2)),t=tS[t]||t,e[t]=r}function _le(e,t){var r=[];return Xn(N2).map(function(n){for(var a=0;a<Ii.length;++a)if(Ii[a][1]==n)return Ii[a];for(a=0;a<Kd.length;++a)if(Kd[a][1]==n)return Kd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ha(N2[n[1]]||n[1],a))}}),ft("DocumentProperties",r.join(""),{xmlns:ei.o})}function ble(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Xn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var i=0;i<Ii.length;++i)if(s==Ii[i][1])return;for(i=0;i<Kd.length;++i)if(s==Kd[i][1])return;for(i=0;i<r.length;++i)if(s==r[i])return;var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),a.push(ft(IR(s),l,{"dt:dt":u}))}}),t&&Xn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var i=t[s],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),a.push(ft(IR(s),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ei.o+'">'+a.join("")+"</"+n+">"}function pk(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Sle(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var i=$e(8);return i.write_shift(4,n),i.write_shift(4,a),i}function m8(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function p8(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function g8(e,t,r){return t===31?p8(e):m8(e,t,r)}function j2(e,t,r){return g8(e,t,r===!1?0:4)}function Ele(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return g8(e,t,0)}function Tle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(bs,""),e.l-a&2&&(e.l+=2)}return r}function kle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(bs,"");return r}function Cle(e){var t=e.l,r=Gx(e,a8);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Gx(e,Ds);return[r,n]}function Ale(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Cle(e));return r}function JR(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(bs,"").replace(ep,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function v8(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Mle(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Gx(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==XR&&n!==t&&ile.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===XR?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return m8(e,n,4).replace(bs,"");case 31:return p8(e);case 64:return pk(e);case 65:return v8(e);case 71:return Mle(e);case 80:return j2(e,n,!s.raw).replace(bs,"");case 81:return Ele(e,n).replace(bs,"");case 4108:return Ale(e);case 4126:case 4127:return n==4127?Tle(e):kle(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function ZR(e,t){var r=$e(4),n=$e(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=$e(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Sle(t);break;case 31:case 80:for(n=$e(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Na([r,n])}function eO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,u=-1,d={};for(i=0;i!=a;++i){var m=e.read_shift(4),p=e.read_shift(4);s[i]=[m,p+r]}s.sort(function(M,k){return M[1]-k[1]});var v={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var y=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,y=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],y=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],y=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(y=!1,e.l=s[i][1]),y)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var w=t[s[i][0]];if(v[w.n]=Gx(e,w.t,{raw:!0}),w.p==="version"&&(v[w.n]=String(v[w.n]>>16)+"."+("0000"+String(v[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(v[w.n]){case 0:v[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:io(l=v[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[w.n])}}else if(s[i][0]===1){if(l=v.CodePage=Gx(e,hk),io(l),u!==-1){var x=e.l;e.l=s[u][1],d=JR(e,l),e.l=x}}else if(s[i][0]===0){if(l===0){u=i,e.l=s[i+1][1];continue}d=JR(e,l)}else{var b=d[s[i][0]],T;switch(e[e.l]){case 65:e.l+=4,T=v8(e);break;case 30:e.l+=4,T=j2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,T=j2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,T=e.read_shift(4,"i");break;case 19:e.l+=4,T=e.read_shift(4);break;case 5:e.l+=4,T=e.read_shift(8,"f");break;case 11:e.l+=4,T=Jn(e,4);break;case 64:e.l+=4,T=Cn(pk(e));break;default:throw new Error("unparsed value: "+e[e.l])}v[b]=T}}return e.l=r+n,v}var y8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Nle(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function tO(e,t,r){var n=$e(8),a=[],s=[],i=8,l=0,u=$e(8),d=$e(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),s.push(u),a.push(d),i+=8+u.length,!t){d=$e(8),d.write_shift(4,0),a.unshift(d);var m=[$e(4)];for(m[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(u=$e(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);m.push(u)}u=Na(m),s.unshift(u),i+=8+u.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(y8.indexOf(e[l][0])>-1||u8.indexOf(e[l][0])>-1)&&e[l][1]!=null){var v=e[l][1],y=0;if(t){y=+t[e[l][0]];var w=r[y];if(w.p=="version"&&typeof v=="string"){var x=v.split(".");v=(+x[0]<<16)+(+x[1]||0)}u=ZR(w.t,v)}else{var b=Nle(v);b==-1&&(b=31,v=String(v)),u=ZR(b,v)}s.push(u),d=$e(8),d.write_shift(4,t?y:2+l),a.push(d),i+=8+u.length}var T=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,T),T+=s[l].length;return n.write_shift(4,i),n.write_shift(4,s.length),Na([n].concat(a).concat(s))}function rO(e,t,r){var n=e.content;if(!n)return{};Va(n,0);var a,s,i,l,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),m=n.read_shift(16);if(m!==$t.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),u=n.read_shift(4));var p=eO(n,t),v={SystemIdentifier:d};for(var y in p)v[y]=p[y];if(v.FMTID=s,a===1)return v;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var w;try{w=eO(n,null)}catch{}for(y in w)v[y]=w[y];return v.FMTID=[s,i],v}function nO(e,t,r,n,a,s){var i=$e(a?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,$t.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var u=tO(e,r,n);if(l.push(u),a){var d=tO(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+u.length),l.push(d)}return Na(l)}function Wc(e,t){return e.read_shift(t),null}function jle(e,t){t||(t=$e(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Rle(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Jn(e,t){return e.read_shift(t)===1}function ys(e,t){return t||(t=$e(2)),t.write_shift(2,+!!e),t}function da(e){return e.read_shift(2,"u")}function Mi(e,t){return t||(t=$e(2)),t.write_shift(2,e),t}function x8(e,t){return Rle(e,t,da)}function Ole(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function w8(e,t,r){return r||(r=$e(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function zg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Dle(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,u={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,d);return a&&(e.l+=4*i),n&&(e.l+=l),u.t=m,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function Ple(e){var t=e.t||"",r=$e(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=$e(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Na(a)}function lf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Vg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):lf(e,n,r)}function wf(e,t,r){if(r.biff>5)return Vg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function _8(e,t,r){return r||(r=$e(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Fle(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Ile(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(bs,"");return n&&(e.l+=24),a}function Lle(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(bs,"");return r+i}function Ble(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Ile(e);case"0303000000000000c000000000000046":return Lle(e);default:throw new Error("Unsupported Moniker "+r)}}function Uy(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(bs,""):"";return r}function aO(e,t){t||(t=$e(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Ule(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,u,d="",m,p;a&16&&(s=Uy(e,r-e.l)),a&128&&(i=Uy(e,r-e.l)),(a&257)===257&&(l=Uy(e,r-e.l)),(a&257)===1&&(u=Ble(e,r-e.l)),a&8&&(d=Uy(e,r-e.l)),a&32&&(m=e.read_shift(16)),a&64&&(p=pk(e)),e.l=r;var v=i||l||u||"";v&&d&&(v+="#"+d),v||(v="#"+d),a&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var y={Target:v};return m&&(y.guid=m),p&&(y.time=p),s&&(y.Tooltip=s),y}function zle(e){var t=$e(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(s==28)n=n.slice(1),aO(n,t);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&aO(a>-1?n.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function b8(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function S8(e,t){var r=b8(e);return r[3]=0,r}function al(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function cf(e,t,r,n){return n||(n=$e(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Vle(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Hle(e,t,r){return t===0?"":wf(e,t,r)}function $le(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function E8(e){var t=e.read_shift(2),r=fk(e);return[t,r]}function qle(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=zg(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function I1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function T8(e,t){return t||(t=$e(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function k8(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Gle=k8;function C8(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Wle(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Kle(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Za(e){e.l+=2,e.l+=e.read_shift(2)}var Xle={0:Za,4:Za,5:Za,6:Za,7:Kle,8:Za,9:Za,10:Za,11:Za,12:Za,13:Wle,14:Za,15:Za,16:Za,17:Za,18:Za,19:Za,20:Za,21:C8};function Yle(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Xle[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function zy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function gk(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=$e(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Qle(e,t){return t===0||e.read_shift(2),1200}function Jle(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=wf(e,0,r);return e.read_shift(t+n-e.l),a}function Zle(e,t){var r=!t||t.biff==8,n=$e(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function ece(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function tce(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=zg(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function rce(e,t){var r=!t||t.biff>=8?2:1,n=$e(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function nce(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Dle(e));return s.Count=n,s.Unique=a,s}function ace(e,t){var r=$e(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Ple(e[a]);var s=Na([r].concat(n));return s.parts=[r.length].concat(n.map(function(i){return i.length})),s}function sce(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function ice(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function oce(e){var t=Vle(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function lce(e){return e.read_shift(2),e.read_shift(4)}function sO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function cce(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:u,TabRatio:d}}function uce(){var e=$e(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function dce(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function fce(e){var t=$e(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function hce(){}function mce(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=zg(e,0,r),n}function pce(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=$e(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function gce(e){var t=al(e);return t.isst=e.read_shift(4),t}function vce(e,t,r,n){var a=$e(10);return cf(e,t,n,a),a.write_shift(4,r),a}function yce(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=al(e);r.biff==2&&e.l++;var s=Vg(e,n-e.l,r);return a.val=s,a}function xce(e,t,r,n,a){var s=!a||a.biff==8,i=$e(8+ +s+(1+s)*r.length);return cf(e,t,n,i),i.write_shift(2,r.length),s&&i.write_shift(1,1),i.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),i}function wce(e,t,r){var n=e.read_shift(2),a=wf(e,0,r);return[n,a]}function _ce(e,t,r,n){var a=r&&r.biff==5;n||(n=$e(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var bce=wf;function iO(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c:u}}}function Sce(e,t){var r=t.biff==8||!t.biff?4:2,n=$e(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Ece(e){var t=e.read_shift(2),r=e.read_shift(2),n=E8(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Tce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(E8(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function kce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Cce(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(2);return a.patternType=ole[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function Ace(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Cce(e,t,n.fStyle,r),n}function oO(e,t,r,n){var a=r&&r.biff==5;n||(n=$e(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Mce(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Nce(e){var t=$e(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function lO(e,t,r){var n=al(e);(r.biff==2||t==9)&&++e.l;var a=Ole(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function jce(e,t,r,n,a,s){var i=$e(8);return cf(e,t,n,i),w8(r,s,i),i}function Rce(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=al(e),a=ss(e);return n.val=a,n}function Oce(e,t,r,n){var a=$e(14);return cf(e,t,n,a),of(r,a),a}var cO=Hle;function Dce(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=lf(e,s),l=[];n>e.l;)l.push(Vg(e));return[s,a,i,l]}function uO(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=qle(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Pce=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function dO(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=lf(e,i,r);a&32&&(d=Pce[d.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var p=n==e.l||l===0||!(m>0)?[]:Yhe(e,m,r,l);return{chKey:s,Name:d,itab:u,rgce:p}}function A8(e,t,r){if(r.biff<8)return Fce(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push($le(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Fce(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=zg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Ice(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=lf(e,n,r),i=lf(e,a,r);return[s,i]}function Lce(e,t,r){var n=k8(e);e.l++;var a=e.read_shift(1);return t-=8,[Qhe(e,t,r),a,n]}function fO(e,t,r){var n=Gle(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Khe(e,t,r)]}function Bce(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Uce(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=wf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function zce(e,t,r){return Uce(e,t,r)}function Vce(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(I1(e));return r}function Hce(e){var t=$e(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)T8(e[r],t);return t}function $ce(e,t,r){if(r&&r.biff<8)return Gce(e,t,r);var n=C8(e),a=Yle(e,t-22,n[1]);return{cmo:n,ft:a}}var qce={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Gce(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((qce[n]||os)(e,t,r)),{cmo:[a,n,s],ft:i}}function Wce(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Fle(e,6,r);var l=e.read_shift(2);e.read_shift(2),da(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-n!=e.lens[d])throw new Error("TxO: bad continue record");var m=e[e.l],p=lf(e,e.lens[d+1]-e.lens[d]-1);if(a+=p,a.length>=(m?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Kce(e,t){var r=I1(e);e.l+=16;var n=Ule(e,t-24);return[r,n]}function Xce(e){var t=$e(24),r=zn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Na([t,zle(e[1])])}function Yce(e,t){e.read_shift(2);var r=I1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(bs,""),[r,n]}function Qce(e){var t=e[1].Tooltip,r=$e(10+2*(t.length+1));r.write_shift(2,2048);var n=zn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Jce(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=YR[r]||r,r=e.read_shift(2),t[1]=YR[r]||r,t}function Zce(e){return e||(e=$e(4)),e.write_shift(2,1),e.write_shift(2,1),e}function eue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(S8(e));return r}function tue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(S8(e));return r}function rue(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function M8(e,t,r){if(!r.cellStyles)return os(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:s,w:i,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(d.level=u>>8&7),d}function nue(e,t){var r=$e(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function aue(e,t){var r={};return t<32||(e.l+=16,r.header=ss(e),r.footer=ss(e),e.l+=2),r}function sue(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function iue(e){for(var t=$e(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var oue=al,lue=x8,cue=Vg;function uue(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function due(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=al(e);++e.l;var a=wf(e,t-7,r);return n.t="str",n.val=a,n}function fue(e){var t=al(e);++e.l;var r=ss(e);return t.t="n",t.val=r,t}function hue(e,t,r){var n=$e(15);return Gg(n,e,t),n.write_shift(8,r,"f"),n}function mue(e){var t=al(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function pue(e,t,r){var n=$e(9);return Gg(n,e,t),n.write_shift(2,r),n}function gue(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function vue(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function yue(e,t,r){var n=e.l+t,a=al(e),s=e.read_shift(2),i=lf(e,s,r);return e.l=n,a.t="str",a.val=i,a}var xue=[2,3,48,49,131,139,140,245],R2=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=D1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var d=[],m=wu(1);switch(u.type){case"base64":m=ai(oi(l));break;case"binary":m=ai(l);break;case"buffer":case"array":m=l;break}Va(m,0);var p=m.read_shift(1),v=!!(p&136),y=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,v=!0;break;case 49:y=!0,v=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,b=521;p==2&&(x=m.read_shift(2)),m.l+=3,p!=2&&(x=m.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(b=m.read_shift(2));var T=m.read_shift(2),M=u.codepage||1252;p!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(M=e[m[m.l]]),m.l+=1,m.l+=2),w&&(m.l+=36);for(var k=[],j={},R=Math.min(m.length,p==2?521:b-10-(y?264:0)),D=w?32:11;m.l<R&&m[m.l]!=13;)switch(j={},j.name=$p.utils.decode(M,m.slice(m.l,m.l+D)).replace(/[\u0000\r\n].*$/g,""),m.l+=D,j.type=String.fromCharCode(m.read_shift(1)),p!=2&&!w&&(j.offset=m.read_shift(4)),j.len=m.read_shift(1),p==2&&(j.offset=m.read_shift(2)),j.dec=m.read_shift(1),j.name.length&&k.push(j),p!=2&&(m.l+=w?13:14),j.type){case"B":(!y||j.len!=8)&&u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(m[m.l]!==13&&(m.l=b-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=b;var O=0,B=0;for(d[0]=[],B=0;B!=k.length;++B)d[0][B]=k[B].name;for(;x-- >0;){if(m[m.l]===42){m.l+=T;continue}for(++m.l,d[++O]=[],B=0,B=0;B!=k.length;++B){var V=m.slice(m.l,m.l+k[B].len);m.l+=k[B].len,Va(V,0);var ne=$p.utils.decode(M,V);switch(k[B].type){case"C":ne.trim().length&&(d[O][B]=ne.replace(/\s+$/,""));break;case"D":ne.length===8?d[O][B]=new Date(+ne.slice(0,4),+ne.slice(4,6)-1,+ne.slice(6,8)):d[O][B]=ne;break;case"F":d[O][B]=parseFloat(ne.trim());break;case"+":case"I":d[O][B]=w?V.read_shift(-4,"i")^2147483648:V.read_shift(4,"i");break;case"L":switch(ne.trim().toUpperCase()){case"Y":case"T":d[O][B]=!0;break;case"N":case"F":d[O][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ne+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));d[O][B]="##MEMO##"+(w?parseInt(ne.trim(),10):V.read_shift(4));break;case"N":ne=ne.replace(/\u0000/g,"").trim(),ne&&ne!="."&&(d[O][B]=+ne||0);break;case"@":d[O][B]=new Date(V.read_shift(-8,"f")-621356832e5);break;case"T":d[O][B]=new Date((V.read_shift(4)-2440588)*864e5+V.read_shift(4));break;case"Y":d[O][B]=V.read_shift(4,"i")/1e4+V.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[O][B]=-V.read_shift(-8,"f");break;case"B":if(y&&k[B].len==8){d[O][B]=V.read_shift(8,"f");break}case"G":case"P":V.l+=k[B].len;break;case"0":if(k[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[B].type)}}}if(p!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=k,d}function n(l,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var m=B0(r(l,d),d);return m["!cols"]=d.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete d.DBF,m}function a(l,u){try{return Ou(n(l,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,u){var d=u||{};if(+d.codepage>=0&&io(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ls(),p=Xx(l,{header:1,raw:!0,cellDates:!0}),v=p[0],y=p.slice(1),w=l["!cols"]||[],x=0,b=0,T=0,M=1;for(x=0;x<v.length;++x){if(((w[x]||{}).DBF||{}).name){v[x]=w[x].DBF.name,++T;continue}if(v[x]!=null){if(++T,typeof v[x]=="number"&&(v[x]=v[x].toString(10)),typeof v[x]!="string")throw new Error("DBF Invalid column name "+v[x]+" |"+typeof v[x]+"|");if(v.indexOf(v[x])!==x){for(b=0;b<1024;++b)if(v.indexOf(v[x]+"_"+b)==-1){v[x]+="_"+b;break}}}}var k=zr(l["!ref"]),j=[],R=[],D=[];for(x=0;x<=k.e.c-k.s.c;++x){var O="",B="",V=0,ne=[];for(b=0;b<y.length;++b)y[b][x]!=null&&ne.push(y[b][x]);if(ne.length==0||v[x]==null){j[x]="?";continue}for(b=0;b<ne.length;++b){switch(typeof ne[b]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=ne[b]instanceof Date?"D":"C";break;default:B="C"}V=Math.max(V,String(ne[b]).length),O=O&&O!=B?"C":B}V>250&&(V=250),B=((w[x]||{}).DBF||{}).type,B=="C"&&w[x].DBF.len>V&&(V=w[x].DBF.len),O=="B"&&B=="N"&&(O="N",D[x]=w[x].DBF.dec,V=w[x].DBF.len),R[x]=O=="C"||B=="N"?V:s[O]||0,M+=R[x],j[x]=O}var ie=m.next(32);for(ie.write_shift(4,318902576),ie.write_shift(4,y.length),ie.write_shift(2,296+32*T),ie.write_shift(2,M),x=0;x<4;++x)ie.write_shift(4,0);for(ie.write_shift(4,0|(+t[y5]||3)<<8),x=0,b=0;x<v.length;++x)if(v[x]!=null){var Q=m.next(32),ve=(v[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,ve,"sbcs"),Q.write_shift(1,j[x]=="?"?"C":j[x],"sbcs"),Q.write_shift(4,b),Q.write_shift(1,R[x]||s[j[x]]||0),Q.write_shift(1,D[x]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),b+=R[x]||s[j[x]]||0}var G=m.next(264);for(G.write_shift(4,13),x=0;x<65;++x)G.write_shift(4,0);for(x=0;x<y.length;++x){var fe=m.next(M);for(fe.write_shift(1,0),b=0;b<v.length;++b)if(v[b]!=null)switch(j[b]){case"L":fe.write_shift(1,y[x][b]==null?63:y[x][b]?84:70);break;case"B":fe.write_shift(8,y[x][b]||0,"f");break;case"N":var K="0";for(typeof y[x][b]=="number"&&(K=y[x][b].toFixed(D[b]||0)),T=0;T<R[b]-K.length;++T)fe.write_shift(1,32);fe.write_shift(1,K,"sbcs");break;case"D":y[x][b]?(fe.write_shift(4,("0000"+y[x][b].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(y[x][b].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+y[x][b].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var re=String(y[x][b]!=null?y[x][b]:"").slice(0,R[b]);for(fe.write_shift(1,re,"sbcs"),T=0;T<R[b]-re.length;++T)fe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}})(),N8=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Xn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,y){var w=e[y];return typeof w=="number"?SR(w):w},n=function(v,y,w){var x=y.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return x==59?v:SR(x)};e["|"]=254;function a(v,y){switch(y.type){case"base64":return s(oi(v),y);case"binary":return s(v,y);case"buffer":return s(yr&&Buffer.isBuffer(v)?v.toString("binary"):Ru(v),y);case"array":return s(sf(v),y)}throw new Error("Unrecognized type "+y.type)}function s(v,y){var w=v.split(/[\n\r]+/),x=-1,b=-1,T=0,M=0,k=[],j=[],R=null,D={},O=[],B=[],V=[],ne=0,ie;for(+y.codepage>=0&&io(+y.codepage);T!==w.length;++T){ne=0;var Q=w[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ve=Q.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),G=ve[0],fe;if(Q.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ve[1].charAt(0)=="P"&&j.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,re=!1,le=!1,J=!1,Me=-1,H=-1;for(M=1;M<ve.length;++M)switch(ve[M].charAt(0)){case"A":break;case"X":b=parseInt(ve[M].slice(1))-1,re=!0;break;case"Y":for(x=parseInt(ve[M].slice(1))-1,re||(b=0),ie=k.length;ie<=x;++ie)k[ie]=[];break;case"K":fe=ve[M].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(mo(fe))?isNaN(u0(fe).getDate())||(fe=Cn(fe)):(fe=mo(fe),R!==null&&I0(R)&&(fe=F1(fe))),K=!0;break;case"E":J=!0;var L=Hh(ve[M].slice(1),{r:x,c:b});k[x][b]=[k[x][b],L];break;case"S":le=!0,k[x][b]=[k[x][b],"S5S"];break;case"G":break;case"R":Me=parseInt(ve[M].slice(1))-1;break;case"C":H=parseInt(ve[M].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+Q)}if(K&&(k[x][b]&&k[x][b].length==2?k[x][b][0]=fe:k[x][b]=fe,R=null),le){if(J)throw new Error("SYLK shared formula cannot have own formula");var Y=Me>-1&&k[Me][H];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");k[x][b][1]=K8(Y[1],{r:x-Me,c:b-H})}break;case"F":var Z=0;for(M=1;M<ve.length;++M)switch(ve[M].charAt(0)){case"X":b=parseInt(ve[M].slice(1))-1,++Z;break;case"Y":for(x=parseInt(ve[M].slice(1))-1,ie=k.length;ie<=x;++ie)k[ie]=[];break;case"M":ne=parseInt(ve[M].slice(1))/20;break;case"F":break;case"G":break;case"P":R=j[parseInt(ve[M].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(V=ve[M].slice(1).split(" "),ie=parseInt(V[0],10);ie<=parseInt(V[1],10);++ie)ne=parseInt(V[2],10),B[ie-1]=ne===0?{hidden:!0}:{wch:ne},_u(B[ie-1]);break;case"C":b=parseInt(ve[M].slice(1))-1,B[b]||(B[b]={});break;case"R":x=parseInt(ve[M].slice(1))-1,O[x]||(O[x]={}),ne>0?(O[x].hpt=ne,O[x].hpx=f0(ne)):ne===0&&(O[x].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+Q)}Z<1&&(R=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+Q)}}return O.length>0&&(D["!rows"]=O),B.length>0&&(D["!cols"]=B),y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),[k,D]}function i(v,y){var w=a(v,y),x=w[0],b=w[1],T=B0(x,y);return Xn(b).forEach(function(M){T[M]=b[M]}),T}function l(v,y){return Ou(i(v,y),y)}function u(v,y,w,x){var b="C;Y"+(w+1)+";X"+(x+1)+";K";switch(v.t){case"n":b+=v.v||0,v.f&&!v.F&&(b+=";E"+bk(v.f,{r:w,c:x}));break;case"b":b+=v.v?"TRUE":"FALSE";break;case"e":b+=v.w||v.v;break;case"d":b+='"'+(v.w||v.v)+'"';break;case"s":b+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(v,y){y.forEach(function(w,x){var b="F;W"+(x+1)+" "+(x+1)+" ";w.hidden?b+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=Jp(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=Zp(w.wpx)),typeof w.wch=="number"&&(b+=Math.round(w.wch))),b.charAt(b.length-1)!=" "&&v.push(b)})}function m(v,y){y.forEach(function(w,x){var b="F;";w.hidden?b+="M0;":w.hpt?b+="M"+20*w.hpt+";":w.hpx&&(b+="M"+20*eg(w.hpx)+";"),b.length>2&&v.push(b+"R"+(x+1))})}function p(v,y){var w=["ID;PWXL;N;E"],x=[],b=zr(v["!ref"]),T,M=Array.isArray(v),k=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),v["!cols"]&&d(w,v["!cols"]),v["!rows"]&&m(w,v["!rows"]),w.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var j=b.s.r;j<=b.e.r;++j)for(var R=b.s.c;R<=b.e.c;++R){var D=Zt({r:j,c:R});T=M?(v[j]||[])[R]:v[D],!(!T||T.v==null&&(!T.f||T.F))&&x.push(u(T,v,j,R))}return w.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:i,from_sheet:p}})(),j8=(function(){function e(s,i){switch(i.type){case"base64":return t(oi(s),i);case"binary":return t(s,i);case"buffer":return t(yr&&Buffer.isBuffer(s)?s.toString("binary"):Ru(s),i);case"array":return t(sf(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),u=-1,d=-1,m=0,p=[];m!==l.length;++m){if(l[m].trim()==="BOT"){p[++u]=[],d=0;continue}if(!(u<0)){var v=l[m].trim().split(","),y=v[0],w=v[1];++m;for(var x=l[m]||"";(x.match(/["]/g)||[]).length&1&&m<l.length-1;)x+=`
`+l[++m];switch(x=x.trim(),+y){case-1:if(x==="BOT"){p[++u]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[u][d]=!0:x==="FALSE"?p[u][d]=!1:isNaN(mo(w))?isNaN(u0(w).getDate())?p[u][d]=w:p[u][d]=Cn(w):p[u][d]=mo(w),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[u][d++]=x!==""?x:null;break}if(x==="EOD")break}}return i&&i.sheetRows&&(p=p.slice(0,i.sheetRows)),p}function r(s,i){return B0(e(s,i),i)}function n(s,i){return Ou(r(s,i),i)}var a=(function(){var s=function(u,d,m,p,v){u.push(d),u.push(m+","+p),u.push('"'+v.replace(/"/g,'""')+'"')},i=function(u,d,m,p){u.push(d+","+m),u.push(d==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var d=[],m=zr(u["!ref"]),p,v=Array.isArray(u);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,m.e.r-m.s.r+1,""),s(d,"TUPLES",0,m.e.c-m.s.c+1,""),s(d,"DATA",0,0,"");for(var y=m.s.r;y<=m.e.r;++y){i(d,-1,0,"BOT");for(var w=m.s.c;w<=m.e.c;++w){var x=Zt({r:y,c:w});if(p=v?(u[y]||[])[w]:u[x],!p){i(d,1,0,"");continue}switch(p.t){case"n":var b=p.w;!b&&p.v!=null&&(b=p.v),b==null?p.f&&!p.F?i(d,1,0,"="+p.f):i(d,1,0,""):i(d,0,b,"V");break;case"b":i(d,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":i(d,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Bi(p.z||Qt[14],_a(Cn(p.v)))),i(d,0,p.w,"V");break;default:i(d,1,0,"")}}}i(d,-1,0,"EOD");var T=`\r
`,M=d.join(T);return M}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),R8=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,v){for(var y=p.split(`
`),w=-1,x=-1,b=0,T=[];b!==y.length;++b){var M=y[b].trim().split(":");if(M[0]==="cell"){var k=zn(M[1]);if(T.length<=k.r)for(w=T.length;w<=k.r;++w)T[w]||(T[w]=[]);switch(w=k.r,x=k.c,M[2]){case"t":T[w][x]=e(M[3]);break;case"v":T[w][x]=+M[3];break;case"vtf":var j=M[M.length-1];case"vtc":switch(M[3]){case"nl":T[w][x]=!!+M[4];break;default:T[w][x]=+M[4];break}M[2]=="vtf"&&(T[w][x]=[T[w][x],j])}}}return v&&v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}function n(p,v){return B0(r(p,v),v)}function a(p,v){return Ou(n(p,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(p){if(!p||!p["!ref"])return"";for(var v=[],y=[],w,x="",b=zs(p["!ref"]),T=Array.isArray(p),M=b.s.r;M<=b.e.r;++M)for(var k=b.s.c;k<=b.e.c;++k)if(x=Zt({r:M,c:k}),w=T?(p[M]||[])[k]:p[x],!(!w||w.v==null||w.t==="z")){switch(y=["cell",x,"t"],w.t){case"s":case"str":y.push(t(w.v));break;case"n":w.f?(y[2]="vtf",y[3]="n",y[4]=w.v,y[5]=t(w.f)):(y[2]="v",y[3]=w.v);break;case"b":y[2]="vt"+(w.f?"f":"c"),y[3]="nl",y[4]=w.v?"1":"0",y[5]=t(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var j=_a(Cn(w.v));y[2]="vtc",y[3]="nd",y[4]=""+j,y[5]=w.w||Bi(w.z||Qt[14],j);break;case"e":continue}v.push(y.join(":"))}return v.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(p){return[s,i,l,i,d(p),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:m}})(),d0=(function(){function e(m,p,v,y,w){w.raw?p[v][y]=m:m===""||(m==="TRUE"?p[v][y]=!0:m==="FALSE"?p[v][y]=!1:isNaN(mo(m))?isNaN(u0(m).getDate())?p[v][y]=m:p[v][y]=Cn(m):p[v][y]=mo(m))}function t(m,p){var v=p||{},y=[];if(!m||m.length===0)return y;for(var w=m.split(/[\r\n]/),x=w.length-1;x>=0&&w[x].length===0;)--x;for(var b=10,T=0,M=0;M<=x;++M)T=w[M].indexOf(" "),T==-1?T=w[M].length:T++,b=Math.max(b,T);for(M=0;M<=x;++M){y[M]=[];var k=0;for(e(w[M].slice(0,b).trim(),y,M,k,v),k=1;k<=(w[M].length-b)/10+1;++k)e(w[M].slice(b+(k-1)*10,b+k*10).trim(),y,M,k,v)}return v.sheetRows&&(y=y.slice(0,v.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(m){for(var p={},v=!1,y=0,w=0;y<m.length;++y)(w=m.charCodeAt(y))==34?v=!v:!v&&w in r&&(p[w]=(p[w]||0)+1);w=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y]);if(!w.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&w.push([p[y],y])}return w.sort(function(x,b){return x[0]-b[0]||n[x[1]]-n[b[1]]}),r[w.pop()[1]]||44}function s(m,p){var v=p||{},y="",w=v.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(y=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(y=m.charAt(4),m=m.slice(6)):y=a(m.slice(0,1024)):v&&v.FS?y=v.FS:y=a(m.slice(0,1024));var b=0,T=0,M=0,k=0,j=0,R=y.charCodeAt(0),D=!1,O=0,B=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var V=v.dateNF!=null?soe(v.dateNF):null;function ne(){var ie=m.slice(k,j),Q={};if(ie.charAt(0)=='"'&&ie.charAt(ie.length-1)=='"'&&(ie=ie.slice(1,-1).replace(/""/g,'"')),ie.length===0)Q.t="z";else if(v.raw)Q.t="s",Q.v=ie;else if(ie.trim().length===0)Q.t="s",Q.v=ie;else if(ie.charCodeAt(0)==61)ie.charCodeAt(1)==34&&ie.charCodeAt(ie.length-1)==34?(Q.t="s",Q.v=ie.slice(2,-1).replace(/""/g,'"')):Dfe(ie)?(Q.t="n",Q.f=ie.slice(1)):(Q.t="s",Q.v=ie);else if(ie=="TRUE")Q.t="b",Q.v=!0;else if(ie=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(M=mo(ie)))Q.t="n",v.cellText!==!1&&(Q.w=ie),Q.v=M;else if(!isNaN(u0(ie).getDate())||V&&ie.match(V)){Q.z=v.dateNF||Qt[14];var ve=0;V&&ie.match(V)&&(ie=ioe(ie,v.dateNF,ie.match(V)||[]),ve=1),v.cellDates?(Q.t="d",Q.v=Cn(ie,ve)):(Q.t="n",Q.v=_a(Cn(ie,ve))),v.cellText!==!1&&(Q.w=Bi(Q.z,Q.v instanceof Date?_a(Q.v):Q.v)),v.cellNF||delete Q.z}else Q.t="s",Q.v=ie;if(Q.t=="z"||(v.dense?(w[b]||(w[b]=[]),w[b][T]=Q):w[Zt({c:T,r:b})]=Q),k=j+1,B=m.charCodeAt(k),x.e.c<T&&(x.e.c=T),x.e.r<b&&(x.e.r=b),O==R)++T;else if(T=0,++b,v.sheetRows&&v.sheetRows<=b)return!0}e:for(;j<m.length;++j)switch(O=m.charCodeAt(j)){case 34:B===34&&(D=!D);break;case R:case 10:case 13:if(!D&&ne())break e;break}return j-k>0&&ne(),w["!ref"]=dr(x),w}function i(m,p){return!(p&&p.PRN)||p.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,p):B0(t(m,p),p)}function l(m,p){var v="",y=p.type=="string"?[0,0,0,0]:Nk(m,p);switch(p.type){case"base64":v=oi(m);break;case"binary":v=m;break;case"buffer":p.codepage==65001?v=m.toString("utf8"):p.codepage&&typeof $p<"u"||(v=yr&&Buffer.isBuffer(m)?m.toString("binary"):Ru(m));break;case"array":v=sf(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?v=mn(v.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?v=mn(v):p.type=="binary"&&typeof $p<"u",v.slice(0,19)=="socialcalc:version:"?R8.to_sheet(p.type=="string"?v:mn(v),p):i(v,p)}function u(m,p){return Ou(l(m,p),p)}function d(m){for(var p=[],v=zr(m["!ref"]),y,w=Array.isArray(m),x=v.s.r;x<=v.e.r;++x){for(var b=[],T=v.s.c;T<=v.e.c;++T){var M=Zt({r:x,c:T});if(y=w?(m[x]||[])[T]:m[M],!y||y.v==null){b.push("          ");continue}for(var k=(y.w||(nc(y),y.w)||"").slice(0,10);k.length<10;)k+=" ";b.push(k+(T===0?" ":""))}p.push(b.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:d}})();function wue(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=N8.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return d0.to_workbook(e,t)}}var Xd=(function(){function e(L,Y,Z){if(L){Va(L,L.l||0);for(var W=Z.Enum||Me;L.l<L.length;){var ue=L.read_shift(2),he=W[ue]||W[65535],Re=L.read_shift(2),ye=L.l+Re,Ue=he.f&&he.f(L,Re,Z);if(L.l=ye,Y(Ue,he,ue))return}}}function t(L,Y){switch(Y.type){case"base64":return r(ai(oi(L)),Y);case"binary":return r(ai(L),Y);case"buffer":case"array":return r(L,Y)}throw"Unsupported type "+Y.type}function r(L,Y){if(!L)return L;var Z=Y||{},W=Z.dense?[]:{},ue="Sheet1",he="",Re=0,ye={},Ue=[],st=[],X={s:{r:0,c:0},e:{r:0,c:0}},zt=Z.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)Z.Enum=Me,e(L,function(We,ar,fr){switch(fr){case 0:Z.vers=We,We>=4096&&(Z.qpro=!0);break;case 6:X=We;break;case 204:We&&(he=We);break;case 222:he=We;break;case 15:case 51:Z.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:fr==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=Z.dateNF||Qt[14],Z.cellDates&&(We[1].t="d",We[1].v=F1(We[1].v))),Z.qpro&&We[3]>Re&&(W["!ref"]=dr(X),ye[ue]=W,Ue.push(ue),W=Z.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},Re=We[3],ue=he||"Sheet"+(Re+1),he="");var Ft=Z.dense?(W[We[0].r]||[])[We[0].c]:W[Zt(We[0])];if(Ft){Ft.t=We[1].t,Ft.v=We[1].v,We[1].z!=null&&(Ft.z=We[1].z),We[1].f!=null&&(Ft.f=We[1].f);break}Z.dense?(W[We[0].r]||(W[We[0].r]=[]),W[We[0].r][We[0].c]=We[1]):W[Zt(We[0])]=We[1];break}},Z);else if(L[2]==26||L[2]==14)Z.Enum=H,L[2]==14&&(Z.qpro=!0,L.l=0),e(L,function(We,ar,fr){switch(fr){case 204:ue=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>Re&&(W["!ref"]=dr(X),ye[ue]=W,Ue.push(ue),W=Z.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},Re=We[3],ue="Sheet"+(Re+1)),zt>0&&We[0].r>=zt)break;Z.dense?(W[We[0].r]||(W[We[0].r]=[]),W[We[0].r][We[0].c]=We[1]):W[Zt(We[0])]=We[1],X.e.c<We[0].c&&(X.e.c=We[0].c),X.e.r<We[0].r&&(X.e.r=We[0].r);break;case 27:We[14e3]&&(st[We[14e3][0]]=We[14e3][1]);break;case 1537:st[We[0]]=We[1],We[0]==Re&&(ue=We[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(W["!ref"]=dr(X),ye[he||ue]=W,Ue.push(he||ue),!st.length)return{SheetNames:Ue,Sheets:ye};for(var Ot={},qt=[],it=0;it<st.length;++it)ye[Ue[it]]?(qt.push(st[it]||Ue[it]),Ot[st[it]]=ye[st[it]]||ye[Ue[it]]):(qt.push(st[it]),Ot[st[it]]={"!ref":"A1"});return{SheetNames:qt,Sheets:Ot}}function n(L,Y){var Z=Y||{};if(+Z.codepage>=0&&io(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Ls(),ue=zr(L["!ref"]),he=Array.isArray(L),Re=[];ht(W,0,s(1030)),ht(W,6,u(ue));for(var ye=Math.min(ue.e.r,8191),Ue=ue.s.r;Ue<=ye;++Ue)for(var st=ea(Ue),X=ue.s.c;X<=ue.e.c;++X){Ue===ue.s.r&&(Re[X]=Un(X));var zt=Re[X]+st,Ot=he?(L[Ue]||[])[X]:L[zt];if(!(!Ot||Ot.t=="z"))if(Ot.t=="n")(Ot.v|0)==Ot.v&&Ot.v>=-32768&&Ot.v<=32767?ht(W,13,y(Ue,X,Ot.v)):ht(W,14,x(Ue,X,Ot.v));else{var qt=nc(Ot);ht(W,15,p(Ue,X,qt.slice(0,239)))}}return ht(W,1),W.end()}function a(L,Y){var Z=Y||{};if(+Z.codepage>=0&&io(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Ls();ht(W,0,i(L));for(var ue=0,he=0;ue<L.SheetNames.length;++ue)(L.Sheets[L.SheetNames[ue]]||{})["!ref"]&&ht(W,27,J(L.SheetNames[ue],he++));var Re=0;for(ue=0;ue<L.SheetNames.length;++ue){var ye=L.Sheets[L.SheetNames[ue]];if(!(!ye||!ye["!ref"])){for(var Ue=zr(ye["!ref"]),st=Array.isArray(ye),X=[],zt=Math.min(Ue.e.r,8191),Ot=Ue.s.r;Ot<=zt;++Ot)for(var qt=ea(Ot),it=Ue.s.c;it<=Ue.e.c;++it){Ot===Ue.s.r&&(X[it]=Un(it));var We=X[it]+qt,ar=st?(ye[Ot]||[])[it]:ye[We];if(!(!ar||ar.t=="z"))if(ar.t=="n")ht(W,23,ne(Ot,it,Re,ar.v));else{var fr=nc(ar);ht(W,22,O(Ot,it,Re,fr.slice(0,239)))}}++Re}}return ht(W,1),W.end()}function s(L){var Y=$e(2);return Y.write_shift(2,L),Y}function i(L){var Y=$e(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var Z=0,W=0,ue=0,he=0;he<L.SheetNames.length;++he){var Re=L.SheetNames[he],ye=L.Sheets[Re];if(!(!ye||!ye["!ref"])){++ue;var Ue=zs(ye["!ref"]);Z<Ue.e.r&&(Z=Ue.e.r),W<Ue.e.c&&(W=Ue.e.c)}}return Z>8191&&(Z=8191),Y.write_shift(2,Z),Y.write_shift(1,ue),Y.write_shift(1,W),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function l(L,Y,Z){var W={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&Z.qpro?(W.s.c=L.read_shift(1),L.l++,W.s.r=L.read_shift(2),W.e.c=L.read_shift(1),L.l++,W.e.r=L.read_shift(2),W):(W.s.c=L.read_shift(2),W.s.r=L.read_shift(2),Y==12&&Z.qpro&&(L.l+=2),W.e.c=L.read_shift(2),W.e.r=L.read_shift(2),Y==12&&Z.qpro&&(L.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(L){var Y=$e(8);return Y.write_shift(2,L.s.c),Y.write_shift(2,L.s.r),Y.write_shift(2,L.e.c),Y.write_shift(2,L.e.r),Y}function d(L,Y,Z){var W=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(W[0].c=L.read_shift(1),W[3]=L.read_shift(1),W[0].r=L.read_shift(2),L.l+=2):(W[2]=L.read_shift(1),W[0].c=L.read_shift(2),W[0].r=L.read_shift(2)),W}function m(L,Y,Z){var W=L.l+Y,ue=d(L,Y,Z);if(ue[1].t="s",Z.vers==20768){L.l++;var he=L.read_shift(1);return ue[1].v=L.read_shift(he,"utf8"),ue}return Z.qpro&&L.l++,ue[1].v=L.read_shift(W-L.l,"cstr"),ue}function p(L,Y,Z){var W=$e(7+Z.length);W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,L),W.write_shift(1,39);for(var ue=0;ue<W.length;++ue){var he=Z.charCodeAt(ue);W.write_shift(1,he>=128?95:he)}return W.write_shift(1,0),W}function v(L,Y,Z){var W=d(L,Y,Z);return W[1].v=L.read_shift(2,"i"),W}function y(L,Y,Z){var W=$e(7);return W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,L),W.write_shift(2,Z,"i"),W}function w(L,Y,Z){var W=d(L,Y,Z);return W[1].v=L.read_shift(8,"f"),W}function x(L,Y,Z){var W=$e(13);return W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,L),W.write_shift(8,Z,"f"),W}function b(L,Y,Z){var W=L.l+Y,ue=d(L,Y,Z);if(ue[1].v=L.read_shift(8,"f"),Z.qpro)L.l=W;else{var he=L.read_shift(2);j(L.slice(L.l,L.l+he),ue),L.l+=he}return ue}function T(L,Y,Z){var W=Y&32768;return Y&=-32769,Y=(W?L:0)+(Y>=8192?Y-16384:Y),(W?"":"$")+(Z?Un(Y):ea(Y))}var M={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(L,Y){Va(L,0);for(var Z=[],W=0,ue="",he="",Re="",ye="";L.l<L.length;){var Ue=L[L.l++];switch(Ue){case 0:Z.push(L.read_shift(8,"f"));break;case 1:he=T(Y[0].c,L.read_shift(2),!0),ue=T(Y[0].r,L.read_shift(2),!1),Z.push(he+ue);break;case 2:{var st=T(Y[0].c,L.read_shift(2),!0),X=T(Y[0].r,L.read_shift(2),!1);he=T(Y[0].c,L.read_shift(2),!0),ue=T(Y[0].r,L.read_shift(2),!1),Z.push(st+X+":"+he+ue)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(L.read_shift(2));break;case 6:{for(var zt="";Ue=L[L.l++];)zt+=String.fromCharCode(Ue);Z.push('"'+zt.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:ye=Z.pop(),Re=Z.pop(),Z.push(["AND","OR"][Ue-20]+"("+Re+","+ye+")");break;default:if(Ue<32&&k[Ue])ye=Z.pop(),Re=Z.pop(),Z.push(Re+k[Ue]+ye);else if(M[Ue]){if(W=M[Ue][1],W==69&&(W=L[L.l++]),W>Z.length){console.error("WK1 bad formula parse 0x"+Ue.toString(16)+":|"+Z.join("|")+"|");return}var Ot=Z.slice(-W);Z.length-=W,Z.push(M[Ue][0]+"("+Ot.join(",")+")")}else return Ue<=7?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=24?console.error("WK1 unsupported op "+Ue.toString(16)):Ue<=30?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=115?console.error("WK1 unsupported function opcode "+Ue.toString(16)):console.error("WK1 unrecognized opcode "+Ue.toString(16))}}Z.length==1?Y[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function R(L){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=L.read_shift(2),Y[3]=L[L.l++],Y[0].c=L[L.l++],Y}function D(L,Y){var Z=R(L);return Z[1].t="s",Z[1].v=L.read_shift(Y-4,"cstr"),Z}function O(L,Y,Z,W){var ue=$e(6+W.length);ue.write_shift(2,L),ue.write_shift(1,Z),ue.write_shift(1,Y),ue.write_shift(1,39);for(var he=0;he<W.length;++he){var Re=W.charCodeAt(he);ue.write_shift(1,Re>=128?95:Re)}return ue.write_shift(1,0),ue}function B(L,Y){var Z=R(L);Z[1].v=L.read_shift(2);var W=Z[1].v>>1;if(Z[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return Z[1].v=W,Z}function V(L,Y){var Z=R(L),W=L.read_shift(4),ue=L.read_shift(4),he=L.read_shift(2);if(he==65535)return W===0&&ue===3221225472?(Z[1].t="e",Z[1].v=15):W===0&&ue===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Re=he&32768;return he=(he&32767)-16446,Z[1].v=(1-Re*2)*(ue*Math.pow(2,he+32)+W*Math.pow(2,he)),Z}function ne(L,Y,Z,W){var ue=$e(14);if(ue.write_shift(2,L),ue.write_shift(1,Z),ue.write_shift(1,Y),W==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var he=0,Re=0,ye=0,Ue=0;return W<0&&(he=1,W=-W),Re=Math.log2(W)|0,W/=Math.pow(2,Re-31),Ue=W>>>0,(Ue&2147483648)==0&&(W/=2,++Re,Ue=W>>>0),W-=Ue,Ue|=2147483648,Ue>>>=0,W*=Math.pow(2,32),ye=W>>>0,ue.write_shift(4,ye),ue.write_shift(4,Ue),Re+=16383+(he?32768:0),ue.write_shift(2,Re),ue}function ie(L,Y){var Z=V(L);return L.l+=Y-14,Z}function Q(L,Y){var Z=R(L),W=L.read_shift(4);return Z[1].v=W>>6,Z}function ve(L,Y){var Z=R(L),W=L.read_shift(8,"f");return Z[1].v=W,Z}function G(L,Y){var Z=ve(L);return L.l+=Y-10,Z}function fe(L,Y){return L[L.l+Y-1]==0?L.read_shift(Y,"cstr"):""}function K(L,Y){var Z=L[L.l++];Z>Y-1&&(Z=Y-1);for(var W="";W.length<Z;)W+=String.fromCharCode(L[L.l++]);return W}function re(L,Y,Z){if(!(!Z.qpro||Y<21)){var W=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ue=L.read_shift(Y-21,"cstr");return[W,ue]}}function le(L,Y){for(var Z={},W=L.l+Y;L.l<W;){var ue=L.read_shift(2);if(ue==14e3){for(Z[ue]=[0,""],Z[ue][0]=L.read_shift(2);L[L.l];)Z[ue][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return Z}function J(L,Y){var Z=$e(5+L.length);Z.write_shift(2,14e3),Z.write_shift(2,Y);for(var W=0;W<L.length;++W){var ue=L.charCodeAt(W);Z[Z.l++]=ue>127?95:ue}return Z[Z.l++]=0,Z}var Me={0:{n:"BOF",f:da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:V},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:ie},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:ve},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function _ue(e){var t={},r=e.match(ls),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=nr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=WT[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var bue=(function(){var e=Wp("t"),t=Wp("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:Ur(i[1])},u=s.match(t);return u&&(l.s=_ue(u[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),Sue=(function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(s.push("<"+u+">"),i.push("</"+u+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Eue=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Tue=/<(?:\w+:)?r>/,kue=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function vk(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ur(mn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=mn(e),r&&(n.h=nk(n.t))):e.match(Tue)&&(n.r=mn(e),n.t=Ur(mn((e.replace(kue,"").match(Eue)||[]).join("").replace(ls,""))),r&&(n.h=Sue(bue(n.r)))),n):{t:""}}var Cue=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Aue=/<(?:\w+:)?(?:si|sstItem)>/g,Mue=/<\/(?:\w+:)?(?:si|sstItem)>/;function Nue(e,t){var r=[],n="";if(!e)return r;var a=e.match(Cue);if(a){n=a[2].replace(Aue,"").split(Mue);for(var s=0;s!=n.length;++s){var i=vk(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=nr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var jue=/^\s|\s$|[\t\n\r]/;function O8(e,t){if(!t.bookSST)return"";var r=[ta];r[r.length]=ft("sst",null,{xmlns:pf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(jue)&&(s+=' xml:space="preserve"'),s+=">"+cn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Rue(e){return[e.read_shift(4),e.read_shift(4)]}function Oue(e,t){var r=[],n=!1;return uc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function Due(e,t){return t||(t=$e(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Pue=qoe;function Fue(e){var t=Ls();Je(t,159,Due(e));for(var r=0;r<e.length;++r)Je(t,19,Pue(e[r]));return Je(t,160),t.end()}function D8(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Gl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Iue(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Gl(e,4),t.U=Gl(e,4),t.W=Gl(e,4),t}function Lue(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Bue(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Lue(e));return t}function Uue(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function zue(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Gl(e,4),t.U=Gl(e,4),t.W=Gl(e,4),t}function Vue(e){var t=zue(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function P8(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function F8(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Hue(e){var t=Gl(e);switch(t.Minor){case 2:return[t.Minor,$ue(e)];case 3:return[t.Minor,que()];case 4:return[t.Minor,Gue(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function $ue(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=P8(e,r),a=F8(e,e.length-e.l);return{t:"Std",h:n,v:a}}function que(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Gue(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ls,function(s){var i=nr(s);switch(nl(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Wue(e,t){var r={},n=r.EncryptionVersionInfo=Gl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=P8(e,a),t-=a,r.EncryptionVerifier=F8(e,t),r}function Kue(e){var t={},r=t.EncryptionVersionInfo=Gl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function yk(e){var t=0,r,n=D8(e),a=n.length+1,s,i,l,u,d;for(r=wu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=(t&16384)===0?0:1,u=t<<1&32767,d=l|u,t=d^i;return t^52811}var I8=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],u=104,d=i.length-1;d>=0;--d)for(var m=i[d],p=0;p!=7;++p)m&64&&(l^=r[u]),m*=2,--u;return l};return function(i){for(var l=D8(i),u=s(l),d=l.length,m=wu(16),p=0;p!=16;++p)m[p]=0;var v,y,w;for((d&1)===1&&(v=u>>8,m[d]=a(e[0],v),--d,v=u&255,y=l[l.length-1],m[d]=a(y,v));d>0;)--d,v=u>>8,m[d]=a(l[d],v),--d,v=u&255,m[d]=a(l[d],v);for(d=15,w=15-l.length;w>0;)v=u>>8,m[d]=a(e[w],v),--d,--w,v=u&255,m[d]=a(l[d],v),--d,--w;return m}})(),Xue=function(e,t,r,n,a){a||(a=t),n||(n=I8(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Yue=function(e){var t=0,r=I8(e);return function(n){var a=Xue("",n,t,r);return t=a[1],a[0]}};function Que(e,t,r,n){var a={key:da(e),verificationBytes:da(e)};return r.password&&(a.verifier=yk(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Yue(r.password)),a}function Jue(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Kue(e):n.Data=Wue(e,t),n}function Zue(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Jue(e,t-2,n):Que(e,r.biff>=8?t:t-2,r,n),n}var L8=(function(){function e(a,s){switch(s.type){case"base64":return t(oi(a),s);case"binary":return t(a,s);case"buffer":return t(yr&&Buffer.isBuffer(a)?a.toString("binary"):Ru(a),s);case"array":return t(sf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(m,p){Array.isArray(l)&&(l[p]=[]);for(var v=/\\\w+\b/g,y=0,w,x=-1;w=v.exec(m);){switch(w[0]){case"\\cell":var b=m.slice(y,v.lastIndex-w[0].length);if(b[0]==" "&&(b=b.slice(1)),++x,b.length){var T={v:b,t:"s"};Array.isArray(l)?l[p][x]=T:l[Zt({r:p,c:x})]=T}break}y=v.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=dr(d),l}function r(a,s){return Ou(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=zr(a["!ref"]),l,u=Array.isArray(a),d=i.s.r;d<=i.e.r;++d){s.push("\\trowd\\trautofit1");for(var m=i.s.c;m<=i.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=i.s.c;m<=i.e.c;++m){var p=Zt({r:d,c:m});l=u?(a[d]||[])[m]:a[p],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(nc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function ede(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Qp(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function tde(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,u=0,d=a+s;switch(u=i/(d>1?2-d:d),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,u,d/2]}function rde(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,u;if(r!==0)switch(l|0){case 0:case 6:u=a*l,i[0]+=a,i[1]+=u;break;case 1:u=a*(2-l),i[0]+=u,i[1]+=a;break;case 2:u=a*(l-2),i[1]+=a,i[2]+=u;break;case 3:u=a*(4-l),i[1]+=u,i[2]+=a;break;case 4:u=a*(l-4),i[2]+=a,i[0]+=u;break;case 5:u=a*(6-l),i[2]+=u,i[0]+=a;break}for(var d=0;d!=3;++d)i[d]=Math.round(i[d]*255);return i}function Wx(e,t){if(t===0)return e;var r=tde(ede(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Qp(rde(r))}var B8=6,nde=15,ade=1,ns=B8;function Jp(e){return Math.floor((e+Math.round(128/ns)/256)*ns)}function Zp(e){return Math.floor((e-5)/ns*100+.5)/100}function Kx(e){return Math.round((e*ns+5)/ns*256)/256}function rS(e){return Kx(Zp(Jp(e)))}function xk(e){var t=Math.abs(e-rS(e)),r=ns;if(t>.005)for(ns=ade;ns<nde;++ns)Math.abs(e-rS(e))<=t&&(t=Math.abs(e-rS(e)),r=ns);ns=r}function _u(e){e.width?(e.wpx=Jp(e.width),e.wch=Zp(e.wpx),e.MDW=ns):e.wpx?(e.wch=Zp(e.wpx),e.width=Kx(e.wch),e.MDW=ns):typeof e.wch=="number"&&(e.width=Kx(e.wch),e.wpx=Jp(e.width),e.MDW=ns),e.customWidth&&delete e.customWidth}var sde=96,U8=sde;function eg(e){return e*96/U8}function f0(e){return e*U8/96}var ide={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ode(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(ls)||[]).forEach(function(i){var l=nr(i);switch(nl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=kn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=kn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function lde(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(ls)||[]).forEach(function(i){var l=nr(i);switch(nl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function cde(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(ls)||[]).forEach(function(i){var l=nr(i);switch(nl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=mn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?kn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?kn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?kn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?kn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?kn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?kn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?kn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=WT[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=kn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var u=Wd[a.color.index];a.color.index==81&&(u=Wd[1]),u||(u=Wd[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Wx(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function ude(e,t,r){t.NumberFmt=[];for(var n=Xn(Qt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Qt[n[a]];var s=e[0].match(ls);if(s)for(a=0;a<s.length;++a){var i=nr(s[a]);switch(nl(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Ur(mn(i.formatCode)),u=parseInt(i.numFmtId,10);if(t.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=l}ql(l,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function dde(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ft("numFmt",null,{numFmtId:n,formatCode:cn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ft("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vy=["numFmtId","fillId","fontId","borderId","xfId"],Hy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function fde(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ls)||[]).forEach(function(s){var i=nr(s),l=0;switch(nl(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<Vy.length;++l)n[Vy[l]]&&(n[Vy[l]]=parseInt(n[Vy[l]],10));for(l=0;l<Hy.length;++l)n[Hy[l]]&&(n[Hy[l]]=kn(n[Hy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};i.vertical&&(u.vertical=i.vertical),i.horizontal&&(u.horizontal=i.horizontal),i.textRotation!=null&&(u.textRotation=i.textRotation),i.indent&&(u.indent=i.indent),i.wrapText&&(u.wrapText=kn(i.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function hde(e){var t=[];return t[t.length]=ft("cellXfs",null),e.forEach(function(r){t[t.length]=ft("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ft("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var mde=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,d){var m={};if(!l)return m;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(t))&&ude(p,m,d),(p=l.match(a))&&cde(p,m,u,d),(p=l.match(n))&&lde(p,m,u,d),(p=l.match(s))&&ode(p,m,u,d),(p=l.match(r))&&fde(p,m,d),m}})();function z8(e,t){var r=[ta,ft("styleSheet",null,{xmlns:pf[0],"xmlns:vt":wa.vt})],n;return e.SSF&&(n=dde(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=hde(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function pde(e,t){var r=e.read_shift(2),n=is(e);return[r,n]}function gde(e,t,r){r||(r=$e(6+4*t.length)),r.write_shift(2,e),Ra(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function vde(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Joe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=Qoe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=is(e),n}function yde(e,t){t||(t=$e(153)),t.write_shift(2,e.sz*20),Zoe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),$x(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ra(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xde=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],nS,wde=os;function hO(e,t){t||(t=$e(84)),nS||(nS=D1(xde));var r=nS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for($x({auto:1},t),$x({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function _de(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function V8(e,t,r){r||(r=$e(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Gm(e,t){return t||(t=$e(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var bde=os;function Sde(e,t){return t||(t=$e(51)),t.write_shift(1,0),Gm(null,t),Gm(null,t),Gm(null,t),Gm(null,t),Gm(null,t),t.length>t.l?t.slice(0,t.l):t}function Ede(e,t){return t||(t=$e(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Hx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Tde(e,t,r){var n=$e(2052);return n.write_shift(4,e),Hx(t,n),Hx(r,n),n.length>n.l?n.slice(0,n.l):n}function kde(e,t,r){var n={};n.NumberFmt=[];for(var a in Qt)n.NumberFmt[a]=Qt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return uc(e,function(u,d,m){switch(m){case 44:n.NumberFmt[u[0]]=u[1],ql(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Wx(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(m),i=!0;break;case 38:s.pop(),i=!1;break;default:if(d.T>0)s.push(m);else if(d.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}function Cde(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Je(e,615,po(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Je(e,44,gde(a,t[a]))}),Je(e,616))}}function Ade(e){var t=1;Je(e,611,po(t)),Je(e,43,yde({sz:12,color:{theme:1},name:"Calibri",family:2})),Je(e,612)}function Mde(e){var t=2;Je(e,603,po(t)),Je(e,45,hO({patternType:"none"})),Je(e,45,hO({patternType:"gray125"})),Je(e,604)}function Nde(e){var t=1;Je(e,613,po(t)),Je(e,46,Sde()),Je(e,614)}function jde(e){var t=1;Je(e,626,po(t)),Je(e,47,V8({numFmtId:0},65535)),Je(e,627)}function Rde(e,t){Je(e,617,po(t.length)),t.forEach(function(r){Je(e,47,V8(r,0))}),Je(e,618)}function Ode(e){var t=1;Je(e,619,po(t)),Je(e,48,Ede({xfId:0,name:"Normal"})),Je(e,620)}function Dde(e){var t=0;Je(e,505,po(t)),Je(e,506)}function Pde(e){var t=0;Je(e,508,Tde(t,"TableStyleMedium9","PivotStyleMedium4")),Je(e,509)}function Fde(e,t){var r=Ls();return Je(r,278),Cde(r,e.SSF),Ade(r),Mde(r),Nde(r),jde(r),Rde(r,t.cellXfs),Ode(r),Dde(r),Pde(r),Je(r,279),r.end()}var Ide=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Lde(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ls)||[]).forEach(function(a){var s=nr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Ide.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Bde(){}function Ude(){}var zde=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Vde=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Hde=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function $de(e,t,r){t.themeElements={};var n;[["clrScheme",zde,Lde],["fontScheme",Vde,Bde],["fmtScheme",Hde,Ude]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var qde=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function H8(e,t){(!e||e.length===0)&&(e=wk());var r,n={};if(!(r=e.match(qde)))throw new Error("themeElements not found in theme");return $de(r[0],n,t),n.raw=e,n}function wk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ta];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Gde(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=P5(s,{type:"array"})}catch{return}var l=si(i,"theme/theme/theme1.xml",!0);if(l)return H8(l,r)}}function Wde(e){return e.read_shift(4)}function Kde(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Xde(e,4);break;case 2:t.xclrValue=b8(e);break;case 3:t.xclrValue=Wde(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Xde(e,t){return os(e,t)}function Yde(e,t){return os(e,t)}function Qde(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Kde(e);break;case 6:n[1]=Yde(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Jde(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Qde(e,r-e.l));return{ixfe:n,ext:s}}function Zde(e,t){t.forEach(function(r){r[0]})}function efe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:is(e)}}function tfe(e){var t=$e(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ra(e.name,t),t.slice(0,t.l)}function rfe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nfe(e){var t=$e(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function afe(e,t){var r=$e(8+2*t.length);return r.write_shift(4,e),Ra(t,r),r.slice(0,r.l)}function sfe(e){return e.l+=4,e.read_shift(4)!=0}function ife(e,t){var r=$e(8);return r.write_shift(4,e),r.write_shift(4,1),r}function ofe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return uc(e,function(u,d,m){switch(m){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(p){l==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):l==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:s.push(m),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!d.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function lfe(){var e=Ls();return Je(e,332),Je(e,334,po(1)),Je(e,335,tfe({name:"XLDAPR",version:12e4,flags:3496657072})),Je(e,336),Je(e,339,afe(1,"XLDAPR")),Je(e,52),Je(e,35,po(514)),Je(e,4096,po(0)),Je(e,4097,Mi(1)),Je(e,36),Je(e,53),Je(e,340),Je(e,337,ife(1)),Je(e,51,nfe([[1,0]])),Je(e,338),Je(e,333),e.end()}function cfe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(ls,function(l){var u=nr(l);switch(nl(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==u.name&&(i=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):s==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),n}function $8(){var e=[ta];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function ufe(e){var t=[];if(!e)return t;var r=1;return(e.match(ls)||[]).forEach(function(n){var a=nr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function dfe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Zt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function ffe(e,t,r){var n=[];return uc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function hfe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;uc(e,function(l,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!u.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function mfe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ph=1024;function q8(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ft("xml",null,{"xmlns:v":ei.v,"xmlns:o":ei.o,"xmlns:x":ei.x,"xmlns:mv":ei.mv}).replace(/\/>/,">"),ft("o:shapelayout",ft("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ft("v:shapetype",[ft("v:stroke",null,{joinstyle:"miter"}),ft("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ph<e*1e3;)Ph+=1e3;return t.forEach(function(s){var i=zn(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?ft("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=ft("v:fill",u,l),m={on:"t",obscured:"t"};++Ph,a=a.concat(["<v:shape"+Kp({id:"_x0000_s"+Ph,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,ft("v:shadow",null,m),ft("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ha("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Ha("x:AutoFill","False"),Ha("x:Row",String(i.r)),Ha("x:Column",String(i.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function mO(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=zn(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var u=zr(e["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var d=dr(u);d!==e["!ref"]&&(e["!ref"]=d)}s.c||(s.c=[]);var m={a:i.author,t:i.t,r:i.r,T:r};i.h&&(m.h=i.h);for(var p=s.c.length-1;p>=0;--p){if(!r&&s.c[p].T)return;r&&!s.c[p].T&&s.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(m.a==n[p].id){m.a=n[p].name||m.a;break}}s.c.push(m)})}function pfe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=nr(l[0]),d={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},m=zn(u.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var p=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!p&&!!p[1]&&vk(p[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=v.h),n.push(d)}}}}),n}function G8(e){var t=[ta,ft("comments",null,{xmlns:pf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=cn(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(cn(u.a))),s.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(Ha("t",cn(s[0]||"")));else{for(var i=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)i+=`Reply:
    `+s[l]+`
`;t.push(Ha("t",cn(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function gfe(e,t){var r=[],n=!1,a={},s=0;return e.replace(ls,function(l,u){var d=nr(l);switch(nl(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=u+l.length;break;case"</text>":a.t=e.slice(s,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function vfe(e,t,r){var n=[ta,ft("ThreadedComments",null,{xmlns:wa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=u.id:u.parentId=s,i.ID=u.id,i.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(ft("threadedComment",Ha("text",i.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function yfe(e,t){var r=[],n=!1;return e.replace(ls,function(s){var i=nr(s);switch(nl(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function xfe(e){var t=[ta,ft("personList",null,{xmlns:wa.TCMNT,"xmlns:x":pf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ft("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function wfe(e){var t={};t.iauthor=e.read_shift(4);var r=xf(e);return t.rfx=r.s,t.ref=Zt(r.s),e.l+=16,t}function _fe(e,t){return t==null&&(t=$e(36)),t.write_shift(4,e[1].iauthor),U0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var bfe=is;function Sfe(e){return Ra(e.slice(0,54))}function Efe(e,t){var r=[],n=[],a={},s=!1;return uc(e,function(l,u,d){switch(d){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Tfe(e){var t=Ls(),r=[];return Je(t,628),Je(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Je(t,632,Sfe(a.a)))})}),Je(t,631),Je(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:zn(n[0]),e:zn(n[0])};Je(t,635,_fe([s,a])),a.t&&a.t.length>0&&Je(t,637,Woe(a)),Je(t,636),delete a.iauthor})}),Je(t,634),Je(t,629),t.end()}var kfe="application/vnd.ms-office.vbaProject";function Cfe(e){var t=$t.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$t.utils.cfb_add(t,a,e.FileIndex[n].content)}}),$t.write(t)}function Afe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&$t.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var W8=["xlsb","xlsm","xlam","biff8","xla"];function Mfe(){return{"!type":"dialog"}}function Nfe(){return{"!type":"dialog"}}function jfe(){return{"!type":"macro"}}function Rfe(){return{"!type":"macro"}}var Hh=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,m=i.length>0?parseInt(i,10)|0:0;return l?m+=t.c:--m,u?d+=t.r:--d,a+(l?"":"$")+Un(m)+(u?"":"$")+ea(d)}return function(a,s){return t=s,a.replace(e,r)}})(),_k=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bk=(function(){return function(t,r){return t.replace(_k,function(n,a,s,i,l,u){var d=lk(i)-(s?0:r.c),m=ok(u)-(l?0:r.r),p=m==0?"":l?m+1:"["+m+"]",v=d==0?"":s?d+1:"["+d+"]";return a+"R"+p+"C"+v})}})();function K8(e,t){return e.replace(_k,function(r,n,a,s,i,l){return n+(a=="$"?a+s:Un(lk(s)+t.c))+(i=="$"?i+l:ea(ok(l)+t.r))})}function Ofe(e,t,r){var n=zs(t),a=n.s,s=zn(r),i={r:s.r-a.r,c:s.c-a.c};return K8(e,i)}function Dfe(e){return e.length!=1}function pO(e){return e.replace(/_xlfn\./g,"")}function ca(e){e.l+=1}function bu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function X8(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Y8(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=bu(e),l=bu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function Y8(e){var t=bu(e),r=bu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Pfe(e,t,r){if(r.biff<8)return Y8(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=bu(e),i=bu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function Q8(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Ffe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=bu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Ffe(e){var t=bu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Ife(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Lfe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Bfe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function Bfe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Ufe(e,t,r){var n=(e[e.l++]&96)>>5,a=X8(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function zfe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=X8(e,s,r);return[n,a,i]}function Vfe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Hfe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function $fe(e,t,r){var n=(e[e.l++]&96)>>5,a=Pfe(e,t-1,r);return[n,a]}function qfe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function gO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Gfe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Wfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Kfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Xfe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Yfe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function J8(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Qfe(e){return e.read_shift(2),J8(e)}function Jfe(e){return e.read_shift(2),J8(e)}function Zfe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Q8(e,0,r);return[n,a]}function ehe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Lfe(e,0,r);return[n,a]}function the(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=Q8(e,0,r);return[n,a,s]}function rhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[s0e[a],tB[a],n]}function nhe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ahe(e);return[a,(s[0]===0?tB:a0e)[s[1]]]}function ahe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function she(e,t,r){e.l+=r&&r.biff==2?3:4}function ihe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function ohe(e){return e.l++,dc[e.read_shift(1)]}function lhe(e){return e.l++,e.read_shift(2)}function che(e){return e.l++,e.read_shift(1)!==0}function uhe(e){return e.l++,ss(e)}function dhe(e,t,r){return e.l++,zg(e,t-1,r)}function fhe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Jn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=dc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ss(e);break;case 2:r[1]=wf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function hhe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?xf:I1)(e));return a}function mhe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=fhe(e,r.biff);return i}function phe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function ghe(e,t,r){if(r.biff==5)return vhe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function vhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function yhe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xhe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function whe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function _he(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var bhe=os,She=os,Ehe=os;function Hg(e,t,r){return e.l+=2,[Ife(e)]}function Sk(e){return e.l+=6,[]}var The=Hg,khe=Sk,Che=Sk,Ahe=Hg;function Z8(e){return e.l+=2,[da(e),e.read_shift(2)&1]}var Mhe=Hg,Nhe=Z8,jhe=Sk,Rhe=Hg,Ohe=Hg,Dhe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Phe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Dhe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Fhe(e){return e.l+=2,[e.read_shift(4)]}function Ihe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Lhe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zhe(e){return e.l+=4,[0,0]}var vO={1:{n:"PtgExp",f:ihe},2:{n:"PtgTbl",f:Ehe},3:{n:"PtgAdd",f:ca},4:{n:"PtgSub",f:ca},5:{n:"PtgMul",f:ca},6:{n:"PtgDiv",f:ca},7:{n:"PtgPower",f:ca},8:{n:"PtgConcat",f:ca},9:{n:"PtgLt",f:ca},10:{n:"PtgLe",f:ca},11:{n:"PtgEq",f:ca},12:{n:"PtgGe",f:ca},13:{n:"PtgGt",f:ca},14:{n:"PtgNe",f:ca},15:{n:"PtgIsect",f:ca},16:{n:"PtgUnion",f:ca},17:{n:"PtgRange",f:ca},18:{n:"PtgUplus",f:ca},19:{n:"PtgUminus",f:ca},20:{n:"PtgPercent",f:ca},21:{n:"PtgParen",f:ca},22:{n:"PtgMissArg",f:ca},23:{n:"PtgStr",f:dhe},26:{n:"PtgSheet",f:Ihe},27:{n:"PtgEndSheet",f:Lhe},28:{n:"PtgErr",f:ohe},29:{n:"PtgBool",f:che},30:{n:"PtgInt",f:lhe},31:{n:"PtgNum",f:uhe},32:{n:"PtgArray",f:qfe},33:{n:"PtgFunc",f:rhe},34:{n:"PtgFuncVar",f:nhe},35:{n:"PtgName",f:phe},36:{n:"PtgRef",f:Zfe},37:{n:"PtgArea",f:Ufe},38:{n:"PtgMemArea",f:yhe},39:{n:"PtgMemErr",f:bhe},40:{n:"PtgMemNoMem",f:She},41:{n:"PtgMemFunc",f:xhe},42:{n:"PtgRefErr",f:whe},43:{n:"PtgAreaErr",f:Vfe},44:{n:"PtgRefN",f:ehe},45:{n:"PtgAreaN",f:$fe},46:{n:"PtgMemAreaN",f:Bhe},47:{n:"PtgMemNoMemN",f:Uhe},57:{n:"PtgNameX",f:ghe},58:{n:"PtgRef3d",f:the},59:{n:"PtgArea3d",f:zfe},60:{n:"PtgRefErr3d",f:_he},61:{n:"PtgAreaErr3d",f:Hfe},255:{}},Vhe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Hhe={1:{n:"PtgElfLel",f:Z8},2:{n:"PtgElfRw",f:Rhe},3:{n:"PtgElfCol",f:The},6:{n:"PtgElfRwV",f:Ohe},7:{n:"PtgElfColV",f:Ahe},10:{n:"PtgElfRadical",f:Mhe},11:{n:"PtgElfRadicalS",f:jhe},13:{n:"PtgElfColS",f:khe},15:{n:"PtgElfColSV",f:Che},16:{n:"PtgElfRadicalLel",f:Nhe},25:{n:"PtgList",f:Phe},29:{n:"PtgSxName",f:Fhe},255:{}},$he={0:{n:"PtgAttrNoop",f:zhe},1:{n:"PtgAttrSemi",f:Yfe},2:{n:"PtgAttrIf",f:Kfe},4:{n:"PtgAttrChoose",f:Gfe},8:{n:"PtgAttrGoto",f:Wfe},16:{n:"PtgAttrSum",f:she},32:{n:"PtgAttrBaxcel",f:gO},33:{n:"PtgAttrBaxcel",f:gO},64:{n:"PtgAttrSpace",f:Qfe},65:{n:"PtgAttrSpaceSemi",f:Jfe},128:{n:"PtgAttrIfError",f:Xfe},255:{}};function $g(e,t,r,n){if(n.biff<8)return os(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=mhe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=hhe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(os(e,t)),s}function qg(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=vO[s]||vO[Vhe[s]],(s===24||s===25)&&(a=(s===24?Hhe:$he)[e[e.l+1]]),!a||!a.f?os(e,t):i.push([a.n,a.f(e,t,r)]);return i}function qhe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Ghe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Whe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function eB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function yO(e,t,r){var n=eB(e,t,r);return n=="#REF"?n:Whe(n,r)}function rs(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},l=[],u,d,m,p=0,v=0,y,w="";if(!e[0]||!e[0][0])return"";for(var x=-1,b="",T=0,M=e[0].length;T<M;++T){var k=e[0][T];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),d=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:b=Gn(" ",e[0][x][1][1]);break;case 1:b=Gn("\r",e[0][x][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}d=d+b,x=-1}l.push(d+Ghe[k[0]]+u);break;case"PtgIsect":u=l.pop(),d=l.pop(),l.push(d+" "+u);break;case"PtgUnion":u=l.pop(),d=l.pop(),l.push(d+","+u);break;case"PtgRange":u=l.pop(),d=l.pop(),l.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=xp(k[1][1],i,a),l.push(wp(m,s));break;case"PtgRefN":m=r?xp(k[1][1],r,a):k[1][1],l.push(wp(m,s));break;case"PtgRef3d":p=k[1][1],m=xp(k[1][2],i,a),w=yO(n,p,a),l.push(w+"!"+wp(m,s));break;case"PtgFunc":case"PtgFuncVar":var j=k[1][0],R=k[1][1];j||(j=0),j&=127;var D=j==0?[]:l.slice(-j);l.length-=j,R==="User"&&(R=D.shift()),l.push(R+"("+D.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":y=WR(k[1][1],r?{s:r}:i,a),l.push(Zb(y,a));break;case"PtgArea":y=WR(k[1][1],i,a),l.push(Zb(y,a));break;case"PtgArea3d":p=k[1][1],y=k[1][2],w=yO(n,p,a),l.push(w+"!"+Zb(y,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=k[1][2];var O=(n.names||[])[v-1]||(n[0]||[])[v],B=O?O.Name:"SH33TJSNAME"+String(v);B&&B.slice(0,6)=="_xlfn."&&!a.xlfn&&(B=B.slice(6)),l.push(B);break;case"PtgNameX":var V=k[1][1];v=k[1][2];var ne;if(a.biff<=5)V<0&&(V=-V),n[V]&&(ne=n[V][v]);else{var ie="";if(((n[V]||[])[0]||[])[0]==14849||(((n[V]||[])[0]||[])[0]==1025?n[V][v]&&n[V][v].itab>0&&(ie=n.SheetNames[n[V][v].itab-1]+"!"):ie=n.SheetNames[v-1]+"!"),n[V]&&n[V][v])ie+=n[V][v].Name;else if(n[0]&&n[0][v])ie+=n[0][v].Name;else{var Q=(eB(n,V,a)||"").split(";;");Q[v-1]?ie=Q[v-1]:ie+="SH33TJSERRX"}l.push(ie);break}ne||(ne={Name:"SH33TJSERRY"}),l.push(ne.Name);break;case"PtgParen":var ve="(",G=")";if(x>=0){switch(b="",e[0][x][1][0]){case 2:ve=Gn(" ",e[0][x][1][1])+ve;break;case 3:ve=Gn("\r",e[0][x][1][1])+ve;break;case 4:G=Gn(" ",e[0][x][1][1])+G;break;case 5:G=Gn("\r",e[0][x][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(ve+l.pop()+G);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":m={c:k[1][1],r:k[1][0]};var fe={c:r.c,r:r.r};if(n.sharedf[Zt(m)]){var K=n.sharedf[Zt(m)];l.push(rs(K,i,fe,n,a))}else{var re=!1;for(u=0;u!=n.arrayf.length;++u)if(d=n.arrayf[u],!(m.c<d[0].s.c||m.c>d[0].e.c)&&!(m.r<d[0].s.r||m.r>d[0].e.r)){l.push(rs(d[1],i,fe,n,a)),re=!0;break}re||l.push(k[1])}break;case"PtgArray":l.push("{"+qhe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&le.indexOf(e[0][T][0])==-1){k=e[0][x];var J=!0;switch(k[1][0]){case 4:J=!1;case 0:b=Gn(" ",k[1][1]);break;case 5:J=!1;case 1:b=Gn("\r",k[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((J?b:"")+l.pop()+(J?"":b)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Khe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],os(e,t-2)];var l=qg(e,i,r);return t!==i+a&&(s=$g(e,t-i-a,l,r)),e.l=n,[l,s]}function Xhe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],os(e,t-2)];var l=qg(e,i,r);return t!==i+a&&(s=$g(e,t-i-a,l,r)),e.l=n,[l,s]}function Yhe(e,t,r,n){var a=e.l+t,s=qg(e,n,r),i;return a!==e.l&&(i=$g(e,a-e.l,s,r)),[s,i]}function Qhe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=qg(e,s,r);return s==65535?[[],os(e,t-2)]:(t!==s+2&&(a=$g(e,n-s-2,i,r)),[i,a])}function Jhe(e){var t;if(zl(e,e.l+6)!==65535)return[ss(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Zhe(e){if(e==null){var t=$e(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return of(e);return of(0)}function aS(e,t,r){var n=e.l+t,a=al(e);r.biff==2&&++e.l;var s=Jhe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Xhe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function e0e(e,t,r,n,a){var s=cf(t,r,a),i=Zhe(e.v),l=$e(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var d=$e(e.bf.length),m=0;m<e.bf.length;++m)d[m]=e.bf[m];var p=Na([s,i,l,d]);return p}function L1(e,t,r){var n=e.read_shift(4),a=qg(e,n,r),s=e.read_shift(4),i=s>0?$g(e,s,a,r):null;return[a,i]}var t0e=L1,B1=L1,r0e=L1,n0e=L1,a0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},tB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},s0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function xO(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function i0e(e){var t="of:="+e.replace(_k,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function sS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function o0e(e){return e.replace(/\./,"!")}var bp={},$h={},Sp=typeof Map<"u";function Ek(e,t,r){var n=0,a=e.length;if(r){if(Sp?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Sp?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Sp?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function U1(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ns=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Zp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Kx(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Yd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Du(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ql(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function rB(e,t,r,n,a,s){try{n.cellNF&&(e.z=Qt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Cn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Qt[t]==null&&ql(aoe[t]||"General",t),e.t==="e")e.w=e.w||dc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gp(e.v);else if(e.t==="d"){var i=_a(e.v);(i|0)===i?e.w=i.toString(10):e.w=Gp(i)}else{if(e.v===void 0)return"";e.w=af(e.v,$h)}else e.t==="d"?e.w=Bi(t,_a(e.v),$h):e.w=Bi(t,e.v,$h)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Wx(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Wx(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function l0e(e,t,r){if(e&&e["!ref"]){var n=zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function c0e(e,t){var r=zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=dr(r))}var u0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,d0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,f0e=/<(?:\w:)?hyperlink [^>]*>/mg,h0e=/"(\w*:\w*)"/,m0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,p0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,g0e=/<(?:\w:)?pageMargins[^>]*\/>/g,nB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,v0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,y0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function x0e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",m="",p=e.match(d0e);p?(d=e.slice(0,p.index),m=e.slice(p.index+p[0].length)):d=m=e;var v=d.match(nB);v?Tk(v[0],l,a,r):(v=d.match(v0e))&&_0e(v[0],v[1]||"",l,a,r);var y=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var w=d.slice(y,y+50).match(h0e);w&&c0e(l,w[1])}var x=d.match(y0e);x&&x[1]&&D0e(x[1],a);var b=[];if(t.cellStyles){var T=d.match(m0e);T&&M0e(b,T)}p&&I0e(p[1],l,t,u,s,i);var M=m.match(p0e);M&&(l["!autofilter"]=j0e(M[0]));var k=[],j=m.match(u0e);if(j)for(y=0;y!=j.length;++y)k[y]=zr(j[y].slice(j[y].indexOf('"')+1));var R=m.match(f0e);R&&k0e(l,R,n);var D=m.match(g0e);if(D&&(l["!margins"]=C0e(nr(D[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=dr(u)),t.sheetRows>0&&l["!ref"]){var O=zr(l["!ref"]);t.sheetRows<=+O.e.r&&(O.e.r=t.sheetRows-1,O.e.r>u.e.r&&(O.e.r=u.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>u.e.c&&(O.e.c=u.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),l["!fullref"]=l["!ref"],l["!ref"]=dr(O))}return b.length>0&&(l["!cols"]=b),k.length>0&&(l["!merges"]=k),l}function w0e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+dr(e[r])+'"/>';return t+"</mergeCells>"}function Tk(e,t,r,n){var a=nr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Ur(mn(a.codeName)))}function _0e(e,t,r,n,a){Tk(e.slice(0,e.indexOf(">")),r,n,a)}function b0e(e,t,r,n,a){var s=!1,i={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}s=!0,i.codeName=Go(cn(u))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+ft("outlinePr",null,d)}!s&&!l||(a[a.length]=ft("sheetPr",l,i))}var S0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],E0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function T0e(e){var t={sheet:1};return S0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),E0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=yk(e.password).toString(16).toUpperCase()),ft("sheetProtection",null,t)}function k0e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=nr(mn(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Ur(s.location))):(s.Target="#"+Ur(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=zr(s.ref),u=l.s.r;u<=l.e.r;++u)for(var d=l.s.c;d<=l.e.c;++d){var m=Zt({c:d,r:u});n?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=s):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=s)}}}function C0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function A0e(e){return Yd(e),ft("pageMargins",null,e)}function M0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=nr(t[n],!0);a.hidden&&(a.hidden=kn(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,xk(a.width)),_u(a);s<=i;)e[s++]=An(a)}}function N0e(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ft("col",null,U1(a,n)));return r[r.length]="</cols>",r.join("")}function j0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function R0e(e,t,r,n){var a=typeof e.ref=="string"?e.ref:dr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,i=zs(a);i.s.r==i.e.r&&(i.e.r=zs(t["!ref"]).e.r,a=dr(i));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ft("autoFilter",null,{ref:a})}var O0e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function D0e(e,t){t.Views||(t.Views=[{}]),(e.match(O0e)||[]).forEach(function(r,n){var a=nr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),kn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function P0e(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ft("sheetViews",ft("sheetView",null,a),{})}function F0e(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=dc[e.v];break;case"d":n&&n.cellDates?a=Cn(e.v,-1).toISOString():(e=An(e),e.t="n",a=""+(e.v=_a(Cn(e.v)))),typeof e.z>"u"&&(e.z=Qt[14]);break;default:a=e.v;break}var l=Ha("v",cn(a)),u={r:t},d=Du(n.cellXfs,e,n);switch(d!==0&&(u.s=d),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ha("v",""+Ek(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=s&&(e.t=s,e.v=i),typeof e.f=="string"&&e.f){var m=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ft("f",cn(e.f),m)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),ft("c",l,u)}var I0e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Wp("v"),i=Wp("f");return function(u,d,m,p,v,y){for(var w=0,x="",b=[],T=[],M=0,k=0,j=0,R="",D,O,B=0,V=0,ne,ie,Q=0,ve=0,G=Array.isArray(y.CellXf),fe,K=[],re=[],le=Array.isArray(d),J=[],Me={},H=!1,L=!!m.sheetStubs,Y=u.split(t),Z=0,W=Y.length;Z!=W;++Z){x=Y[Z].trim();var ue=x.length;if(ue!==0){var he=0;e:for(w=0;w<ue;++w)switch(x[w]){case">":if(x[w-1]!="/"){++w;break e}if(m&&m.cellStyles){if(O=nr(x.slice(he,w),!0),B=O.r!=null?parseInt(O.r,10):B+1,V=-1,m.sheetRows&&m.sheetRows<B)continue;Me={},H=!1,O.ht&&(H=!0,Me.hpt=parseFloat(O.ht),Me.hpx=f0(Me.hpt)),O.hidden=="1"&&(H=!0,Me.hidden=!0),O.outlineLevel!=null&&(H=!0,Me.level=+O.outlineLevel),H&&(J[B-1]=Me)}break;case"<":he=w;break}if(he>=w)break;if(O=nr(x.slice(he,w),!0),B=O.r!=null?parseInt(O.r,10):B+1,V=-1,!(m.sheetRows&&m.sheetRows<B)){p.s.r>B-1&&(p.s.r=B-1),p.e.r<B-1&&(p.e.r=B-1),m&&m.cellStyles&&(Me={},H=!1,O.ht&&(H=!0,Me.hpt=parseFloat(O.ht),Me.hpx=f0(Me.hpt)),O.hidden=="1"&&(H=!0,Me.hidden=!0),O.outlineLevel!=null&&(H=!0,Me.level=+O.outlineLevel),H&&(J[B-1]=Me)),b=x.slice(w).split(e);for(var Re=0;Re!=b.length&&b[Re].trim().charAt(0)=="<";++Re);for(b=b.slice(Re),w=0;w!=b.length;++w)if(x=b[w].trim(),x.length!==0){if(T=x.match(r),M=w,k=0,j=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,T!=null&&T.length===2){for(M=0,R=T[1],k=0;k!=R.length&&!((j=R.charCodeAt(k)-64)<1||j>26);++k)M=26*M+j;--M,V=M}else++V;for(k=0;k!=x.length&&x.charCodeAt(k)!==62;++k);if(++k,O=nr(x.slice(0,k),!0),O.r||(O.r=Zt({r:B-1,c:V})),R=x.slice(k),D={t:""},(T=R.match(s))!=null&&T[1]!==""&&(D.v=Ur(T[1])),m.cellFormula){if((T=R.match(i))!=null&&T[1]!==""){if(D.f=Ur(mn(T[1])).replace(/\r\n/g,`
`),m.xlfn||(D.f=pO(D.f)),T[0].indexOf('t="array"')>-1)D.F=(R.match(a)||[])[1],D.F.indexOf(":")>-1&&K.push([zr(D.F),D.F]);else if(T[0].indexOf('t="shared"')>-1){ie=nr(T[0]);var ye=Ur(mn(T[1]));m.xlfn||(ye=pO(ye)),re[parseInt(ie.si,10)]=[ie,ye,O.r]}}else(T=R.match(/<f[^>]*\/>/))&&(ie=nr(T[0]),re[ie.si]&&(D.f=Ofe(re[ie.si][1],re[ie.si][2],O.r)));var Ue=zn(O.r);for(k=0;k<K.length;++k)Ue.r>=K[k][0].s.r&&Ue.r<=K[k][0].e.r&&Ue.c>=K[k][0].s.c&&Ue.c<=K[k][0].e.c&&(D.F=K[k][1])}if(O.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(L)D.t="z";else continue;else D.t=O.t||"n";switch(p.s.c>V&&(p.s.c=V),p.e.c<V&&(p.e.c=V),D.t){case"n":if(D.v==""||D.v==null){if(!L)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!L)continue;D.t="z"}else ne=bp[parseInt(D.v,10)],D.v=ne.t,D.r=ne.r,m.cellHTML&&(D.h=ne.h);break;case"str":D.t="s",D.v=D.v!=null?mn(D.v):"",m.cellHTML&&(D.h=nk(D.v));break;case"inlineStr":T=R.match(n),D.t="s",T!=null&&(ne=vk(T[1]))?(D.v=ne.t,m.cellHTML&&(D.h=ne.h)):D.v="";break;case"b":D.v=kn(D.v);break;case"d":m.cellDates?D.v=Cn(D.v,1):(D.v=_a(Cn(D.v,1)),D.t="n");break;case"e":(!m||m.cellText!==!1)&&(D.w=D.v),D.v=s8[D.v];break}if(Q=ve=0,fe=null,G&&O.s!==void 0&&(fe=y.CellXf[O.s],fe!=null&&(fe.numFmtId!=null&&(Q=fe.numFmtId),m.cellStyles&&fe.fillId!=null&&(ve=fe.fillId))),rB(D,Q,ve,m,v,y),m.cellDates&&G&&D.t=="n"&&I0(Qt[Q])&&(D.t="d",D.v=F1(D.v)),O.cm&&m.xlmeta){var st=(m.xlmeta.Cell||[])[+O.cm-1];st&&st.type=="XLDAPR"&&(D.D=!0)}if(le){var X=zn(O.r);d[X.r]||(d[X.r]=[]),d[X.r][X.c]=D}else d[O.r]=D}}}}J.length>0&&(d["!rows"]=J)}})();function L0e(e,t,r,n){var a=[],s=[],i=zr(e["!ref"]),l="",u,d="",m=[],p=0,v=0,y=e["!rows"],w=Array.isArray(e),x={r:d},b,T=-1;for(v=i.s.c;v<=i.e.c;++v)m[v]=Un(v);for(p=i.s.r;p<=i.e.r;++p){for(s=[],d=ea(p),v=i.s.c;v<=i.e.c;++v){u=m[v]+d;var M=w?(e[p]||[])[v]:e[u];M!==void 0&&(l=F0e(M,u,e,t))!=null&&s.push(l)}(s.length>0||y&&y[p])&&(x={r:d},y&&y[p]&&(b=y[p],b.hidden&&(x.hidden=1),T=-1,b.hpx?T=eg(b.hpx):b.hpt&&(T=b.hpt),T>-1&&(x.ht=T,x.customHeight=1),b.level&&(x.outlineLevel=b.level)),a[a.length]=ft("row",s.join(""),x))}if(y)for(;p<y.length;++p)y&&y[p]&&(x={r:p+1},b=y[p],b.hidden&&(x.hidden=1),T=-1,b.hpx?T=eg(b.hpx):b.hpt&&(T=b.hpt),T>-1&&(x.ht=T,x.customHeight=1),b.level&&(x.outlineLevel=b.level),a[a.length]=ft("row","",x));return a.join("")}function aB(e,t,r,n){var a=[ta,ft("worksheet",null,{xmlns:pf[0],"xmlns:r":wa.r})],s=r.SheetNames[e],i=0,l="",u=r.Sheets[s];u==null&&(u={});var d=u["!ref"]||"A1",m=zr(d);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),d=dr(m)}n||(n={}),u["!comments"]=[];var p=[];b0e(u,r,e,t,a),a[a.length]=ft("dimension",null,{ref:d}),a[a.length]=P0e(u,t,e,r),t.sheetFormat&&(a[a.length]=ft("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=N0e(u,u["!cols"])),a[i=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=L0e(u,t),l.length>0&&(a[a.length]=l)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),u["!protect"]&&(a[a.length]=T0e(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=R0e(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=w0e(u["!merges"]));var v=-1,y,w=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(x){x[1].Target&&(y={ref:x[0]},x[1].Target.charAt(0)!="#"&&(w=nn(n,-1,cn(x[1].Target).replace(/#.*$/,""),br.HLINK),y["r:id"]="rId"+w),(v=x[1].Target.indexOf("#"))>-1&&(y.location=cn(x[1].Target.slice(v+1))),x[1].Tooltip&&(y.tooltip=cn(x[1].Tooltip)),a[a.length]=ft("hyperlink",null,y))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=A0e(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ha("ignoredErrors",ft("ignoredError",null,{numberStoredAsText:1,sqref:d}))),p.length>0&&(w=nn(n,-1,"../drawings/drawing"+(e+1)+".xml",br.DRAW),a[a.length]=ft("drawing",null,{"r:id":"rId"+w}),u["!drawing"]=p),u["!comments"].length>0&&(w=nn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",br.VML),a[a.length]=ft("legacyDrawing",null,{"r:id":"rId"+w}),u["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function B0e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function U0e(e,t,r){var n=$e(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=eg(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,u=n.l;n.l+=4;for(var d={r:e,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var p=-1,v=-1,y=m<<10;y<m+1<<10;++y){d.c=y;var w=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Zt(d)];w&&(p<0&&(p=y),v=y)}p<0||(++l,n.write_shift(4,p),n.write_shift(4,v))}var x=n.l;return n.l=u,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function z0e(e,t,r,n){var a=U0e(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Je(e,0,a)}var V0e=xf,H0e=U0;function $0e(){}function q0e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Koe(e),r}function G0e(e,t,r){r==null&&(r=$e(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return $x({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),e8(e,r),r.slice(0,r.l)}function W0e(e){var t=Vi(e);return[t]}function K0e(e,t,r){return r==null&&(r=$e(8)),gf(t,r)}function X0e(e){var t=vf(e);return[t]}function Y0e(e,t,r){return r==null&&(r=$e(4)),yf(t,r)}function Q0e(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"b"]}function J0e(e,t,r){return r==null&&(r=$e(9)),gf(t,r),r.write_shift(1,e.v?1:0),r}function Z0e(e){var t=vf(e),r=e.read_shift(1);return[t,r,"b"]}function eme(e,t,r){return r==null&&(r=$e(5)),yf(t,r),r.write_shift(1,e.v?1:0),r}function tme(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"e"]}function rme(e,t,r){return r==null&&(r=$e(9)),gf(t,r),r.write_shift(1,e.v),r}function nme(e){var t=vf(e),r=e.read_shift(1);return[t,r,"e"]}function ame(e,t,r){return r==null&&(r=$e(8)),yf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function sme(e){var t=Vi(e),r=e.read_shift(4);return[t,r,"s"]}function ime(e,t,r){return r==null&&(r=$e(12)),gf(t,r),r.write_shift(4,t.v),r}function ome(e){var t=vf(e),r=e.read_shift(4);return[t,r,"s"]}function lme(e,t,r){return r==null&&(r=$e(8)),yf(t,r),r.write_shift(4,t.v),r}function cme(e){var t=Vi(e),r=ss(e);return[t,r,"n"]}function ume(e,t,r){return r==null&&(r=$e(16)),gf(t,r),of(e.v,r),r}function sB(e){var t=vf(e),r=ss(e);return[t,r,"n"]}function dme(e,t,r){return r==null&&(r=$e(12)),yf(t,r),of(e.v,r),r}function fme(e){var t=Vi(e),r=fk(e);return[t,r,"n"]}function hme(e,t,r){return r==null&&(r=$e(12)),gf(t,r),t8(e.v,r),r}function mme(e){var t=vf(e),r=fk(e);return[t,r,"n"]}function pme(e,t,r){return r==null&&(r=$e(8)),yf(t,r),t8(e.v,r),r}function gme(e){var t=Vi(e),r=ck(e);return[t,r,"is"]}function vme(e){var t=Vi(e),r=is(e);return[t,r,"str"]}function yme(e,t,r){return r==null&&(r=$e(12+4*e.v.length)),gf(t,r),Ra(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xme(e){var t=vf(e),r=is(e);return[t,r,"str"]}function wme(e,t,r){return r==null&&(r=$e(8+4*e.v.length)),yf(t,r),Ra(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _me(e,t,r){var n=e.l+t,a=Vi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=B1(e,n-e.l,r);i[3]=rs(l,null,a,r.supbooks,r)}else e.l=n;return i}function bme(e,t,r){var n=e.l+t,a=Vi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=B1(e,n-e.l,r);i[3]=rs(l,null,a,r.supbooks,r)}else e.l=n;return i}function Sme(e,t,r){var n=e.l+t,a=Vi(e);a.r=r["!row"];var s=ss(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=B1(e,n-e.l,r);i[3]=rs(l,null,a,r.supbooks,r)}else e.l=n;return i}function Eme(e,t,r){var n=e.l+t,a=Vi(e);a.r=r["!row"];var s=is(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=B1(e,n-e.l,r);i[3]=rs(l,null,a,r.supbooks,r)}else e.l=n;return i}var Tme=xf,kme=U0;function Cme(e,t){return t==null&&(t=$e(4)),t.write_shift(4,e),t}function Ame(e,t){var r=e.l+t,n=xf(e),a=uk(e),s=is(e),i=is(e),l=is(e);e.l=r;var u={rfx:n,relId:a,loc:s,display:l};return i&&(u.Tooltip=i),u}function Mme(e,t){var r=$e(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));U0({s:zn(e[0]),e:zn(e[0])},r),dk("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ra(a||"",r),Ra(e[1].Tooltip||"",r),Ra("",r),r.slice(0,r.l)}function Nme(){}function jme(e,t,r){var n=e.l+t,a=r8(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=t0e(e,n-e.l,r);i[1]=l}else e.l=n;return i}function Rme(e,t,r){var n=e.l+t,a=xf(e),s=[a];if(r.cellFormula){var i=n0e(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}function Ome(e,t,r){r==null&&(r=$e(18));var n=U1(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var iB=["left","right","top","bottom","header","footer"];function Dme(e){var t={};return iB.forEach(function(r){t[r]=ss(e)}),t}function Pme(e,t){return t==null&&(t=$e(48)),Yd(e),iB.forEach(function(r){of(e[r],t)}),t}function Fme(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ime(e,t,r){r==null&&(r=$e(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Lme(e){var t=$e(24);return t.write_shift(4,4),t.write_shift(4,1),U0(e,t),t}function Bme(e,t){return t==null&&(t=$e(66)),t.write_shift(2,e.password?yk(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ume(){}function zme(){}function Vme(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var u=l.dense?[]:{},d,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,v=!1,y,w,x,b,T,M,k,j,R,D=[];l.biff=12,l["!row"]=0;var O=0,B=!1,V=[],ne={},ie=l.supbooks||a.supbooks||[[]];if(ie.sharedf=ne,ie.arrayf=V,ie.SheetNames=a.SheetNames||a.Sheets.map(function(le){return le.name}),!l.supbooks&&(l.supbooks=ie,a.Names))for(var Q=0;Q<a.Names.length;++Q)ie[0][Q+1]=a.Names[Q];var ve=[],G=[],fe=!1;tg[16]={n:"BrtShortReal",f:sB};var K;if(uc(e,function(J,Me,H){if(!v)switch(H){case 148:d=J;break;case 0:y=J,l.sheetRows&&l.sheetRows<=y.r&&(v=!0),j=ea(b=y.r),l["!row"]=y.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=f0(J.hpt)),G[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:J[2]},J[2]){case"n":w.v=J[1];break;case"s":k=bp[J[1]],w.v=k.t,w.r=k.r;break;case"b":w.v=!!J[1];break;case"e":w.v=J[1],l.cellText!==!1&&(w.w=dc[w.v]);break;case"str":w.t="s",w.v=J[1];break;case"is":w.t="s",w.v=J[1].t;break}if((x=i.CellXf[J[0].iStyleRef])&&rB(w,x.numFmtId,null,l,s,i),T=J[0].c==-1?T+1:J[0].c,l.dense?(u[b]||(u[b]=[]),u[b][T]=w):u[Un(T)+j]=w,l.cellFormula){for(B=!1,O=0;O<V.length;++O){var L=V[O];y.r>=L[0].s.r&&y.r<=L[0].e.r&&T>=L[0].s.c&&T<=L[0].e.c&&(w.F=dr(L[0]),B=!0)}!B&&J.length>3&&(w.f=J[3])}if(m.s.r>y.r&&(m.s.r=y.r),m.s.c>T&&(m.s.c=T),m.e.r<y.r&&(m.e.r=y.r),m.e.c<T&&(m.e.c=T),l.cellDates&&x&&w.t=="n"&&I0(Qt[x.numFmtId])){var Y=Ad(w.v);Y&&(w.t="d",w.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;w={t:"z",v:void 0},T=J[0].c==-1?T+1:J[0].c,l.dense?(u[b]||(u[b]=[]),u[b][T]=w):u[Un(T)+j]=w,m.s.r>y.r&&(m.s.r=y.r),m.s.c>T&&(m.s.c=T),m.e.r<y.r&&(m.e.r=y.r),m.e.c<T&&(m.e.c=T),K&&(K.type=="XLDAPR"&&(w.D=!0),K=void 0);break;case 176:D.push(J);break;case 49:K=((l.xlmeta||{}).Cell||[])[J-1];break;case 494:var Z=n["!id"][J.relId];for(Z?(J.Target=Z.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=Z):J.relId==""&&(J.Target="#"+J.loc),b=J.rfx.s.r;b<=J.rfx.e.r;++b)for(T=J.rfx.s.c;T<=J.rfx.e.c;++T)l.dense?(u[b]||(u[b]=[]),u[b][T]||(u[b][T]={t:"z",v:void 0}),u[b][T].l=J):(M=Zt({c:T,r:b}),u[M]||(u[M]={t:"z",v:void 0}),u[M].l=J);break;case 426:if(!l.cellFormula)break;V.push(J),R=l.dense?u[b][T]:u[Un(T)+j],R.f=rs(J[1],m,{r:y.r,c:T},ie,l),R.F=dr(J[0]);break;case 427:if(!l.cellFormula)break;ne[Zt(J[0].s)]=J[1],R=l.dense?u[b][T]:u[Un(T)+j],R.f=rs(J[1],m,{r:y.r,c:T},ie,l);break;case 60:if(!l.cellStyles)break;for(;J.e>=J.s;)ve[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},fe||(fe=!0,xk(J.w/256)),_u(ve[J.e+1]);break;case 161:u["!autofilter"]={ref:dr(J)};break;case 476:u["!margins"]=J;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),J.name&&(a.Sheets[r].CodeName=J.name),(J.above||J.left)&&(u["!outline"]={above:J.above,left:J.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),J.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Me.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(m.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=dr(d||m)),l.sheetRows&&u["!ref"]){var re=zr(u["!ref"]);l.sheetRows<=+re.e.r&&(re.e.r=l.sheetRows-1,re.e.r>m.e.r&&(re.e.r=m.e.r),re.e.r<re.s.r&&(re.s.r=re.e.r),re.e.c>m.e.c&&(re.e.c=m.e.c),re.e.c<re.s.c&&(re.s.c=re.e.c),u["!fullref"]=u["!ref"],u["!ref"]=dr(re))}return D.length>0&&(u["!merges"]=D),ve.length>0&&(u["!cols"]=ve),G.length>0&&(u["!rows"]=G),u}function Hme(e,t,r,n,a,s,i){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=An(t),t.z=t.z||Qt[14],t.v=_a(Cn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var u={r,c:n};switch(u.s=Du(a.cellXfs,t,a),t.l&&s["!links"].push([Zt(u),t.l]),t.c&&s["!comments"].push([Zt(u),t.c]),t.t){case"s":case"str":return a.bookSST?(l=Ek(a.Strings,t.v,a.revStrings),u.t="s",u.v=l,i?Je(e,18,lme(t,u)):Je(e,7,ime(t,u))):(u.t="str",i?Je(e,17,wme(t,u)):Je(e,6,yme(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?Je(e,13,pme(t,u)):Je(e,2,hme(t,u)):i?Je(e,16,dme(t,u)):Je(e,5,ume(t,u)),!0;case"b":return u.t="b",i?Je(e,15,eme(t,u)):Je(e,4,J0e(t,u)),!0;case"e":return u.t="e",i?Je(e,14,ame(t,u)):Je(e,3,rme(t,u)),!0}return i?Je(e,12,Y0e(t,u)):Je(e,1,K0e(t,u)),!0}function $me(e,t,r,n){var a=zr(t["!ref"]||"A1"),s,i="",l=[];Je(e,145);var u=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var m=a.s.r;m<=d;++m){i=ea(m),z0e(e,t,a,m);var p=!1;if(m<=a.e.r)for(var v=a.s.c;v<=a.e.c;++v){m===a.s.r&&(l[v]=Un(v)),s=l[v]+i;var y=u?(t[m]||[])[v]:t[s];if(!y){p=!1;continue}p=Hme(e,y,m,v,n,t,p)}}Je(e,146)}function qme(e,t){!t||!t["!merges"]||(Je(e,177,Cme(t["!merges"].length)),t["!merges"].forEach(function(r){Je(e,176,kme(r))}),Je(e,178))}function Gme(e,t){!t||!t["!cols"]||(Je(e,390),t["!cols"].forEach(function(r,n){r&&Je(e,60,Ome(n,r))}),Je(e,391))}function Wme(e,t){!t||!t["!ref"]||(Je(e,648),Je(e,649,Lme(zr(t["!ref"]))),Je(e,650))}function Kme(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=nn(r,-1,n[1].Target.replace(/#.*$/,""),br.HLINK);Je(e,494,Mme(n,a))}}),delete t["!links"]}function Xme(e,t,r,n){if(t["!comments"].length>0){var a=nn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",br.VML);Je(e,551,dk("rId"+a)),t["!legacy"]=a}}function Yme(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:dr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=zs(s);l.s.r==l.e.r&&(l.e.r=zs(t["!ref"]).e.r,s=dr(l));for(var u=0;u<i.length;++u){var d=i[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Je(e,161,U0(zr(s))),Je(e,162)}}function Qme(e,t,r){Je(e,133),Je(e,137,Ime(t,r)),Je(e,138),Je(e,134)}function Jme(e,t){t["!protect"]&&Je(e,535,Bme(t["!protect"]))}function Zme(e,t,r,n){var a=Ls(),s=r.SheetNames[e],i=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var u=zr(i["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Je(a,129),(r.vbaraw||i["!outline"])&&Je(a,147,G0e(l,i["!outline"])),Je(a,148,H0e(u)),Qme(a,i,r.Workbook),Gme(a,i),$me(a,i,e,t),Jme(a,i),Yme(a,i,r,e),qme(a,i),Kme(a,i,n),i["!margins"]&&Je(a,476,Pme(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Wme(a,i),Xme(a,i,e,n),Je(a,130),a.end()}function epe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Ur((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function tpe(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,u=0,d="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var v=epe(p);m.s.r=m.s.c=0,m.e.c=l,d=Un(l),v[0].forEach(function(y,w){i[d+ea(w)]={t:"n",v:y,z:v[1]},u=w}),m.e.r<u&&(m.e.r=u),++l}),l>0&&(i["!ref"]=dr(m)),i}function rpe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(nB);return l&&Tk(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function npe(e,t){e.l+=10;var r=is(e);return{name:r}}function ape(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return uc(e,function(u,d,m){switch(m){case 550:s["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var kk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],spe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ipe=[],ope=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function wO(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=kn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function _O(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=kn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function oB(e){_O(e.WBProps,kk),_O(e.CalcPr,ope),wO(e.WBView,spe),wO(e.Sheets,ipe),$h.date1904=kn(e.WBProps.date1904)}function lpe(e){return!e.Workbook||!e.Workbook.WBProps?"false":kn(e.Workbook.WBProps.date1904)?"true":"false"}var cpe="][*?/\\".split("");function lB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return cpe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function upe(e,t,r){e.forEach(function(n,a){lB(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[a]&&t[a].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function dpe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];upe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)l0e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var fpe=/<\w+:workbook/;function hpe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(ls,function(u,d){var m=nr(u);switch(nl(m[0])){case"<?xml":break;case"<workbook":u.match(fpe)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=m[a];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":kk.forEach(function(p){if(m[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=kn(m[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(m[p[0]],10);break;default:r.WBProps[p[0]]=m[p[0]]}}),m.codeName&&(r.WBProps.CodeName=mn(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Ur(mn(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=mn(m.name),m.comment&&(s.Comment=m.comment),m.localSheetId&&(s.Sheet=+m.localSheetId),kn(m.hidden||"0")&&(s.Hidden=!0),i=d+u.length;break;case"</definedName>":s.Ref=Ur(mn(e.slice(i,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return u}),pf.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return oB(r),r}function cB(e){var t=[ta];t[t.length]=ft("workbook",null,{xmlns:pf[0],"xmlns:r":wa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(kk.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ft("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:cn(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=ft("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(t[t.length]=ft("definedName",cn(l.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function mpe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=k2(e),r.name=is(e),r}function ppe(e,t){return t||(t=$e(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),dk(e.strRelID,t),Ra(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function gpe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?is(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function vpe(e,t){t||(t=$e(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),e8(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ype(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function xpe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Xoe(e),i=r0e(e,0,r),l=uk(e);e.l=n;var u={Name:s,Ptg:i};return a<268435455&&(u.Sheet=a),l&&(u.Comment=l),u}function wpe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],tg[16]={n:"BrtFRTArchID$",f:ype},uc(e,function(u,d,m){switch(m){case 156:i.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=rs(u.Ptg,null,null,i,t),delete t.SID,delete u.Ptg,s.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([m,u]):i[0]=[m,u],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(u),i.XTI=i.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(m),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),oB(r),r.Names=s,r.supbooks=i,r}function _pe(e,t){Je(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Je(e,156,ppe(a))}Je(e,144)}function bpe(e,t){t||(t=$e(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ra("SheetJS",t),Ra(Ix.version,t),Ra(Ix.version,t),Ra("7262",t),t.length>t.l?t.slice(0,t.l):t}function Spe(e,t){t||(t=$e(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Epe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(Je(e,135),Je(e,158,Spe(a)),Je(e,136))}}function Tpe(e,t){var r=Ls();return Je(r,131),Je(r,128,bpe()),Je(r,153,vpe(e.Workbook&&e.Workbook.WBProps||null)),Epe(r,e),_pe(r,e),Je(r,132),r.end()}function kpe(e,t,r){return t.slice(-4)===".bin"?wpe(e,r):hpe(e,r)}function Cpe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Vme(e,n,r,a,s,i,l):x0e(e,n,r,a,s,i,l)}function Ape(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?ape(e,n,r,a,s):rpe(e,n,r,a,s)}function Mpe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?jfe():Rfe()}function Npe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Mfe():Nfe()}function jpe(e,t,r,n){return t.slice(-4)===".bin"?kde(e,r,n):mde(e,r,n)}function Rpe(e,t,r){return H8(e,r)}function Ope(e,t,r){return t.slice(-4)===".bin"?Oue(e,r):Nue(e,r)}function Dpe(e,t,r){return t.slice(-4)===".bin"?Efe(e,r):pfe(e,r)}function Ppe(e,t,r){return t.slice(-4)===".bin"?ffe(e):ufe(e)}function Fpe(e,t,r,n){return r.slice(-4)===".bin"?hfe(e,t,r,n):void 0}function Ipe(e,t,r){return t.slice(-4)===".bin"?ofe(e,t,r):cfe(e,t,r)}function Lpe(e,t,r){return(t.slice(-4)===".bin"?Tpe:cB)(e)}function Bpe(e,t,r,n,a){return(t.slice(-4)===".bin"?Zme:aB)(e,r,n,a)}function Upe(e,t,r){return(t.slice(-4)===".bin"?Fde:z8)(e,r)}function zpe(e,t,r){return(t.slice(-4)===".bin"?Fue:O8)(e,r)}function Vpe(e,t,r){return(t.slice(-4)===".bin"?Tfe:G8)(e)}function Hpe(e){return(e.slice(-4)===".bin"?lfe:$8)()}var uB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,dB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(uB),s,i,l,u;if(a)for(u=0;u!=a.length;++u)s=a[u].match(dB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function $pe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(uB),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(dB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Ep;function qpe(e,t){var r=Ep[e]||Ur(e);return r==="General"?af(t):Bi(r,t)}function Gpe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=kn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Cn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ur(t)]=a}function Wpe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||dc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gp(e.v):e.w=af(e.v):e.w=qpe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Ep[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&I0(n)){var a=Ad(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Kpe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=ide[n.Pattern]||n.Pattern)}e[t.ID]=t}function Xpe(e,t,r,n,a,s,i,l,u,d){var m="General",p=n.StyleID,v={};d=d||{};var y=[],w=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&i&&(p=i.StyleID);s[p]!==void 0&&(s[p].nf&&(m=s[p].nf),s[p].Interior&&y.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=kn(e);break;case"String":n.t="s",n.r=LR(Ur(e)),n.v=e.indexOf("<")>-1?Ur(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Cn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ur(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=s8[e],d.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=LR(t||e));break}if(Wpe(n,m,d),d.cellFormula!==!1)if(n.Formula){var x=Ur(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Hh(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Hh("RC:RC",a):n.ArrayRange&&(n.F=Hh(n.ArrayRange,a),u.push([zr(n.F),n.F]))}else for(w=0;w<u.length;++w)a.r>=u[w][0].s.r&&a.r<=u[w][0].e.r&&a.c>=u[w][0].s.c&&a.c<=u[w][0].e.c&&(n.F=u[w][1]);d.cellStyles&&(y.forEach(function(b){!v.patternType&&b.patternType&&(v.patternType=b.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Ype(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function iS(e,t){var r=t||{};L0();var n=Zm(ak(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=mn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=An(r);return i.type="string",d0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ar){a.indexOf("<"+ar)>=0&&(s=!0)}),s)return Pge(n,r);Ep={"General Number":"General","General Date":Qt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Qt[15],"Short Date":Qt[14],"Long Time":Qt[19],"Medium Time":Qt[18],"Short Time":Qt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Qt[2],Standard:Qt[4],Percent:Qt[10],Scientific:Qt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],d,m={},p=[],v=r.dense?[]:{},y="",w={},x={},b=Yi('<Data ss:Type="String">'),T=0,M=0,k=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},R={},D={},O="",B=0,V=[],ne={},ie={},Q=0,ve=[],G=[],fe={},K=[],re,le=!1,J=[],Me=[],H={},L=0,Y=0,Z={Sheets:[],WBProps:{date1904:!1}},W={};Xp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ue="";l=Xp.exec(n);)switch(l[3]=(ue=l[3]).toLowerCase()){case"data":if(ue=="data"){if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?Xpe(n.slice(T,l.index),O,b,u[u.length-1][0]=="comment"?fe:w,{c:M,r:k},R,K[M],x,J,r):(O="",b=Yi(l[0]),T=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(G.length>0&&(w.c=G),(!r.sheetRows||r.sheetRows>k)&&w.v!==void 0&&(r.dense?(v[k]||(v[k]=[]),v[k][M]=w):v[Un(M)+ea(k)]=w),w.HRef&&(w.l={Target:Ur(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(L=M+(parseInt(w.MergeAcross,10)|0),Y=k+(parseInt(w.MergeDown,10)|0),V.push({s:{c:M,r:k},e:{c:L,r:Y}})),!r.sheetStubs)w.MergeAcross?M=L+1:++M;else if(w.MergeAcross||w.MergeDown){for(var he=M;he<=L;++he)for(var Re=k;Re<=Y;++Re)(he>M||Re>k)&&(r.dense?(v[Re]||(v[Re]=[]),v[Re][he]={t:"z"}):v[Un(he)+ea(Re)]={t:"z"});M=L+1}else++M;else w=$pe(l[0]),w.Index&&(M=+w.Index-1),M<j.s.c&&(j.s.c=M),M>j.e.c&&(j.e.c=M),l[0].slice(-2)==="/>"&&++M,G=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(k<j.s.r&&(j.s.r=k),k>j.e.r&&(j.e.r=k),l[0].slice(-2)==="/>"&&(x=Yi(l[0]),x.Index&&(k=+x.Index-1)),M=0,++k):(x=Yi(l[0]),x.Index&&(k=+x.Index-1),H={},(x.AutoFitHeight=="0"||x.Height)&&(H.hpx=parseInt(x.Height,10),H.hpt=eg(H.hpx),Me[k]=H),x.Hidden=="1"&&(H.hidden=!0,Me[k]=H));break;case"worksheet":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));p.push(y),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(v["!ref"]=dr(j),r.sheetRows&&r.sheetRows<=j.e.r&&(v["!fullref"]=v["!ref"],j.e.r=r.sheetRows-1,v["!ref"]=dr(j))),V.length&&(v["!merges"]=V),K.length>0&&(v["!cols"]=K),Me.length>0&&(v["!rows"]=Me),m[y]=v}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=M=0,u.push([l[3],!1]),d=Yi(l[0]),y=Ur(d.Name),v=r.dense?[]:{},V=[],J=[],Me=[],W={name:y,Hidden:0},Z.Sheets.push(W);break;case"table":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),K=[],le=!1}break;case"style":l[1]==="/"?Kpe(R,D,r):D=Yi(l[0]);break;case"numberformat":D.nf=Ur(Yi(l[0]).Format||"General"),Ep[D.nf]&&(D.nf=Ep[D.nf]);for(var ye=0;ye!=392&&Qt[ye]!=D.nf;++ye);if(ye==392){for(ye=57;ye!=392;++ye)if(Qt[ye]==null){ql(D.nf,ye);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(re=Yi(l[0]),re.Hidden&&(re.hidden=!0,delete re.Hidden),re.Width&&(re.wpx=parseInt(re.Width,10)),!le&&re.wpx>10){le=!0,ns=B8;for(var Ue=0;Ue<K.length;++Ue)K[Ue]&&_u(K[Ue])}le&&_u(re),K[re.Index-1||K.length]=re;for(var st=0;st<+re.Span;++st)K[K.length]=An(re);break;case"namedrange":if(l[1]==="/")break;Z.Names||(Z.Names=[]);var X=nr(l[0]),zt={Name:X.Name,Ref:Hh(X.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(zt.Sheet=Z.Sheets.length-1),Z.Names.push(zt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?O+=n.slice(B,l.index):B=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=Yi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?wle(ne,ue,n.slice(Q,l.index)):Q=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));Ype(fe),G.push(fe)}else u.push([l[3],!1]),d=Yi(l[0]),fe={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ot=Yi(l[0]);v["!autofilter"]={ref:Hh(Ot.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return kO(n,r);var qt=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:qt=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:qt=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:qt=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:qt=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(Q,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else Q=l.index+l[0].length;break;case"header":v["!margins"]||Yd(v["!margins"]={},"xlml"),isNaN(+nr(l[0]).Margin)||(v["!margins"].header=+nr(l[0]).Margin);break;case"footer":v["!margins"]||Yd(v["!margins"]={},"xlml"),isNaN(+nr(l[0]).Margin)||(v["!margins"].footer=+nr(l[0]).Margin);break;case"pagemargins":var it=nr(l[0]);v["!margins"]||Yd(v["!margins"]={},"xlml"),isNaN(+it.Top)||(v["!margins"].top=+it.Top),isNaN(+it.Left)||(v["!margins"].left=+it.Left),isNaN(+it.Right)||(v["!margins"].right=+it.Right),isNaN(+it.Bottom)||(v["!margins"].bottom=+it.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:qt=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:qt=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:qt=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:qt=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:qt=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:qt=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:qt=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:qt=!1}break;case"smarttags":break;default:qt=!1;break}if(qt||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Gpe(ie,ue,ve,n.slice(Q,l.index)):(ve=l,Q=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var We={};return!r.bookSheets&&!r.bookProps&&(We.Sheets=m),We.SheetNames=p,We.Workbook=Z,We.SSF=An(Qt),We.Props=ne,We.Custprops=ie,We}function O2(e,t){switch(Ak(t=t||{}),t.type||"base64"){case"base64":return iS(oi(e),t);case"binary":case"buffer":case"file":return iS(e,t);case"array":return iS(Ru(e),t)}}function Qpe(e,t){var r=[];return e.Props&&r.push(_le(e.Props,t)),e.Custprops&&r.push(ble(e.Props,e.Custprops)),r.join("")}function Jpe(){return""}function Zpe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(ft("NumberFormat",null,{"ss:Format":cn(Qt[n.numFmtId])}));var i={"ss:ID":"s"+(21+a)};r.push(ft("Style",s.join(""),i))}),ft("Styles",r.join(""))}function fB(e){return ft("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bk(e.Ref,{r:0,c:0})})}function ege(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(fB(a)))}return ft("Names",r.join(""))}function tge(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],i=0;i<a.length;++i){var l=a[i];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(fB(l)))}return s.join("")}function rge(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ft("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ft("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ft("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ft("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ha("ProtectContents","True")),e["!protect"].objects&&a.push(Ha("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ha("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ha("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ha("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&a.push("<"+i[1]+"/>")})),a.length==0?"":ft("WorksheetOptions",a.join(""),{xmlns:ei.x})}function nge(e){return e.map(function(t){var r=Eoe(t.t||""),n=ft("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ft("Comment",n,{"ss:Author":t.a})}).join("")}function age(e,t,r,n,a,s,i){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+cn(bk(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var u=zn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==i.r?"":"["+(u.r-i.r)+"]")+"C"+(u.c==i.c?"":"["+(u.c-i.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=cn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=cn(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],m=0;m!=d.length;++m)d[m].s.c!=i.c||d[m].s.r!=i.r||(d[m].e.c>d[m].s.c&&(l["ss:MergeAcross"]=d[m].e.c-d[m].s.c),d[m].e.r>d[m].s.r&&(l["ss:MergeDown"]=d[m].e.r-d[m].s.r));var p="",v="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",v=String(e.v);break;case"b":p="Boolean",v=e.v?"1":"0";break;case"e":p="Error",v=dc[e.v];break;case"d":p="DateTime",v=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Qt[14]);break;case"s":p="String",v=Soe(e.v||"");break}var y=Du(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+y),l["ss:Index"]=i.c+1;var w=e.v!=null?v:"",x=e.t=="z"?"":'<Data ss:Type="'+p+'">'+w+"</Data>";return(e.c||[]).length>0&&(x+=nge(e.c)),ft("Cell",x,l)}function sge(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=f0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function ige(e,t,r,n){if(!e["!ref"])return"";var a=zr(e["!ref"]),s=e["!merges"]||[],i=0,l=[];e["!cols"]&&e["!cols"].forEach(function(b,T){_u(b);var M=!!b.width,k=U1(T,b),j={"ss:Index":T+1};M&&(j["ss:Width"]=Jp(k.width)),b.hidden&&(j["ss:Hidden"]="1"),l.push(ft("Column",null,j))});for(var u=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var m=[sge(d,(e["!rows"]||[])[d])],p=a.s.c;p<=a.e.c;++p){var v=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>p)&&!(s[i].s.r>d)&&!(s[i].e.c<p)&&!(s[i].e.r<d)){(s[i].s.c!=p||s[i].s.r!=d)&&(v=!0);break}if(!v){var y={r:d,c:p},w=Zt(y),x=u?(e[d]||[])[p]:e[w];m.push(age(x,w,e,t,r,n,y))}}m.push("</Row>"),m.length>2&&l.push(m.join(""))}return l.join("")}function oge(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],i=s?tge(s,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?ige(s,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(rge(s,t,e,r)),n.join("")}function lge(e,t){t||(t={}),e.SSF||(e.SSF=An(Qt)),e.SSF&&(L0(),O1(e.SSF),t.revssf=P1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Qpe(e,t)),r.push(Jpe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ft("Worksheet",oge(n,t,e),{"ss:Name":cn(e.SheetNames[n])}));return r[2]=Zpe(e,t),r[3]=ege(e),ta+ft("Workbook",r.join(""),{xmlns:ei.ss,"xmlns:o":ei.o,"xmlns:x":ei.x,"xmlns:ss":ei.ss,"xmlns:dt":ei.dt,"xmlns:html":ei.html})}function cge(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=ele(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=tle(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var uge=[60,1084,2066,2165,2175];function dge(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var u=zl(r,r.l),d=D2[u],m=0;d!=null&&uge.indexOf(u)>-1;)s=zl(r,r.l+2),m=r.l+4,u==2066?m+=4:(u==2165||u==2175)&&(m+=12),l=r.slice(m,r.l+4+s),i.push(l),r.l+=4+s,d=D2[u=zl(r,r.l)];var p=Na(i);Va(p,0);var v=0;p.lens=[];for(var y=0;y<i.length;++y)p.lens.push(v),v+=i[y].length;if(p.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,a)}function Oo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Qt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||dc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Gp(e.v):e.w=af(e.v):e.w=Bi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&I0(Qt[n]||String(n))){var a=Ad(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function $y(e,t,r){return{v:e,ixfe:t,t:r}}function fge(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,u=[],d="",m={},p,v="",y,w,x,b,T={},M=[],k,j,R=[],D=[],O={Sheets:[],WBProps:{date1904:!1},Views:[{}]},B={},V=function(Gt){return Gt<8?Wd[Gt]:Gt<64&&D[Gt-8]||Wd[Gt]},ne=function(Gt,Vr,yn){var Fr=Vr.XF.data;if(!(!Fr||!Fr.patternType||!yn||!yn.cellStyles)){Vr.s={},Vr.s.patternType=Fr.patternType;var Yr;(Yr=Qp(V(Fr.icvFore)))&&(Vr.s.fgColor={rgb:Yr}),(Yr=Qp(V(Fr.icvBack)))&&(Vr.s.bgColor={rgb:Yr})}},ie=function(Gt,Vr,yn){if(!(H>1)&&!(yn.sheetRows&&Gt.r>=yn.sheetRows)){if(yn.cellStyles&&Vr.XF&&Vr.XF.data&&ne(Gt,Vr,yn),delete Vr.ixfe,delete Vr.XF,p=Gt,v=Zt(Gt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Gt.r<i.s.r&&(i.s.r=Gt.r),Gt.c<i.s.c&&(i.s.c=Gt.c),Gt.r+1>i.e.r&&(i.e.r=Gt.r+1),Gt.c+1>i.e.c&&(i.e.c=Gt.c+1),yn.cellFormula&&Vr.f){for(var Fr=0;Fr<M.length;++Fr)if(!(M[Fr][0].s.c>Gt.c||M[Fr][0].s.r>Gt.r)&&!(M[Fr][0].e.c<Gt.c||M[Fr][0].e.r<Gt.r)){Vr.F=dr(M[Fr][0]),(M[Fr][0].s.c!=Gt.c||M[Fr][0].s.r!=Gt.r)&&delete Vr.f,Vr.f&&(Vr.f=""+rs(M[Fr][1],i,Gt,J,Q));break}}yn.dense?(a[Gt.r]||(a[Gt.r]=[]),a[Gt.r][Gt.c]=Vr):a[v]=Vr}},Q={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:M,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Q.password=t.password);var ve,G=[],fe=[],K=[],re=[],le=!1,J=[];J.SheetNames=Q.snames,J.sharedf=Q.sharedf,J.arrayf=Q.arrayf,J.names=[],J.XTI=[];var Me=0,H=0,L=0,Y=[],Z=[],W;Q.codepage=1200,io(1200);for(var ue=!1;e.l<e.length-1;){var he=e.l,Re=e.read_shift(2);if(Re===0&&Me===10)break;var ye=e.l===e.length?0:e.read_shift(2),Ue=D2[Re];if(Ue&&Ue.f){if(t.bookSheets&&Me===133&&Re!==133)break;if(Me=Re,Ue.r===2||Ue.r==12){var st=e.read_shift(2);if(ye-=2,!Q.enc&&st!==Re&&((st&255)<<8|st>>8)!==Re)throw new Error("rt mismatch: "+st+"!="+Re);Ue.r==12&&(e.l+=10,ye-=10)}var X={};if(Re===10?X=Ue.f(e,ye,Q):X=dge(Re,Ue,e,ye,Q),H==0&&[9,521,1033,2057].indexOf(Me)===-1)continue;switch(Re){case 34:r.opts.Date1904=O.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Q.enc||(e.l=0),Q.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:Q.lastuser=X;break;case 66:var zt=Number(X);switch(zt){case 21010:zt=1200;break;case 32768:zt=1e4;break;case 32769:zt=1252;break}io(Q.codepage=zt),ue=!0;break;case 317:Q.rrtabid=X;break;case 25:Q.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:Q.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:R.push(X);break;case 430:J.push([X]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(X);break;case 24:case 536:W={Name:X.Name,Ref:rs(X.rgce,i,null,J,Q)},X.itab>0&&(W.Sheet=X.itab-1),J.names.push(W),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(Z[X.itab-1]={ref:dr(X.rgce[0][0][1][2])});break;case 22:Q.ExternCount=X;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(X),J.XTI=J.XTI.concat(X);break;case 2196:if(Q.biff<8)break;W!=null&&(W.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&Q.WTF&&console.error("Password verifier: "+X);break;case 133:s[X.pos]=X,Q.snames.push(X.name);break;case 10:{if(--H)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=dr(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ot=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=dr(i),i.e.r=Ot}i.e.r++,i.e.c++}G.length>0&&(a["!merges"]=G),fe.length>0&&(a["!objects"]=fe),K.length>0&&(a["!cols"]=K),re.length>0&&(a["!rows"]=re),O.Sheets.push(B)}d===""?m=a:n[d]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Q.biff===8&&(Q.biff={9:2,521:3,1033:4}[Re]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),Q.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(Q.biff=5,ue=!0,io(Q.codepage=28591)),Q.biff==8&&X.BIFFVer==0&&X.dt==16&&(Q.biff=2),H++)break;if(a=t.dense?[]:{},Q.biff<8&&!ue&&(ue=!0,io(Q.codepage=t.codepage||1252)),Q.biff<5||X.BIFFVer==0&&X.dt==4096){d===""&&(d="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var qt={pos:e.l-ye,name:d};s[qt.pos]=qt,Q.snames.push(d)}else d=(s[he]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),G=[],fe=[],Q.arrayf=M=[],K=[],re=[],le=!1,B={Hidden:(s[he]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[X.r]||[])[X.c]:a[Zt({c:X.c,r:X.r})])&&++X.c,k={ixfe:X.ixfe,XF:R[X.ixfe]||{},v:X.val,t:"n"},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t);break;case 5:case 517:k={ixfe:X.ixfe,XF:R[X.ixfe],v:X.val,t:X.t},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t);break;case 638:k={ixfe:X.ixfe,XF:R[X.ixfe],v:X.rknum,t:"n"},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t);break;case 189:for(var it=X.c;it<=X.C;++it){var We=X.rkrec[it-X.c][0];k={ixfe:We,XF:R[We],v:X.rkrec[it-X.c][1],t:"n"},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:it,r:X.r},k,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){l=X;break}if(k=$y(X.val,X.cell.ixfe,X.tt),k.XF=R[k.ixfe],t.cellFormula){var ar=X.formula;if(ar&&ar[0]&&ar[0][0]&&ar[0][0][0]=="PtgExp"){var fr=ar[0][0][1][0],Ft=ar[0][0][1][1],Pt=Zt({r:fr,c:Ft});T[Pt]?k.f=""+rs(X.formula,i,X.cell,J,Q):k.F=((t.dense?(a[fr]||[])[Ft]:a[Pt])||{}).F}else k.f=""+rs(X.formula,i,X.cell,J,Q)}L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie(X.cell,k,t),l=X}break;case 7:case 519:if(l)l.val=X,k=$y(X,l.cell.ixfe,"s"),k.XF=R[k.ixfe],t.cellFormula&&(k.f=""+rs(l.formula,i,l.cell,J,Q)),L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie(l.cell,k,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{M.push(X);var jr=Zt(X[0].s);if(y=t.dense?(a[X[0].s.r]||[])[X[0].s.c]:a[jr],t.cellFormula&&y){if(!l||!jr||!y)break;y.f=""+rs(X[1],i,X[0],J,Q),y.F=dr(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(v){if(!l)break;T[Zt(l.cell)]=X[0],y=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Zt(l.cell)],(y||{}).f=""+rs(X[0],i,p,J,Q)}}break;case 253:k=$y(u[X.isst].t,X.ixfe,"s"),u[X.isst].h&&(k.h=u[X.isst].h),k.XF=R[k.ixfe],L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:X.ixfe,XF:R[X.ixfe],t:"z"},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t));break;case 190:if(t.sheetStubs)for(var wr=X.c;wr<=X.C;++wr){var Xe=X.ixfe[wr-X.c];k={ixfe:Xe,XF:R[Xe],t:"z"},L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:wr,r:X.r},k,t)}break;case 214:case 516:case 4:k=$y(X.val,X.ixfe,"s"),k.XF=R[k.ixfe],L>0&&(k.z=Y[k.ixfe>>8&63]),Oo(k,t,r.opts.Date1904),ie({c:X.c,r:X.r},k,t);break;case 0:case 512:H===1&&(i=X);break;case 252:u=X;break;case 1054:if(Q.biff==4){Y[L++]=X[1];for(var wt=0;wt<L+163&&Qt[wt]!=X[1];++wt);wt>=163&&ql(X[1],L+163)}else ql(X[1],X[0]);break;case 30:{Y[L++]=X;for(var lr=0;lr<L+163&&Qt[lr]!=X;++lr);lr>=163&&ql(X,L+163)}break;case 229:G=G.concat(X);break;case 93:fe[X.cmo[0]]=Q.lastobj=X;break;case 438:Q.lastobj.TxO=X;break;case 127:Q.lastobj.ImData=X;break;case 440:for(b=X[0].s.r;b<=X[0].e.r;++b)for(x=X[0].s.c;x<=X[0].e.c;++x)y=t.dense?(a[b]||[])[x]:a[Zt({c:x,r:b})],y&&(y.l=X[1]);break;case 2048:for(b=X[0].s.r;b<=X[0].e.r;++b)for(x=X[0].s.c;x<=X[0].e.c;++x)y=t.dense?(a[b]||[])[x]:a[Zt({c:x,r:b})],y&&y.l&&(y.l.Tooltip=X[1]);break;case 28:{if(Q.biff<=5&&Q.biff>=2)break;y=t.dense?(a[X[0].r]||[])[X[0].c]:a[Zt(X[0])];var _r=fe[X[2]];y||(t.dense?(a[X[0].r]||(a[X[0].r]=[]),y=a[X[0].r][X[0].c]={t:"z"}):y=a[Zt(X[0])]={t:"z"},i.e.r=Math.max(i.e.r,X[0].r),i.s.r=Math.min(i.s.r,X[0].r),i.e.c=Math.max(i.e.c,X[0].c),i.s.c=Math.min(i.s.c,X[0].c)),y.c||(y.c=[]),w={a:X[1],t:_r.TxO.t},y.c.push(w)}break;case 2173:Zde(R[X.ixfe],X.ext);break;case 125:{if(!Q.cellStyles)break;for(;X.e>=X.s;)K[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},le||(le=!0,xk(X.w/256)),_u(K[X.e+1])}break;case 520:{var pr={};X.level!=null&&(re[X.r]=pr,pr.level=X.level),X.hidden&&(re[X.r]=pr,pr.hidden=!0),X.hpt&&(re[X.r]=pr,pr.hpt=X.hpt,pr.hpx=f0(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Yd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Re]]=X;break;case 161:a["!margins"]||Yd(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(O.Views[0].RTL=!0);break;case 146:D=X;break;case 2198:ve=X;break;case 140:j=X;break;case 442:d?B.CodeName=X||B.name:O.WBProps.CodeName=X||"ThisWorkbook";break}}else Ue||console.error("Missing Info for XLS Record 0x"+Re.toString(16)),e.l+=ye}return r.SheetNames=Xn(s).sort(function(Mn,Gt){return Number(Mn)-Number(Gt)}).map(function(Mn){return s[Mn].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&Z.forEach(function(Mn,Gt){r.Sheets[r.SheetNames[Gt]]["!autofilter"]=Mn}),r.Strings=u,r.SSF=An(Qt),Q.enc&&(r.Encryption=Q.enc),ve&&(r.Themes=ve),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),J.names.length>0&&(O.Names=J.names),r.Workbook=O,r}var Tp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hge(e,t,r){var n=$t.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=rO(n,C2,Tp.DSI);for(var s in a)t[s]=a[s]}catch(d){if(r.WTF)throw d}var i=$t.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=rO(i,A2,Tp.SI);for(var u in l)t[u]==null&&(t[u]=l[u])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(d8(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function mge(e,t){var r=[],n=[],a=[],s=0,i,l=RR(C2,"n"),u=RR(A2,"n");if(e.Props)for(i=Xn(e.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(u,i[s])?n:a).push([i[s],e.Props[i[s]]]);if(e.Custprops)for(i=Xn(e.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(l,i[s])?r:Object.prototype.hasOwnProperty.call(u,i[s])?n:a).push([i[s],e.Custprops[i[s]]]);var d=[];for(s=0;s<a.length;++s)y8.indexOf(a[s][0])>-1||u8.indexOf(a[s][0])>-1||a[s][1]!=null&&d.push(a[s]);n.length&&$t.utils.cfb_add(t,"/SummaryInformation",nO(n,Tp.SI,u,A2)),(r.length||d.length)&&$t.utils.cfb_add(t,"/DocumentSummaryInformation",nO(r,Tp.DSI,l,C2,d.length?d:null,Tp.UDI))}function hB(e,t){t||(t={}),Ak(t),XT(),t.codepage&&KT(t.codepage);var r,n;if(e.FullPaths){if($t.find(e,"/encryption"))throw new Error("File is password-protected");r=$t.find(e,"!CompObj"),n=$t.find(e,"/Workbook")||$t.find(e,"/Book")}else{switch(t.type){case"base64":e=ai(oi(e));break;case"binary":e=ai(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Va(e,0),n={content:e}}var a,s;if(r&&cge(r),t.bookProps&&!t.bookSheets)a={};else{var i=yr?"buffer":"array";if(n&&n.content)a=fge(n.content,t);else if((s=$t.find(e,"PerfectOffice_MAIN"))&&s.content)a=Xd.to_workbook(s.content,(t.type=i,t));else if((s=$t.find(e,"NativeContent_MAIN"))&&s.content)a=Xd.to_workbook(s.content,(t.type=i,t));else throw(s=$t.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&$t.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Cfe(e))}var l={};return e.FullPaths&&hge(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function pge(e,t){var r=t||{},n=$t.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $t.utils.cfb_add(n,a,mB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&mge(e,n),r.biff==8&&e.vbaraw&&Afe(n,$t.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var tg={0:{f:B0e},1:{f:W0e},2:{f:fme},3:{f:tme},4:{f:Q0e},5:{f:cme},6:{f:vme},7:{f:sme},8:{f:Eme},9:{f:Sme},10:{f:_me},11:{f:bme},12:{f:X0e},13:{f:mme},14:{f:nme},15:{f:Z0e},16:{f:sB},17:{f:xme},18:{f:ome},19:{f:ck},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xpe},40:{},42:{},43:{f:vde},44:{f:pde},45:{f:wde},46:{f:bde},47:{f:_de},48:{},49:{f:Voe},50:{},51:{f:rfe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:M8},62:{f:gme},63:{f:dfe},64:{f:Ume},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:os,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Fme},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:q0e},148:{f:V0e,p:16},151:{f:Nme},152:{},153:{f:gpe},154:{},155:{},156:{f:mpe},157:{},158:{},159:{T:1,f:Rue},160:{T:-1},161:{T:1,f:xf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Tme},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:efe},336:{T:-1},337:{f:sfe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:k2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:A8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:jme},427:{f:Rme},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dme},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$0e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ame},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:k2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bfe},633:{T:1},634:{T:-1},635:{T:1,f:wfe},636:{T:-1},637:{f:Goe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:npe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:zme},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},D2={6:{f:aS},10:{f:Wc},12:{f:da},13:{f:da},14:{f:Jn},15:{f:Jn},16:{f:ss},17:{f:Jn},18:{f:Jn},19:{f:da},20:{f:cO},21:{f:cO},23:{f:A8},24:{f:dO},25:{f:Jn},26:{},27:{},28:{f:zce},29:{},34:{f:Jn},35:{f:uO},38:{f:ss},39:{f:ss},40:{f:ss},41:{f:ss},42:{f:Jn},43:{f:Jn},47:{f:Zue},49:{f:mce},51:{f:da},60:{},61:{f:cce},64:{f:Jn},65:{f:hce},66:{f:da},77:{},80:{},81:{},82:{},85:{f:da},89:{},90:{},91:{},92:{f:Jle},93:{f:$ce},94:{},95:{f:Jn},96:{},97:{},99:{f:Jn},125:{f:M8},128:{f:Mce},129:{f:ece},130:{f:da},131:{f:Jn},132:{f:Jn},133:{f:tce},134:{},140:{f:Jce},141:{f:da},144:{},146:{f:tue},151:{},152:{},153:{},154:{},155:{},156:{f:da},157:{},158:{},160:{f:lue},161:{f:aue},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Tce},190:{f:kce},193:{f:Wc},197:{},198:{},199:{},200:{},201:{},202:{f:Jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:da},220:{},221:{f:Jn},222:{},224:{f:Ace},225:{f:Qle},226:{f:Wc},227:{},229:{f:Vce},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:nce},253:{f:gce},255:{f:sce},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:x8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jn},353:{f:Wc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Dce},431:{f:Jn},432:{},433:{},434:{},437:{},438:{f:Wce},439:{f:Jn},440:{f:Kce},441:{},442:{f:Vg},443:{},444:{f:da},445:{},446:{},448:{f:Wc},449:{f:lce,r:2},450:{f:Wc},512:{f:iO},513:{f:oue},515:{f:Rce},516:{f:yce},517:{f:lO},519:{f:cue},520:{f:ice},523:{},545:{f:fO},549:{f:sO},566:{},574:{f:dce},638:{f:Ece},659:{},1048:{},1054:{f:wce},1084:{},1212:{f:Lce},2048:{f:Yce},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:rue,r:12},2173:{f:Jde,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Ice,r:12},2197:{},2198:{f:Gde,r:12},2199:{},2200:{},2201:{},2202:{f:Bce,r:12},2203:{f:Wc},2204:{},2205:{},2206:{},2207:{},2211:{f:oce},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sue},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eue},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:iO},1:{},2:{f:mue},3:{f:fue},4:{f:due},5:{f:lO},7:{f:gue},8:{},9:{f:zy},11:{},22:{f:da},30:{f:bce},31:{},32:{},33:{f:fO},36:{},37:{f:sO},50:{f:vue},62:{},52:{},67:{},68:{f:da},69:{},86:{},126:{},127:{f:uue},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:yue},223:{},234:{},354:{},421:{},518:{f:aS},521:{f:zy},536:{f:dO},547:{f:uO},561:{},579:{},1030:{f:aS},1033:{f:zy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ht(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&ik(r)&&e.push(r)}}function gge(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ht(e,t,r,a);var s=t;if(!isNaN(s)){for(var i=r.parts||[],l=0,u=0,d=0;d+(i[l]||8224)<=8224;)d+=i[l]||8224,l++;var m=e.next(4);for(m.write_shift(2,s),m.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d;u<a;){for(m=e.next(4),m.write_shift(2,60),d=0;d+(i[l]||8224)<=8224;)d+=i[l]||8224,l++;m.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d}}}function Gg(e,t,r){return e||(e=$e(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function vge(e,t,r,n){var a=$e(9);return Gg(a,e,t),w8(r,n||"b",a),a}function yge(e,t,r){var n=$e(8+2*r.length);return Gg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function xge(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?_a(Cn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ht(e,2,pue(r,n,a)):ht(e,3,hue(r,n,a));return;case"b":case"e":ht(e,5,vge(r,n,t.v,t.t));return;case"s":case"str":ht(e,4,yge(r,n,(t.v||"").slice(0,255)));return}ht(e,1,Gg(null,r,n))}function wge(e,t,r,n){var a=Array.isArray(t),s=zr(t["!ref"]||"A1"),i,l="",u=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=dr(s)}for(var d=s.s.r;d<=s.e.r;++d){l=ea(d);for(var m=s.s.c;m<=s.e.c;++m){d===s.s.r&&(u[m]=Un(m)),i=u[m]+l;var p=a?(t[d]||[])[m]:t[i];p&&xge(e,p,d,m)}}}function _ge(e,t){for(var r=t||{},n=Ls(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ht(n,r.biff==4?1033:r.biff==3?521:9,gk(e,16,r)),wge(n,e.Sheets[e.SheetNames[a]],a,r),ht(n,10),n.end()}function bge(e,t,r){ht(e,49,pce({sz:12,name:"Arial"},r))}function Sge(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ht(e,1054,_ce(a,t[a],r))})}function Ege(e,t){var r=$e(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ht(e,2151,r),r=$e(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),T8(zr(t["!ref"]||"A1"),r),r.write_shift(4,4),ht(e,2152,r)}function Tge(e,t){for(var r=0;r<16;++r)ht(e,224,oO({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ht(e,224,oO(n,0,t))})}function kge(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ht(e,440,Xce(n)),n[1].Tooltip&&ht(e,2048,Qce(n))}delete t["!links"]}function Cge(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ht(e,125,nue(U1(a,n),a))})}}function Age(e,t,r,n,a){var s=16+Du(a.cellXfs,t,a);if(t.v==null&&!t.bf){ht(e,513,cf(r,n,s));return}if(t.bf)ht(e,6,e0e(t,r,n,a,s));else switch(t.t){case"d":case"n":var i=t.t=="d"?_a(Cn(t.v)):t.v;ht(e,515,Oce(r,n,i,s));break;case"b":case"e":ht(e,517,jce(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=Ek(a.Strings,t.v,a.revStrings);ht(e,253,vce(r,n,l,s))}else ht(e,516,xce(r,n,(t.v||"").slice(0,255),s,a));break;default:ht(e,513,cf(r,n,s))}}function Mge(e,t,r){var n=Ls(),a=r.SheetNames[e],s=r.Sheets[a]||{},i=(r||{}).Workbook||{},l=(i.Sheets||[])[e]||{},u=Array.isArray(s),d=t.biff==8,m,p="",v=[],y=zr(s["!ref"]||"A1"),w=d?65536:16384;if(y.e.c>255||y.e.r>=w){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,w-1)}ht(n,2057,gk(r,16,t)),ht(n,13,Mi(1)),ht(n,12,Mi(100)),ht(n,15,ys(!0)),ht(n,17,ys(!1)),ht(n,16,of(.001)),ht(n,95,ys(!0)),ht(n,42,ys(!1)),ht(n,43,ys(!1)),ht(n,130,Mi(1)),ht(n,128,Nce()),ht(n,131,ys(!1)),ht(n,132,ys(!1)),d&&Cge(n,s["!cols"]),ht(n,512,Sce(y,t)),d&&(s["!links"]=[]);for(var x=y.s.r;x<=y.e.r;++x){p=ea(x);for(var b=y.s.c;b<=y.e.c;++b){x===y.s.r&&(v[b]=Un(b)),m=v[b]+p;var T=u?(s[x]||[])[b]:s[m];T&&(Age(n,T,x,b,t),d&&T.l&&s["!links"].push([m,T.l]))}}var M=l.CodeName||l.name||a;return d&&ht(n,574,fce((i.Views||[])[0])),d&&(s["!merges"]||[]).length&&ht(n,229,Hce(s["!merges"])),d&&kge(n,s),ht(n,442,_8(M)),d&&Ege(n,s),ht(n,10),n.end()}function Nge(e,t,r){var n=Ls(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},l=r.biff==8,u=r.biff==5;if(ht(n,2057,gk(e,5,r)),r.bookType=="xla"&&ht(n,135),ht(n,225,l?Mi(1200):null),ht(n,193,jle(2)),u&&ht(n,191),u&&ht(n,192),ht(n,226),ht(n,92,Zle("SheetJS",r)),ht(n,66,Mi(l?1200:1252)),l&&ht(n,353,Mi(0)),l&&ht(n,448),ht(n,317,iue(e.SheetNames.length)),l&&e.vbaraw&&ht(n,211),l&&e.vbaraw){var d=i.CodeName||"ThisWorkbook";ht(n,442,_8(d))}ht(n,156,Mi(17)),ht(n,25,ys(!1)),ht(n,18,ys(!1)),ht(n,19,Mi(0)),l&&ht(n,431,ys(!1)),l&&ht(n,444,Mi(0)),ht(n,61,uce()),ht(n,64,ys(!1)),ht(n,141,Mi(0)),ht(n,34,ys(lpe(e)=="true")),ht(n,14,ys(!0)),l&&ht(n,439,ys(!1)),ht(n,218,Mi(0)),bge(n,e,r),Sge(n,e.SSF,r),Tge(n,r),l&&ht(n,352,ys(!1));var m=n.end(),p=Ls();l&&ht(p,140,Zce()),l&&r.Strings&&gge(p,252,ace(r.Strings)),ht(p,10);var v=p.end(),y=Ls(),w=0,x=0;for(x=0;x<e.SheetNames.length;++x)w+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var b=m.length+w+v.length;for(x=0;x<e.SheetNames.length;++x){var T=s[x]||{};ht(y,133,rce({pos:b,hs:T.Hidden||0,dt:0,name:e.SheetNames[x]},r)),b+=t[x].length}var M=y.end();if(w!=M.length)throw new Error("BS8 "+w+" != "+M.length);var k=[];return m.length&&k.push(m),M.length&&k.push(M),v.length&&k.push(v),Na(k)}function jge(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=An(Qt)),e&&e.SSF&&(L0(),O1(e.SSF),r.revssf=P1(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Mk(r),r.cellXfs=[],Du(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Mge(a,r,e);return n.unshift(Nge(e,n,r)),Na(n)}function mB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=zs(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return jge(e,t);case 4:case 3:case 2:return _ge(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function bO(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,u=poe(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,m=0,p=0,v=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(i=0;i<u.length;++i){var x=u[i].trim(),b=x.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}m=0;continue}if(!(b!="<td"&&b!="<th")){var T=x.split(/<\/t[dh]>/i);for(l=0;l<T.length;++l){var M=T[l].trim();if(M.match(/<t[dh]/i)){for(var k=M,j=0;k.charAt(0)=="<"&&(j=k.indexOf(">"))>-1;)k=k.slice(j+1);for(var R=0;R<w.length;++R){var D=w[R];D.s.c==m&&D.s.r<d&&d<=D.e.r&&(m=D.e.c+1,R=-1)}var O=nr(M.slice(0,M.indexOf(">")));v=O.colspan?+O.colspan:1,((p=+O.rowspan)>1||v>1)&&w.push({s:{r:d,c:m},e:{r:d+(p||1)-1,c:m+v-1}});var B=O.t||O["data-t"]||"";if(!k.length){m+=v;continue}if(k=L5(k),y.s.r>d&&(y.s.r=d),y.e.r<d&&(y.e.r=d),y.s.c>m&&(y.s.c=m),y.e.c<m&&(y.e.c=m),!k.length){m+=v;continue}var V={t:"s",v:k};r.raw||!k.trim().length||B=="s"||(k==="TRUE"?V={t:"b",v:!0}:k==="FALSE"?V={t:"b",v:!1}:isNaN(mo(k))?isNaN(u0(k).getDate())||(V={t:"d",v:Cn(k)},r.cellDates||(V={t:"n",v:_a(V.v)}),V.z=r.dateNF||Qt[14]):V={t:"n",v:mo(k)}),r.dense?(n[d]||(n[d]=[]),n[d][m]=V):n[Zt({r:d,c:m})]=V,m+=v}}}}return n["!ref"]=dr(y),w.length&&(n["!merges"]=w),n}function Rge(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,u=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>i)&&!(a[d].e.r<r||a[d].e.c<i)){if(a[d].s.r<r||a[d].s.c<i){l=-1;break}l=a[d].e.r-a[d].s.r+1,u=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var m=Zt({r,c:i}),p=n.dense?(e[r]||[])[i]:e[m],v=p&&p.v!=null&&(p.h||nk(p.w||(nc(p),p.w)||""))||"",y={};l>1&&(y.rowspan=l),u>1&&(y.colspan=u),n.editable?v='<span contenteditable="true">'+v+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+p.l.Target+'">'+v+"</a>")),y.id=(n.id||"sjs")+"-"+m,s.push(ft("td",v,y))}}var w="<tr>";return w+s.join("")+"</tr>"}var Oge='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Dge="</body></html>";function Pge(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ou(bO(r[0],t),t);var n=Rk();return r.forEach(function(a,s){Ok(n,bO(a,t),"Sheet"+(s+1))}),n}function Fge(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pB(e,t){var r=t||{},n=r.header!=null?r.header:Oge,a=r.footer!=null?r.footer:Dge,s=[n],i=zs(e["!ref"]);r.dense=Array.isArray(e),s.push(Fge(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(Rge(e,i,l,r));return s.push("</table>"+a),s.join("")}function gB(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?zn(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var m=zs(e["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),a==-1&&(d.e.r=a=m.e.r+1)}var p=[],v=0,y=e["!rows"]||(e["!rows"]=[]),w=0,x=0,b=0,T=0,M=0,k=0;for(e["!cols"]||(e["!cols"]=[]);w<l.length&&x<u;++w){var j=l[w];if(SO(j)){if(n.display)continue;y[x]={hidden:!0}}var R=j.children;for(b=T=0;b<R.length;++b){var D=R[b];if(!(n.display&&SO(D))){var O=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):L5(D.innerHTML),B=D.getAttribute("data-z")||D.getAttribute("z");for(v=0;v<p.length;++v){var V=p[v];V.s.c==T+s&&V.s.r<x+a&&x+a<=V.e.r&&(T=V.e.c+1-s,v=-1)}k=+D.getAttribute("colspan")||1,((M=+D.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:x+a,c:T+s},e:{r:x+a+(M||1)-1,c:T+s+(k||1)-1}});var ne={t:"s",v:O},ie=D.getAttribute("data-t")||D.getAttribute("t")||"";O!=null&&(O.length==0?ne.t=ie||"z":n.raw||O.trim().length==0||ie=="s"||(O==="TRUE"?ne={t:"b",v:!0}:O==="FALSE"?ne={t:"b",v:!1}:isNaN(mo(O))?isNaN(u0(O).getDate())||(ne={t:"d",v:Cn(O)},n.cellDates||(ne={t:"n",v:_a(ne.v)}),ne.z=n.dateNF||Qt[14]):ne={t:"n",v:mo(O)})),ne.z===void 0&&B!=null&&(ne.z=B);var Q="",ve=D.getElementsByTagName("A");if(ve&&ve.length)for(var G=0;G<ve.length&&!(ve[G].hasAttribute("href")&&(Q=ve[G].getAttribute("href"),Q.charAt(0)!="#"));++G);Q&&Q.charAt(0)!="#"&&(ne.l={Target:Q}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][T+s]=ne):e[Zt({c:T+s,r:x+a})]=ne,d.e.c<T+s&&(d.e.c=T+s),T+=k}}++x}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),d.e.r=Math.max(d.e.r,x-1+a),e["!ref"]=dr(d),x>=u&&(e["!fullref"]=dr((d.e.r=l.length-w+x-1+a,d))),e}function vB(e,t){var r=t||{},n=r.dense?[]:{};return gB(n,e,t)}function Ige(e,t){return Ou(vB(e,t),t)}function SO(e){var t="",r=Lge(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Lge(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Bge(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ur(t.replace(/<[^>]*>/g,""));return[r]}var EO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function yB(e,t){var r=t||{},n=ak(e),a=[],s,i,l={name:""},u="",d=0,m,p,v={},y=[],w=r.dense?[]:{},x,b,T={value:""},M="",k=0,j=[],R=-1,D=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},B=0,V={},ne=[],ie={},Q=0,ve=0,G=[],fe=1,K=1,re=[],le={Names:[]},J={},Me=["",""],H=[],L={},Y="",Z=0,W=!1,ue=!1,he=0;for(Xp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Xp.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?w["!ref"]=dr(O):w["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=O.e.r&&(w["!fullref"]=w["!ref"],O.e.r=r.sheetRows-1,w["!ref"]=dr(O)),ne.length&&(w["!merges"]=ne),G.length&&(w["!rows"]=G),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),y.push(m.name),v[m.name]=w,ue=!1):x[0].charAt(x[0].length-2)!=="/"&&(m=nr(x[0],!1),R=D=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,w=r.dense?[]:{},ne=[],G=[],ue=!0);break;case"table-row-group":x[1]==="/"?--B:++B;break;case"table-row":case"":if(x[1]==="/"){R+=fe,fe=1;break}if(p=nr(x[0],!1),p.?R=p.-1:R==-1&&(R=0),fe=+p["number-rows-repeated"]||1,fe<10)for(he=0;he<fe;++he)B>0&&(G[R+he]={level:B});D=-1;break;case"covered-table-cell":x[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(w[R]||(w[R]=[]),w[R][D]={t:"z"}):w[Zt({r:R,c:D})]={t:"z"}),M="",j=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++D,T=nr(x[0],!1),K=parseInt(T["number-columns-repeated"]||"1",10),b={t:"z",v:null},T.formula&&r.cellFormula!=!1&&(b.f=xO(Ur(T.formula))),(T.||T["value-type"])=="string"&&(b.t="s",b.v=Ur(T["string-value"]||""),r.dense?(w[R]||(w[R]=[]),w[R][D]=b):w[Zt({r:R,c:D})]=b),D+=K-1;else if(x[1]!=="/"){++D,M="",k=0,j=[],K=1;var Re=fe?R+fe-1:R;if(D>O.e.c&&(O.e.c=D),D<O.s.c&&(O.s.c=D),R<O.s.r&&(O.s.r=R),Re>O.e.r&&(O.e.r=Re),T=nr(x[0],!1),H=[],L={},b={t:T.||T["value-type"],v:null},r.cellFormula)if(T.formula&&(T.formula=Ur(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(Q=parseInt(T["number-matrix-rows-spanned"],10)||0,ve=parseInt(T["number-matrix-columns-spanned"],10)||0,ie={s:{r:R,c:D},e:{r:R+Q-1,c:D+ve-1}},b.F=dr(ie),re.push([ie,b.F])),T.formula)b.f=xO(T.formula);else for(he=0;he<re.length;++he)R>=re[he][0].s.r&&R<=re[he][0].e.r&&D>=re[he][0].s.c&&D<=re[he][0].e.c&&(b.F=re[he][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(Q=parseInt(T["number-rows-spanned"],10)||0,ve=parseInt(T["number-columns-spanned"],10)||0,ie={s:{r:R,c:D},e:{r:R+Q-1,c:D+ve-1}},ne.push(ie)),T["number-columns-repeated"]&&(K=parseInt(T["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=kn(T["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(T.value);break;case"percentage":b.t="n",b.v=parseFloat(T.value);break;case"currency":b.t="n",b.v=parseFloat(T.value);break;case"date":b.t="d",b.v=Cn(T["date-value"]),r.cellDates||(b.t="n",b.v=_a(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=foe(T["time-value"])/86400,r.cellDates&&(b.t="d",b.v=F1(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(T.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",T["string-value"]!=null&&(M=Ur(T["string-value"]),j=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(W=!1,b.t==="s"&&(b.v=M||"",j.length&&(b.R=j),W=k==0),J.Target&&(b.l=J),H.length>0&&(b.c=H,H=[]),M&&r.cellText!==!1&&(b.w=M),W&&(b.t="z",delete b.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=R))for(var ye=0;ye<fe;++ye){if(K=parseInt(T["number-columns-repeated"]||"1",10),r.dense)for(w[R+ye]||(w[R+ye]=[]),w[R+ye][D]=ye==0?b:An(b);--K>0;)w[R+ye][D+K]=An(b);else for(w[Zt({r:R+ye,c:D})]=b;--K>0;)w[Zt({r:R+ye,c:D+K})]=An(b);O.e.c<=D&&(O.e.c=D)}K=parseInt(T["number-columns-repeated"]||"1",10),D+=K-1,K=0,b={},M="",j=[]}J={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s;L.t=M,j.length&&(L.R=j),L.a=Y,H.push(L)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);Y="",Z=0,M="",k=0,j=[];break;case"creator":x[1]==="/"?Y=n.slice(Z,x.index):Z=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);M="",k=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(V[l.name]=u,(s=a.pop())[0]!==x[3])throw"Bad state: "+s}else x[0].charAt(x[0].length-2)!=="/"&&(u="",l=nr(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=nr(x[0],!1),u+=EO[x[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=nr(x[0],!1),u+=EO[x[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(d,x.index);break}else d=x.index+x[0].length;break;case"named-range":i=nr(x[0],!1),Me=sS(i["cell-range-address"]);var Ue={Name:i.name,Ref:Me[0]+"!"+Me[1]};ue&&(Ue.Sheet=y.length),le.Names.push(Ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!T||!T["string-value"])){var st=Bge(n.slice(k,x.index));M=(M.length>0?M+`
`:"")+st[0]}else nr(x[0],!1),k=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{Me=sS(nr(x[0])["target-range-address"]),v[Me[0]]["!autofilter"]={ref:Me[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(J=nr(x[0],!1),!J.href)break;J.Target=Ur(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(Me=sS(J.Target.slice(1)),J.Target="#"+Me[0]+"!"+Me[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var X={Sheets:v,SheetNames:y,Workbook:le};return r.bookSheets&&delete X.Sheets,X}function TO(e,t){t=t||{},ki(e,"META-INF/manifest.xml")&&fle(ua(e,"META-INF/manifest.xml"),t);var r=si(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=yB(mn(r),t);return ki(e,"meta.xml")&&(n.Props=l8(ua(e,"meta.xml"))),n}function kO(e,t){return yB(e,t)}var Uge=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ta+t}})(),CO=(function(){var e=function(s){return cn(s).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,i,l){var u=[];u.push('      <table:table table:name="'+cn(i.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,m=0,p=zs(s["!ref"]||"A1"),v=s["!merges"]||[],y=0,w=Array.isArray(s);if(s["!cols"])for(m=0;m<=p.e.c;++m)u.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var x="",b=s["!rows"]||[];for(d=0;d<p.s.r;++d)x=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=p.e.r;++d){for(x=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+x+`>
`),m=0;m<p.s.c;++m)u.push(t);for(;m<=p.e.c;++m){var T=!1,M={},k="";for(y=0;y!=v.length;++y)if(!(v[y].s.c>m)&&!(v[y].s.r>d)&&!(v[y].e.c<m)&&!(v[y].e.r<d)){(v[y].s.c!=m||v[y].s.r!=d)&&(T=!0),M["table:number-columns-spanned"]=v[y].e.c-v[y].s.c+1,M["table:number-rows-spanned"]=v[y].e.r-v[y].s.r+1;break}if(T){u.push(r);continue}var j=Zt({r:d,c:m}),R=w?(s[d]||[])[m]:s[j];if(R&&R.f&&(M["table:formula"]=cn(i0e(R.f)),R.F&&R.F.slice(0,j.length)==j)){var D=zs(R.F);M["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,M["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!R){u.push(t);continue}switch(R.t){case"b":k=R.v?"TRUE":"FALSE",M["office:value-type"]="boolean",M["office:boolean-value"]=R.v?"true":"false";break;case"n":k=R.w||String(R.v||0),M["office:value-type"]="float",M["office:value"]=R.v||0;break;case"s":case"str":k=R.v==null?"":R.v,M["office:value-type"]="string";break;case"d":k=R.w||Cn(R.v).toISOString(),M["office:value-type"]="date",M["office:date-value"]=Cn(R.v).toISOString(),M["table:style-name"]="ce1";break;default:u.push(t);continue}var O=e(k);if(R.l&&R.l.Target){var B=R.l.Target;B=B.charAt(0)=="#"?"#"+o0e(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),O=ft("text:a",O,{"xlink:href":B.replace(/&/g,"&amp;")})}u.push("          "+ft("table:table-cell",ft("text:p",O,{}),M)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(s,i){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(d){return i.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var m=0;m<d["!cols"].length;++m)if(d["!cols"][m]){var p=d["!cols"][m];if(p.width==null&&p.wpx==null&&p.wch==null)continue;_u(p),p.ods=l;var v=d["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),s.push(`  </style:style>
`),++l}}});var u=0;i.SheetNames.map(function(d){return i.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var m=0;m<d["!rows"].length;++m)if(d["!rows"][m]){d["!rows"][m].ods=u;var p=d["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(i,l){var u=[ta],d=Kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Kp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+d+m+`>
`),u.push(o8().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),a(u,i),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=i.SheetNames.length;++p)u.push(n(i.Sheets[i.SheetNames[p]],i,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function xB(e,t){if(t.bookType=="fods")return CO(e,t);var r=ek(),n="",a=[],s=[];return n="mimetype",mr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",mr(r,n,CO(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",mr(r,n,Uge(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",mr(r,n,ta+o8()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",mr(r,n,ple(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",mr(r,n,hle(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function uf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function P2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):mn(Ru(e))}function zge(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ai(Go(e))}function Vge(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Su(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function AO(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Hge(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function $ge(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function rg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function tn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Kn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function qr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=rg(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=rg(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:s};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Ba(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(tn(n*8+a.type)),a.type==2&&t.push(tn(a.data.length)),t.push(a.data))})}),Su(t)}function Ck(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Si(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=rg(e,n),s=qr(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Kn(s[1][0].data),messages:[]};s[2].forEach(function(l){var u=qr(l.data),d=Kn(u[3][0].data);i.messages.push({meta:u,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=s[3])!=null&&t[0]&&(i.merge=Kn(s[3][0].data)>>>0>0),r.push(i)}return r}function bh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:tn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:tn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(i){a.push(i.data),i.meta[3]=[{type:0,data:tn(i.data.length)}],n[2].push({data:Ba(i.meta),type:2})});var s=Ba(n);t.push(tn(s.length)),t.push(s),a.forEach(function(i){return t.push(i)})}),Su(t)}function qge(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=rg(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var u=0,d=0;if(s==1?(d=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,s==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Su(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(a.push(a[0].slice(-u)),d-=u;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-u,-u+d))}}var m=Su(a);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function Ei(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(qge(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Su(t)}function Sh(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=tn(n),i=s.length;t.push(s),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,a[0]=0,a[1]=i&255,a[2]=i>>8&255,a[3]=i>>16&255,r+=n}return Su(t)}function Gge(e,t,r,n){var a=uf(e),s=a.getUint32(4,!0),i=(n>1?12:8)+AO(s&(n>1?3470:398))*4,l=-1,u=-1,d=NaN,m=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=AO(s&(n>1?12288:4096))*4,s&16&&(u=a.getUint32(i,!0),i+=4),s&32&&(d=a.getFloat64(i,!0),i+=8),s&64&&(m.setTime(m.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:d};break;case 3:p={t:"s",v:t[u]};break;case 5:p={t:"d",v:m};break;case 6:p={t:"b",v:d>0};break;case 7:p={t:"n",v:d/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:r[l]};else if(u>-1)p={t:"s",v:t[u]};else if(!isNaN(d))p={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function Wge(e,t,r){var n=uf(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,u=NaN,d=NaN,m=new Date(2001,0,1);a&1&&(u=Hge(e,s),s+=16),a&2&&(d=n.getFloat64(s,!0),s+=8),a&4&&(m.setTime(m.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:t[l]};break;case 5:p={t:"d",v:m};break;case 6:p={t:"b",v:d>0};break;case 7:p={t:"n",v:d/86400};break;case 8:p={t:"e",v:0};break;case 9:if(i>-1)p={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return p}function oS(e,t){var r=new Uint8Array(32),n=uf(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,$ge(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function lS(e,t){var r=new Uint8Array(32),n=uf(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Kge(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Gge(e,t,r,e[0]);case 5:return Wge(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ts(e){var t=qr(e);return rg(t[1][0].data)}function MO(e,t){var r=qr(t.data),n=Kn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=qr(i.data),u=Kn(l[1][0].data)>>>0;switch(n){case 1:s[u]=P2(l[3][0].data);break;case 8:{var d=e[ts(l[9][0].data)][0],m=qr(d.data),p=e[ts(m[1][0].data)][0],v=Kn(p.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var y=qr(p.data);s[u]=y[3].map(function(w){return P2(w.data)}).join("")}break}}),s}function Xge(e,t){var r,n,a,s,i,l,u,d,m,p,v,y,w,x,b=qr(e),T=Kn(b[1][0].data)>>>0,M=Kn(b[2][0].data)>>>0,k=((n=(r=b[8])==null?void 0:r[0])==null?void 0:n.data)&&Kn(b[8][0].data)>0||!1,j,R;if((s=(a=b[7])==null?void 0:a[0])!=null&&s.data&&t!=0)j=(l=(i=b[7])==null?void 0:i[0])==null?void 0:l.data,R=(d=(u=b[6])==null?void 0:u[0])==null?void 0:d.data;else if((p=(m=b[4])==null?void 0:m[0])!=null&&p.data&&t!=1)j=(y=(v=b[4])==null?void 0:v[0])==null?void 0:y.data,R=(x=(w=b[3])==null?void 0:w[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=k?4:1,O=uf(j),B=[],V=0;V<j.length/2;++V){var ne=O.getUint16(V*2,!0);ne<65535&&B.push([V,ne])}if(B.length!=M)throw"Expected ".concat(M," cells, found ").concat(B.length);var ie=[];for(V=0;V<B.length-1;++V)ie[B[V][0]]=R.subarray(B[V][1]*D,B[V+1][1]*D);return B.length>=1&&(ie[B[B.length-1][0]]=R.subarray(B[B.length-1][1]*D)),{R:T,cells:ie}}function Yge(e,t){var r,n=qr(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Kn(n[7][0].data)>>>0>0?1:0:-1,s=Ck(n[5],function(i){return Xge(i,a)});return{nrows:Kn(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(u,d){if(i[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));i[l.R][d]=u}),i},[])}}function Qge(e,t,r){var n,a=qr(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Kn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Kn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=dr(s);var i=qr(a[4][0].data),l=MO(e,e[ts(i[4][0].data)][0]),u=(n=i[17])!=null&&n[0]?MO(e,e[ts(i[17][0].data)][0]):[],d=qr(i[3][0].data),m=0;d[1].forEach(function(p){var v=qr(p.data),y=e[ts(v[2][0].data)][0],w=Kn(y.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var x=Yge(e,y);x.data.forEach(function(b,T){b.forEach(function(M,k){var j=Zt({r:m+T,c:k}),R=Kge(M,l,u);R&&(r[j]=R)})}),m+=x.nrows})}function Jge(e,t){var r=qr(t.data),n={"!ref":"A1"},a=e[ts(r[2][0].data)],s=Kn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Qge(e,a[0],n),n}function Zge(e,t){var r,n=qr(t.data),a={name:(r=n[1])!=null&&r[0]?P2(n[1][0].data):"",sheets:[]},s=Ck(n[2],ts);return s.forEach(function(i){e[i].forEach(function(l){var u=Kn(l.meta[1][0].data);u==6e3&&a.sheets.push(Jge(e,l))})}),a}function eve(e,t){var r=Rk(),n=qr(t.data),a=Ck(n[1],ts);if(a.forEach(function(s){e[s].forEach(function(i){var l=Kn(i.meta[1][0].data);if(l==2){var u=Zge(e,i);u.sheets.forEach(function(d,m){Ok(r,d,m==0?u.name:u.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function cS(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=Ei(u.content)}catch(p){return console.log("?? "+u.content.length+" "+(p.message||p))}var m;try{m=Si(d)}catch(p){return console.log("## "+(p.message||p))}m.forEach(function(p){s[p.id]=p.messages,i.push(p.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Kn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(u){s[u].forEach(function(d){var m=Kn(d.meta[1][0].data)>>>0;if(m==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return eve(s,l)}function tve(e,t,r){var n,a,s,i;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(s=e[8])==null?void 0:s[0])==null?void 0:i.data)&&Kn(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,d=uf(e[7][0].data),m=0,p=[],v=uf(e[4][0].data),y=0,w=[],x=0;x<t.length;++x){if(t[x]==null){d.setUint16(x*2,65535,!0),v.setUint16(x*2,65535);continue}d.setUint16(x*2,m,!0),v.setUint16(x*2,y,!0);var b,T;switch(typeof t[x]){case"string":b=oS({t:"s",v:t[x]},r),T=lS({t:"s",v:t[x]},r);break;case"number":b=oS({t:"n",v:t[x]},r),T=lS({t:"n",v:t[x]},r);break;case"boolean":b=oS({t:"b",v:t[x]},r),T=lS({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}p.push(b),m+=b.length,w.push(T),y+=T.length,++u}for(e[2][0].data=tn(u);x<e[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),v.setUint16(x*2,65535,!0);return e[6][0].data=Su(p),e[3][0].data=Su(w),u}function rve(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=zs(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(dr(n)));var s=Xx(r,{range:n,header:1}),i=["~Sh33tJ5~"];s.forEach(function(Y){return Y.forEach(function(Z){typeof Z=="string"&&i.push(Z)})});var l={},u=[],d=$t.read(t.numbers,{type:"base64"});d.FileIndex.map(function(Y,Z){return[Y,d.FullPaths[Z]]}).forEach(function(Y){var Z=Y[0],W=Y[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var ue=Z.content,he=Ei(ue),Re=Si(he);Re.forEach(function(ye){u.push(ye.id),l[ye.id]={deps:[],location:W,type:Kn(ye.messages[0].meta[1][0].data)}})}}),u.sort(function(Y,Z){return Y-Z});var m=u.filter(function(Y){return Y>1}).map(function(Y){return[Y,tn(Y)]});d.FileIndex.map(function(Y,Z){return[Y,d.FullPaths[Z]]}).forEach(function(Y){var Z=Y[0];if(Y[1],!!Z.name.match(/\.iwa/)){var W=Si(Ei(Z.content));W.forEach(function(ue){ue.messages.forEach(function(he){m.forEach(function(Re){ue.messages.some(function(ye){return Kn(ye.meta[1][0].data)!=11006&&Vge(ye.data,Re[1])})&&l[Re[0]].deps.push(ue.id)})})})}});for(var p=$t.find(d,l[1].location),v=Si(Ei(p.content)),y,w=0;w<v.length;++w){var x=v[w];x.id==1&&(y=x)}var b=ts(qr(y.messages[0].data)[1][0].data);for(p=$t.find(d,l[b].location),v=Si(Ei(p.content)),w=0;w<v.length;++w)x=v[w],x.id==b&&(y=x);for(b=ts(qr(y.messages[0].data)[2][0].data),p=$t.find(d,l[b].location),v=Si(Ei(p.content)),w=0;w<v.length;++w)x=v[w],x.id==b&&(y=x);for(b=ts(qr(y.messages[0].data)[2][0].data),p=$t.find(d,l[b].location),v=Si(Ei(p.content)),w=0;w<v.length;++w)x=v[w],x.id==b&&(y=x);var T=qr(y.messages[0].data);{T[6][0].data=tn(n.e.r+1),T[7][0].data=tn(n.e.c+1);var M=ts(T[46][0].data),k=$t.find(d,l[M].location),j=Si(Ei(k.content));{for(var R=0;R<j.length&&j[R].id!=M;++R);if(j[R].id!=M)throw"Bad ColumnRowUIDMapArchive";var D=qr(j[R].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var O=0;O<=n.e.c;++O){var B=[];B[1]=B[2]=[{type:0,data:tn(O+420690)}],D[1].push({type:2,data:Ba(B)}),D[2].push({type:0,data:tn(O)}),D[3].push({type:0,data:tn(O)})}D[4]=[],D[5]=[],D[6]=[];for(var V=0;V<=n.e.r;++V)B=[],B[1]=B[2]=[{type:0,data:tn(V+726270)}],D[4].push({type:2,data:Ba(B)}),D[5].push({type:0,data:tn(V)}),D[6].push({type:0,data:tn(V)});j[R].messages[0].data=Ba(D)}k.content=Sh(bh(j)),k.size=k.content.length,delete T[46];var ne=qr(T[4][0].data);{ne[7][0].data=tn(n.e.r+1);var ie=qr(ne[1][0].data),Q=ts(ie[2][0].data);k=$t.find(d,l[Q].location),j=Si(Ei(k.content));{if(j[0].id!=Q)throw"Bad HeaderStorageBucket";var ve=qr(j[0].messages[0].data);for(V=0;V<s.length;++V){var G=qr(ve[2][0].data);G[1][0].data=tn(V),G[4][0].data=tn(s[V].length),ve[2][V]={type:ve[2][0].type,data:Ba(G)}}j[0].messages[0].data=Ba(ve)}k.content=Sh(bh(j)),k.size=k.content.length;var fe=ts(ne[2][0].data);k=$t.find(d,l[fe].location),j=Si(Ei(k.content));{if(j[0].id!=fe)throw"Bad HeaderStorageBucket";for(ve=qr(j[0].messages[0].data),O=0;O<=n.e.c;++O)G=qr(ve[2][0].data),G[1][0].data=tn(O),G[4][0].data=tn(n.e.r+1),ve[2][O]={type:ve[2][0].type,data:Ba(G)};j[0].messages[0].data=Ba(ve)}k.content=Sh(bh(j)),k.size=k.content.length;var K=ts(ne[4][0].data);(function(){for(var Y=$t.find(d,l[K].location),Z=Si(Ei(Y.content)),W,ue=0;ue<Z.length;++ue){var he=Z[ue];he.id==K&&(W=he)}var Re=qr(W.messages[0].data);{Re[3]=[];var ye=[];i.forEach(function(X,zt){ye[1]=[{type:0,data:tn(zt)}],ye[2]=[{type:0,data:tn(1)}],ye[3]=[{type:2,data:zge(X)}],Re[3].push({type:2,data:Ba(ye)})})}W.messages[0].data=Ba(Re);var Ue=bh(Z),st=Sh(Ue);Y.content=st,Y.size=Y.content.length})();var re=qr(ne[3][0].data);{var le=re[1][0];delete re[2];var J=qr(le.data);{var Me=ts(J[2][0].data);(function(){for(var Y=$t.find(d,l[Me].location),Z=Si(Ei(Y.content)),W,ue=0;ue<Z.length;++ue){var he=Z[ue];he.id==Me&&(W=he)}var Re=qr(W.messages[0].data);{delete Re[6],delete re[7];var ye=new Uint8Array(Re[5][0].data);Re[5]=[];for(var Ue=0,st=0;st<=n.e.r;++st){var X=qr(ye);Ue+=tve(X,s[st],i),X[1][0].data=tn(st),Re[5].push({data:Ba(X),type:2})}Re[1]=[{type:0,data:tn(n.e.c+1)}],Re[2]=[{type:0,data:tn(n.e.r+1)}],Re[3]=[{type:0,data:tn(Ue)}],Re[4]=[{type:0,data:tn(n.e.r+1)}]}W.messages[0].data=Ba(Re);var zt=bh(Z),Ot=Sh(zt);Y.content=Ot,Y.size=Y.content.length})()}le.data=Ba(J)}ne[3][0].data=Ba(re)}T[4][0].data=Ba(ne)}y.messages[0].data=Ba(T);var H=bh(v),L=Sh(H);return p.content=L,p.size=p.content.length,d}function wB(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Ak(e){wB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Mk(e){wB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function nve(e){return br.WS.indexOf(e)>-1?"sheet":e==br.CS?"chart":e==br.DS?"dialog":e==br.MS?"macro":e&&e.length?e:"sheet"}function ave(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,nve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function sve(e,t,r,n,a,s,i,l,u,d,m,p){try{s[n]=_p(si(e,r,!0),t);var v=ua(e,t),y;switch(l){case"sheet":y=Cpe(v,t,a,u,s[n],d,m,p);break;case"chart":if(y=Ape(v,t,a,u,s[n],d,m,p),!y||!y["!drawel"])break;var w=tp(y["!drawel"].Target,t),x=Yp(w),b=mfe(si(e,w,!0),_p(si(e,x,!0),w)),T=tp(b,w),M=Yp(T);y=tpe(si(e,T,!0),T,u,_p(si(e,M,!0),T),d,y);break;case"macro":y=Mpe(v,t,a,u,s[n],d,m,p);break;case"dialog":y=Npe(v,t,a,u,s[n],d,m,p);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=y;var k=[];s&&s[n]&&Xn(s[n]).forEach(function(j){var R="";if(s[n][j].Type==br.CMNT){R=tp(s[n][j].Target,t);var D=Dpe(ua(e,R,!0),R,u);if(!D||!D.length)return;mO(y,D,!1)}s[n][j].Type==br.TCMNT&&(R=tp(s[n][j].Target,t),k=k.concat(gfe(ua(e,R,!0),u)))}),k&&k.length&&mO(y,k,!0,u.people||[])}catch(j){if(u.WTF)throw j}}function _i(e){return e.charAt(0)=="/"?e.slice(1):e}function ive(e,t){if(L0(),t=t||{},Ak(t),ki(e,"META-INF/manifest.xml")||ki(e,"objectdata.xml"))return TO(e,t);if(ki(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof cS<"u"){if(e.FileIndex)return cS(e);var r=$t.utils.cfb_new();return PR(e).forEach(function(G){mr(r,G,voe(e,G))}),cS(r)}throw new Error("Unsupported NUMBERS file")}if(!ki(e,"[Content_Types].xml"))throw ki(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ki(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=PR(e),a=ule(si(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ua(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ua(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var u={},d={};if(!t.bookSheets&&!t.bookProps){if(bp=[],a.sst)try{bp=Ope(ua(e,_i(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(u=Rpe(si(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(d=jpe(ua(e,_i(a.style)),a.style,u,t))}a.links.map(function(G){try{var fe=_p(si(e,Yp(_i(G))),G);return Fpe(ua(e,_i(G)),fe,G,t)}catch{}});var m=kpe(ua(e,_i(a.workbooks[0])),a.workbooks[0],t),p={},v="";a.coreprops.length&&(v=ua(e,_i(a.coreprops[0]),!0),v&&(p=l8(v)),a.extprops.length!==0&&(v=ua(e,_i(a.extprops[0]),!0),v&&vle(v,p,t)));var y={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(v=si(e,_i(a.custprops[0]),!0),v&&(y=xle(v,t)));var w={};if((t.bookSheets||t.bookProps)&&(m.Sheets?i=m.Sheets.map(function(fe){return fe.name}):p.Worksheets&&p.SheetNames.length>0&&(i=p.SheetNames),t.bookProps&&(w.Props=p,w.Custprops=y),t.bookSheets&&typeof i<"u"&&(w.SheetNames=i),t.bookSheets?w.SheetNames:t.bookProps))return w;i={};var x={};t.bookDeps&&a.calcchain&&(x=Ppe(ua(e,_i(a.calcchain)),a.calcchain));var b=0,T={},M,k;{var j=m.Sheets;p.Worksheets=j.length,p.SheetNames=[];for(var R=0;R!=j.length;++R)p.SheetNames[R]=j[R].name}var D=s?"bin":"xml",O=a.workbooks[0].lastIndexOf("/"),B=(a.workbooks[0].slice(0,O+1)+"_rels/"+a.workbooks[0].slice(O+1)+".rels").replace(/^\//,"");ki(e,B)||(B="xl/_rels/workbook."+D+".rels");var V=_p(si(e,B,!0),B.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Ipe(ua(e,_i(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=yfe(ua(e,_i(a.people[0])),t)),V&&(V=ave(V,m.Sheets));var ne=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=p.Worksheets;++b){var ie="sheet";if(V&&V[b]?(M="xl/"+V[b][1].replace(/[\/]?xl\//,""),ki(e,M)||(M=V[b][1]),ki(e,M)||(M=B.replace(/_rels\/.*$/,"")+V[b][1]),ie=V[b][2]):(M="xl/worksheets/sheet"+(b+1-ne)+"."+D,M=M.replace(/sheet0\./,"sheet.")),k=M.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(p.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Q=!1,ve=0;ve!=t.sheets.length;++ve)typeof t.sheets[ve]=="number"&&t.sheets[ve]==b&&(Q=1),typeof t.sheets[ve]=="string"&&t.sheets[ve].toLowerCase()==p.SheetNames[b].toLowerCase()&&(Q=1);if(!Q)continue e}}sve(e,M,k,p.SheetNames[b],b,T,i,ie,t,m,u,d)}return w={Directory:a,Workbook:m,Props:p,Custprops:y,Deps:x,Sheets:i,SheetNames:p.SheetNames,Strings:bp,Styles:d,Themes:u,SSF:An(Qt)},t&&t.bookFiles&&(e.files?(w.keys=n,w.files=e.files):(w.keys=[],w.files={},e.FullPaths.forEach(function(G,fe){G=G.replace(/^Root Entry[\/]/,""),w.keys.push(G),w.files[G]=e.FileIndex[fe]}))),t&&t.bookVBA&&(a.vba.length>0?w.vbaraw=ua(e,_i(a.vba[0]),!0):a.defaults&&a.defaults.bin===kfe&&(w.vbaraw=ua(e,"xl/vbaProject.bin",!0))),w}function ove(e,t){var r=t||{},n="Workbook",a=$t.find(e,n);try{if(n="/!DataSpaces/Version",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Iue(a.content),n="/!DataSpaces/DataSpaceMap",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Bue(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Uue(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Vue(a.content)}catch{}if(n="/EncryptionInfo",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Hue(a.content);if(n="/EncryptedPackage",a=$t.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function lve(e,t){return t.bookType=="ods"?xB(e,t):t.bookType=="numbers"?rve(e,t):t.bookType=="xlsb"?cve(e,t):uve(e,t)}function cve(e,t){Ph=1024,e&&!e.SSF&&(e.SSF=An(Qt)),e&&e.SSF&&(L0(),O1(e.SSF),t.revssf=P1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=W8.indexOf(t.bookType)>-1,a=mk();Mk(t=t||{});var s=ek(),i="",l=0;if(t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",mr(s,i,c8(e.Props,t)),a.coreprops.push(i),nn(t.rels,2,i,br.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,mr(s,i,f8(e.Props)),a.extprops.push(i),nn(t.rels,3,i,br.EXT_PROPS),e.Custprops!==e.Props&&Xn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",mr(s,i,h8(e.Custprops)),a.custprops.push(i),nn(t.rels,4,i,br.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var m={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],v=(p||{})["!type"]||"sheet";switch(v){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,mr(s,i,Bpe(l-1,i,t,e,m)),a.sheets.push(i),nn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,br.WS[0])}if(p){var y=p["!comments"],w=!1,x="";y&&y.length>0&&(x="xl/comments"+l+"."+r,mr(s,x,Vpe(y,x)),a.comments.push(x),nn(m,-1,"../comments"+l+"."+r,br.CMNT),w=!0),p["!legacy"]&&w&&mr(s,"xl/drawings/vmlDrawing"+l+".vml",q8(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&mr(s,Yp(i),Vh(m))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,mr(s,i,zpe(t.Strings,i,t)),a.strs.push(i),nn(t.wbrels,-1,"sharedStrings."+r,br.SST)),i="xl/workbook."+r,mr(s,i,Lpe(e,i)),a.workbooks.push(i),nn(t.rels,1,i,br.WB),i="xl/theme/theme1.xml",mr(s,i,wk(e.Themes,t)),a.themes.push(i),nn(t.wbrels,-1,"theme/theme1.xml",br.THEME),i="xl/styles."+r,mr(s,i,Upe(e,i,t)),a.styles.push(i),nn(t.wbrels,-1,"styles."+r,br.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",mr(s,i,e.vbaraw),a.vba.push(i),nn(t.wbrels,-1,"vbaProject.bin",br.VBA)),i="xl/metadata."+r,mr(s,i,Hpe(i)),a.metadata.push(i),nn(t.wbrels,-1,"metadata."+r,br.XLMETA),mr(s,"[Content_Types].xml",i8(a,t)),mr(s,"_rels/.rels",Vh(t.rels)),mr(s,"xl/_rels/workbook."+r+".rels",Vh(t.wbrels)),delete t.revssf,delete t.ssf,s}function uve(e,t){Ph=1024,e&&!e.SSF&&(e.SSF=An(Qt)),e&&e.SSF&&(L0(),O1(e.SSF),t.revssf=P1(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=W8.indexOf(t.bookType)>-1,a=mk();Mk(t=t||{});var s=ek(),i="",l=0;if(t.cellXfs=[],Du(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",mr(s,i,c8(e.Props,t)),a.coreprops.push(i),nn(t.rels,2,i,br.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,mr(s,i,f8(e.Props)),a.extprops.push(i),nn(t.rels,3,i,br.EXT_PROPS),e.Custprops!==e.Props&&Xn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",mr(s,i,h8(e.Custprops)),a.custprops.push(i),nn(t.rels,4,i,br.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},v=e.Sheets[e.SheetNames[l-1]],y=(v||{})["!type"]||"sheet";switch(y){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,mr(s,i,aB(l-1,t,e,p)),a.sheets.push(i),nn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,br.WS[0])}if(v){var w=v["!comments"],x=!1,b="";if(w&&w.length>0){var T=!1;w.forEach(function(M){M[1].forEach(function(k){k.T==!0&&(T=!0)})}),T&&(b="xl/threadedComments/threadedComment"+l+"."+r,mr(s,b,vfe(w,m,t)),a.threadedcomments.push(b),nn(p,-1,"../threadedComments/threadedComment"+l+"."+r,br.TCMNT)),b="xl/comments"+l+"."+r,mr(s,b,G8(w)),a.comments.push(b),nn(p,-1,"../comments"+l+"."+r,br.CMNT),x=!0}v["!legacy"]&&x&&mr(s,"xl/drawings/vmlDrawing"+l+".vml",q8(l,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&mr(s,Yp(i),Vh(p))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,mr(s,i,O8(t.Strings,t)),a.strs.push(i),nn(t.wbrels,-1,"sharedStrings."+r,br.SST)),i="xl/workbook."+r,mr(s,i,cB(e)),a.workbooks.push(i),nn(t.rels,1,i,br.WB),i="xl/theme/theme1.xml",mr(s,i,wk(e.Themes,t)),a.themes.push(i),nn(t.wbrels,-1,"theme/theme1.xml",br.THEME),i="xl/styles."+r,mr(s,i,z8(e,t)),a.styles.push(i),nn(t.wbrels,-1,"styles."+r,br.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",mr(s,i,e.vbaraw),a.vba.push(i),nn(t.wbrels,-1,"vbaProject.bin",br.VBA)),i="xl/metadata."+r,mr(s,i,$8()),a.metadata.push(i),nn(t.wbrels,-1,"metadata."+r,br.XLMETA),m.length>1&&(i="xl/persons/person.xml",mr(s,i,xfe(m)),a.people.push(i),nn(t.wbrels,-1,"persons/person.xml",br.PEOPLE)),mr(s,"[Content_Types].xml",i8(a,t)),mr(s,"_rels/.rels",Vh(t.rels)),mr(s,"xl/_rels/workbook."+r+".rels",Vh(t.wbrels)),delete t.revssf,delete t.ssf,s}function Nk(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=oi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dve(e,t){return $t.find(e,"EncryptedPackage")?ove(e,t):hB(e,t)}function fve(e,t){var r,n=e,a=t||{};return a.type||(a.type=yr&&Buffer.isBuffer(e)?"buffer":"base64"),r=P5(n,a),ive(r,a)}function _B(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return O2(e.slice(r),t);default:break e}return d0.to_workbook(e,t)}function hve(e,t){var r="",n=Nk(e,t);switch(t.type){case"base64":r=oi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=mn(r)),t.type="binary",_B(r,t)}function mve(e,t){var r=e;return t.type=="base64"&&(r=oi(r)),r=$p.utils.decode(1200,r.slice(2),"str"),t.type="binary",_B(r,t)}function pve(e){return e.match(/[^\x00-\x7F]/)?Go(e):e}function uS(e,t,r,n){return n?(r.type="string",d0.to_workbook(e,r)):d0.to_workbook(t,r)}function F2(e,t){XT();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return F2(new Uint8Array(e),(r=An(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),$h={},r.dateNF&&($h.dateNF=r.dateNF),r.type||(r.type=yr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=yr?"buffer":"binary",n=coe(e),typeof Uint8Array<"u"&&!yr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=pve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=An(r),r.type="array",F2(YT(n),r)}switch((a=Nk(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return dve($t.read(n,r),r);break;case 9:if(a[1]<=8)return hB(n,r);break;case 60:return O2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return wue(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return j8.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?fve(n,r):uS(e,n,r,s);case 239:return a[3]===60?O2(n,r):uS(e,n,r,s);case 255:if(a[1]===254)return mve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Xd.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Xd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return R2.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return L8.to_workbook(n,r);break;case 10:case 13:case 32:return hve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return xue.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?R2.to_workbook(n,r):uS(e,n,r,s)}function bB(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Bg(t.file,$t.write(e,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $t.write(e,t)}function gve(e,t){var r=An(t||{}),n=lve(e,r);return vve(n,r)}function vve(e,t){var r={},n=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?$t.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(R1(a))}return t.password&&typeof encrypt_agile<"u"?bB(encrypt_agile(a,t.password),t):t.type==="file"?Bg(t.file,a):t.type=="string"?mn(a):a}function yve(e,t){var r=t||{},n=pge(e,r);return bB(n,r)}function Io(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return qp(Go(n));case"binary":return Go(n);case"string":return e;case"file":return Bg(t.file,n,"utf8");case"buffer":return yr?cc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Io(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xve(e,t){switch(t.type){case"base64":return qp(e);case"binary":return e;case"string":return e;case"file":return Bg(t.file,e,"binary");case"buffer":return yr?cc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function qy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?qp(r):t.type=="string"?mn(r):r;case"file":return Bg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function SB(e,t){XT(),dpe(e);var r=An(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=SB(e,r);return r.type="array",R1(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Io(lge(e,r),r);case"slk":case"sylk":return Io(N8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Io(pB(e.Sheets[e.SheetNames[a]],r),r);case"txt":return xve(EB(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Io(jk(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Io(j8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return qy(R2.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Io(d0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Io(L8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Io(R8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Io(xB(e,r),r);case"wk1":return qy(Xd.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return qy(Xd.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),qy(mB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),yve(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return gve(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function wve(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function _ve(e,t,r){var n={};return n.type="file",n.file=t,wve(n),SB(e,n)}function bve(e,t,r,n,a,s,i,l){var u=ea(r),d=l.defval,m=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,v=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!i||e[r])for(var y=t.s.c;y<=t.e.c;++y){var w=i?e[r][y]:e[n[y]+u];if(w===void 0||w.t===void 0){if(d===void 0)continue;s[y]!=null&&(v[s[y]]=d);continue}var x=w.v;switch(w.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(s[y]!=null){if(x==null)if(w.t=="e"&&x===null)v[s[y]]=null;else if(d!==void 0)v[s[y]]=d;else if(m&&x===null)v[s[y]]=null;else continue;else v[s[y]]=m&&(w.t!=="n"||w.t==="n"&&l.rawNumbers!==!1)?x:nc(w,x,l);x!=null&&(p=!1)}}return{row:v,isempty:p}}function Xx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},m=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof m){case"string":u=zr(m);break;case"number":u=zr(e["!ref"]),u.s.r=m;break;default:u=m}n>0&&(a=0);var p=ea(u.s.r),v=[],y=[],w=0,x=0,b=Array.isArray(e),T=u.s.r,M=0,k={};b&&!e[T]&&(e[T]=[]);var j=d.skipHidden&&e["!cols"]||[],R=d.skipHidden&&e["!rows"]||[];for(M=u.s.c;M<=u.e.c;++M)if(!(j[M]||{}).hidden)switch(v[M]=Un(M),r=b?e[T][M]:e[v[M]+p],n){case 1:s[M]=M-u.s.c;break;case 2:s[M]=v[M];break;case 3:s[M]=d.header[M-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=nc(r,null,d),x=k[i]||0,!x)k[i]=1;else{do l=i+"_"+x++;while(k[l]);k[i]=x,k[l]=1}s[M]=l}for(T=u.s.r+a;T<=u.e.r;++T)if(!(R[T]||{}).hidden){var D=bve(e,u,T,v,n,s,b,d);(D.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(y[w++]=D.row)}return y.length=w,y}var NO=/"/g;function Sve(e,t,r,n,a,s,i,l){for(var u=!0,d=[],m="",p=ea(r),v=t.s.c;v<=t.e.c;++v)if(n[v]){var y=l.dense?(e[r]||[])[v]:e[n[v]+p];if(y==null)m="";else if(y.v!=null){u=!1,m=""+(l.rawNumbers&&y.t=="n"?y.v:nc(y,null,l));for(var w=0,x=0;w!==m.length;++w)if((x=m.charCodeAt(w))===a||x===s||x===34||l.forceQuotes){m='"'+m.replace(NO,'""')+'"';break}m=="ID"&&(m='"ID"')}else y.f!=null&&!y.F?(u=!1,m="="+y.f,m.indexOf(",")>=0&&(m='"'+m.replace(NO,'""')+'"')):m="";d.push(m)}return l.blankrows===!1&&u?null:d.join(i)}function jk(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=zr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,u=l.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),m="",p=[];n.dense=Array.isArray(e);for(var v=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(v[w]||{}).hidden||(p[w]=Un(w));for(var x=0,b=a.s.r;b<=a.e.r;++b)(y[b]||{}).hidden||(m=Sve(e,a,b,p,i,u,s,n),m!=null&&(n.strip&&(m=m.replace(d,"")),(m||n.blankrows!==!1)&&r.push((x++?l:"")+m)));return delete n.dense,r.join("")}function EB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=jk(e,t);return r}function Eve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=zr(e["!ref"]),s="",i=[],l,u=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=Un(l);for(var m=a.s.r;m<=a.e.r;++m)for(s=ea(m),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=d?(e[m]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function TB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var u=typeof n.origin=="string"?zn(n.origin):n.origin;i=u.r,l=u.c}var d,m={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var p=zr(s["!ref"]);m.e.c=Math.max(m.e.c,p.e.c),m.e.r=Math.max(m.e.r,p.e.r),i==-1&&(i=p.e.r+1,m.e.r=i+t.length-1+a)}else i==-1&&(i=0,m.e.r=t.length-1+a);var v=n.header||[],y=0;t.forEach(function(x,b){Xn(x).forEach(function(T){(y=v.indexOf(T))==-1&&(v[y=v.length]=T);var M=x[T],k="z",j="",R=Zt({c:l+y,r:i+b+a});d=ng(s,R),M&&typeof M=="object"&&!(M instanceof Date)?s[R]=M:(typeof M=="number"?k="n":typeof M=="boolean"?k="b":typeof M=="string"?k="s":M instanceof Date?(k="d",n.cellDates||(k="n",M=_a(M)),j=n.dateNF||Qt[14]):M===null&&n.nullError&&(k="e",M=0),d?(d.t=k,d.v=M,delete d.w,delete d.R,j&&(d.z=j)):s[R]=d={t:k,v:M},j&&(d.z=j))})}),m.e.c=Math.max(m.e.c,l+v.length-1);var w=ea(i);if(a)for(y=0;y<v.length;++y)s[Un(y+l)+w]={t:"s",v:v[y]};return s["!ref"]=dr(m),s}function Tve(e,t){return TB(null,e,t)}function ng(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=zn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ng(e,Zt(t)):ng(e,Zt({r:t,c:r||0}))}function kve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Rk(){return{SheetNames:[],Sheets:{}}}function Ok(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(lB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Cve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=kve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Ave(e,t){return e.z=t,e}function kB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Mve(e,t,r){return kB(e,"#"+t,r)}function Nve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function jve(e,t,r,n){for(var a=typeof t!="string"?t:zr(t),s=typeof t=="string"?t:dr(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var u=ng(e,i,l);u.t="n",u.F=s,delete u.v,i==a.s.r&&l==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var cx={encode_col:Un,encode_row:ea,encode_cell:Zt,encode_range:dr,decode_col:lk,decode_row:ok,split_cell:zoe,decode_cell:zn,decode_range:zs,format_cell:nc,sheet_add_aoa:Z5,sheet_add_json:TB,sheet_add_dom:gB,aoa_to_sheet:B0,json_to_sheet:Tve,table_to_sheet:vB,table_to_book:Ige,sheet_to_csv:jk,sheet_to_txt:EB,sheet_to_json:Xx,sheet_to_html:pB,sheet_to_formulae:Eve,sheet_to_row_object_array:Xx,sheet_get_cell:ng,book_new:Rk,book_append_sheet:Ok,book_set_sheet_visibility:Cve,cell_set_number_format:Ave,cell_set_hyperlink:kB,cell_set_internal_link:Mve,cell_add_comment:Nve,sheet_set_array_formula:jve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Rve=()=>{const e=["Name","Phone","Group Name","Tags (comma separated)","Notes"],t=[["John Doe","6281234567890","Friends","vip, jakarta","Met at conference"],["Jane Smith","081234567890","Work","colleague","Project manager"]],r=cx.aoa_to_sheet([e,...t]),n=cx.book_new();cx.book_append_sheet(n,r,"Contacts Template");const a=[{wch:20},{wch:15},{wch:15},{wch:30},{wch:30}];r["!cols"]=a,_ve(n,"whatsapp_contacts_template.xlsx")},Ove=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var s;try{const i=(s=a.target)==null?void 0:s.result,l=F2(i,{type:"binary"}),u=l.SheetNames[0],d=l.Sheets[u],v=cx.sheet_to_json(d,{header:1}).slice(1).filter(y=>y.length>0&&(y[0]||y[1])).map(y=>{let w=String(y[1]||"").replace(/[^0-9+]/g,"");return w.startsWith("0")&&(w="62"+w.substring(1)),{name:String(y[0]||"").trim(),phone:w,group_name:String(y[2]||"").trim(),tags:y[3]?String(y[3]).split(",").map(x=>x.trim()):[],notes:String(y[4]||"").trim()}});t(v)}catch(i){r(i)}},n.onerror=a=>r(a),n.readAsBinaryString(e)});function Dve({open:e,onOpenChange:t,onSuccess:r}){const{contactService:n}=oc(),[a,s]=E.useState(null),[i,l]=E.useState(!1),[u,d]=E.useState(!1),[m,p]=E.useState([]),[v,y]=E.useState(null),w=E.useRef(null),x=async M=>{var j;const k=(j=M.target.files)==null?void 0:j[0];if(k){s(k),y(null),l(!0);try{const R=await Ove(k);R.length===0?y("No valid contacts found in the file. Please check the template."):p(R)}catch(R){console.error("Error parsing file:",R),y("Failed to parse file. Please ensure it matches the template format.")}finally{l(!1)}}},b=async()=>{if(m.length!==0){d(!0);try{const M=m.map(j=>({name:j.name,phone:j.phone,group_id:"default",tags:j.tags||[],notes:j.notes||"",is_blocked:!1})),k=await n.createContacts(M);k.success?(gp({title:"Upload Successful",description:`Successfully imported ${k.created} contacts.`}),r(),T()):y(`Failed to upload some contacts. ${k.errors[0]||""}`)}catch(M){console.error("Upload failed:",M),y("An unexpected error occurred during upload.")}finally{d(!1)}}},T=()=>{s(null),p([]),y(null),t(!1)};return f.jsx(N0,{open:e,onOpenChange:T,children:f.jsxs(j0,{className:"sm:max-w-[500px]",children:[f.jsxs(R0,{children:[f.jsx(D0,{children:"Upload Contacts"}),f.jsx(P0,{children:"Upload a CSV or Excel file to import contacts in bulk. Download the template to ensure correct formatting."})]}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(pj,{className:"h-8 w-8 text-green-600"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Template File"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this format for your data"})]})]}),f.jsxs(xt,{variant:"outline",size:"sm",onClick:Rve,children:[f.jsx(Tx,{className:"h-4 w-4 mr-2"}),"Download"]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-6 hover:bg-muted/50 transition-colors",children:a?f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(pj,{className:"h-5 w-5 text-green-600"}),f.jsx("span",{className:"text-sm font-medium truncate max-w-[200px]",children:a.name})]}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>{s(null),p([]),y(null)},children:"Change"})]}),i?f.jsxs("div",{className:"flex items-center justify-center py-4 text-muted-foreground",children:[f.jsx(Is,{className:"h-4 w-4 animate-spin mr-2"}),"Parsing file..."]}):v?f.jsxs("div",{className:"flex items-start gap-2 text-red-600 bg-red-50 p-3 rounded text-sm",children:[f.jsx(zd,{className:"h-4 w-4 mt-0.5 shrink-0"}),f.jsx("p",{children:v})]}):f.jsxs("div",{className:"bg-green-50 text-green-700 p-3 rounded text-sm flex items-center gap-2",children:[f.jsx(PF,{className:"h-4 w-4"}),f.jsxs("p",{children:["Ready to import ",f.jsx("strong",{children:m.length})," contacts"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(dT,{className:"h-10 w-10 text-muted-foreground mb-2"}),f.jsx("p",{className:"text-sm font-medium mb-1",children:"Click to upload or drag and drop"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"XLS, XLSX, or CSV files"}),f.jsx("input",{ref:w,type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"hidden",onChange:x}),f.jsx(xt,{variant:"secondary",className:"mt-4",onClick:()=>{var M;return(M=w.current)==null?void 0:M.click()},children:"Select File"})]})})]}),f.jsxs(O0,{children:[f.jsx(F0,{disabled:u,children:"Cancel"}),f.jsx(nf,{onClick:b,disabled:!a||i||!!v||u||m.length===0,className:"bg-green-600 hover:bg-green-700",children:u?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"h-4 w-4 animate-spin mr-2"}),"Importing..."]}):"Import Contacts"})]})]})})}function Pve({filteredContacts:e,searchQuery:t,setSearchQuery:r,selectedContactIds:n,handleSelectContact:a,handleSelectAll:s,handleAddContact:i,handleEditContact:l,handleDeleteContact:u,handleBulkDelete:d,showBulkDeleteDialog:m,confirmBulkDelete:p,cancelBulkDelete:v,isBulkDeleting:y,getGroupById:w,stats:x,isLoading:b,onUploadClick:T}){const M=xo(),k=Hs();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>M("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:k.formatMessage({id:"contacts.title",defaultMessage:"Contacts"})}),f.jsx("p",{className:"text-gray-600",children:k.formatMessage({id:"contacts.subtitle",defaultMessage:"Manage your WhatsApp contacts organized by groups"})})]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(Qo,{animation:"scale",variant:"outline",onClick:()=>M("/groups"),children:[f.jsx(uT,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.button.manage_groups",defaultMessage:"Manage Groups"})]}),f.jsxs(Qo,{animation:"scale",onClick:T,children:[f.jsx(dT,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.button.upload",defaultMessage:"Upload Contacts"})]}),f.jsxs(Qo,{animation:"scale",onClick:i,children:[f.jsx($F,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.button.add",defaultMessage:"Add Contact"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:k.formatMessage({id:"contacts.stats.total",defaultMessage:"Total Contacts"})}),f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[b?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:x.total}),f.jsx("p",{className:"text-xs text-muted-foreground",children:k.formatMessage({id:"contacts.stats.total.desc",defaultMessage:"All contacts"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:k.formatMessage({id:"contacts.stats.groups",defaultMessage:"Groups"})}),f.jsx(LF,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[b?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:x.groups.length}),f.jsx("p",{className:"text-xs text-muted-foreground",children:k.formatMessage({id:"contacts.stats.groups.desc",defaultMessage:"Contact groups"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:k.formatMessage({id:"contacts.stats.avg_size",defaultMessage:"Avg Group Size"})}),f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[b?f.jsx(Aa,{className:"h-8 w-20"}):f.jsx("div",{className:"text-2xl font-bold",children:x.averageGroupSize}),f.jsx("p",{className:"text-xs text-muted-foreground",children:k.formatMessage({id:"contacts.stats.avg_size.desc",defaultMessage:"Contacts per group"})})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.4,children:[f.jsxs(It,{children:[f.jsx(Lt,{children:k.formatMessage({id:"contacts.search.title",defaultMessage:"Search Contacts"})}),f.jsx(ln,{children:k.formatMessage({id:"contacts.search.desc",defaultMessage:"Search contacts by name, phone, or tags. Group filtering handled via database logic."})})]}),f.jsx(Rt,{children:f.jsx("div",{className:"flex flex-col gap-4",children:f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Eg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Cr,{placeholder:k.formatMessage({id:"contacts.search.placeholder",defaultMessage:"Search contacts by name, phone, or tags..."}),value:t,onChange:j=>r(j.target.value),className:"pl-10"})]})})})})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.5,className:"mt-6",children:[f.jsx(It,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs(Lt,{children:[k.formatMessage({id:"contacts.list.title",defaultMessage:"Contacts List"})," (",e.length,")"]}),f.jsx(ln,{children:t?k.formatMessage({id:"contacts.list.desc.search",defaultMessage:'All contacts matching "{query}"'},{query:t}):k.formatMessage({id:"contacts.list.desc.all",defaultMessage:"All contacts across all groups"})})]}),n.size>0&&f.jsxs(xt,{variant:"destructive",size:"sm",onClick:d,disabled:y,children:[f.jsx(o0,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.button.delete_selected",defaultMessage:"Delete ({count})"},{count:n.size})]})]})}),f.jsx(Rt,{children:e.length===0&&!b?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?k.formatMessage({id:"contacts.empty.search",defaultMessage:"No contacts found matching your search."}):k.formatMessage({id:"contacts.empty.all",defaultMessage:"No contacts found. Add some contacts to get started."})}):f.jsxs(zp,{children:[f.jsx(Vp,{children:f.jsxs(Di,{children:[f.jsx(an,{className:"w-12",children:f.jsx(E2,{checked:n.size===e.length&&e.length>0,onCheckedChange:s,"aria-label":k.formatMessage({id:"contacts.list.aria.select_all",defaultMessage:"Select all contacts"}),disabled:b})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.name",defaultMessage:"Name"})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.phone",defaultMessage:"Phone"})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.group",defaultMessage:"Group"})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.tags",defaultMessage:"Tags"})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.created",defaultMessage:"Created"})}),f.jsx(an,{children:k.formatMessage({id:"contacts.list.header.actions",defaultMessage:"Actions"})})]})}),f.jsx(Hp,{children:b?Array.from({length:5}).map((j,R)=>f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsx(Aa,{className:"h-4 w-4"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-4 w-32"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-4 w-24"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-6 w-20 rounded-full"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-6 w-16 rounded-full"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-4 w-20"})}),f.jsx(kr,{children:f.jsx(Aa,{className:"h-8 w-8 rounded-md"})})]},R)):e.length===0?f.jsx(Di,{children:f.jsx(kr,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:t?k.formatMessage({id:"contacts.empty.search",defaultMessage:"No contacts found matching your search."}):k.formatMessage({id:"contacts.empty.all",defaultMessage:"No contacts found. Add some contacts to get started."})})}):e.map(j=>{const R=w(j.group_id),D=n.has(j.id);return f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsx(E2,{checked:D,onCheckedChange:O=>a(j.id,O),"aria-label":`Select ${j.name}`})}),f.jsx(kr,{className:"font-medium",children:j.name}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(cT,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{children:j.phone})]})}),f.jsx(kr,{children:R?f.jsxs(Br,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:R.color}}),R.name]}):f.jsx(Br,{variant:"secondary",children:k.formatMessage({id:"contacts.badge.unknown_group",defaultMessage:"Unknown Group"})})}),f.jsx(kr,{children:f.jsx("div",{className:"flex flex-wrap gap-1",children:j.tags&&j.tags.length>0?j.tags.map(O=>f.jsxs(Br,{variant:"outline",className:"text-xs",children:[f.jsx(XQ,{className:"h-3 w-3 mr-1"}),O]},O)):f.jsx("span",{className:"text-muted-foreground text-sm",children:k.formatMessage({id:"contacts.badge.no_tags",defaultMessage:"No tags"})})})}),f.jsx(kr,{children:f.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(j.created_at).toLocaleDateString()})}),f.jsx(kr,{children:f.jsxs(OT,{children:[f.jsx(DT,{asChild:!0,children:f.jsx(xt,{variant:"ghost",size:"sm",children:f.jsx(aQ,{className:"h-4 w-4"})})}),f.jsxs(PT,{align:"end",children:[f.jsxs(Vd,{onClick:()=>l(j.id),children:[f.jsx(Tg,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.action.edit",defaultMessage:"Edit"})]}),f.jsxs(Vd,{onClick:()=>u(j.id),className:"text-red-600",children:[f.jsx(o0,{className:"h-4 w-4 mr-2"}),k.formatMessage({id:"contacts.action.delete",defaultMessage:"Delete"})]})]})]})})]},j.id)})})]})})]})]}),f.jsx(N0,{open:m,onOpenChange:v,children:f.jsxs(j0,{children:[f.jsxs(R0,{children:[f.jsx(D0,{children:k.formatMessage({id:"contacts.dialog.bulk_delete.title",defaultMessage:"Confirm Bulk Delete"})}),f.jsxs(P0,{children:[k.formatMessage({id:"contacts.dialog.bulk_delete.desc",defaultMessage:"Are you sure you want to delete {count} contact{s}?"},{count:n.size,s:n.size>1?"s":""})," ",k.formatMessage({id:"contacts.dialog.delete.desc",defaultMessage:"This action cannot be undone."})]})]}),f.jsxs(O0,{children:[f.jsx(F0,{onClick:v,disabled:y,children:k.formatMessage({id:"common.button.cancel",defaultMessage:"Cancel"})}),f.jsx(nf,{onClick:p,className:"bg-red-600 hover:bg-red-700",disabled:y,children:y?k.formatMessage({id:"contacts.button.deleting",defaultMessage:"Deleting..."}):k.formatMessage({id:"contacts.button.delete_all",defaultMessage:"Delete All"})})]})]})})]})})}function Fve(){const{contactService:e,groupService:t,isInitialized:r}=oc(),n=Hs(),[a,s]=E.useState([]),[i,l]=E.useState([]),[u,d]=E.useState([]),[m,p]=E.useState(""),[v,y]=E.useState(!0),[w,x]=E.useState(null),[b,T]=E.useState(null),[M,k]=E.useState(!1),[j,R]=E.useState(null),[D,O]=E.useState(!1),[B,V]=E.useState("add"),[ne,ie]=E.useState(null),[Q,ve]=E.useState(!1),[G,fe]=E.useState(new Set),[K,re]=E.useState(!1),[le,J]=E.useState(!1),Me=()=>{V("add"),ie(null),O(!0)},H=async it=>{try{const We=await e.getContactById(it);We&&(V("edit"),ie(We),O(!0))}catch(We){console.error("Error fetching contact for edit:",We),R({message:n.formatMessage({id:"contacts.notification.load_error",defaultMessage:"Error loading contact for editing"}),type:"error"})}},L=async it=>{it&&(await X(),R(null))},Y=()=>{O(!1),ie(null)},Z=async it=>{T(it),k(!0)},W=async()=>{if(b)try{const it=await e.getContactById(b);it&&(await e.deleteContact(b)?(await X(),R({message:n.formatMessage({id:"contacts.notification.delete_success",defaultMessage:"{name} has been deleted successfully."},{name:it.name}),type:"success"})):R({message:n.formatMessage({id:"contacts.notification.delete_failed",defaultMessage:"Failed to delete contact. Please try again."}),type:"error"}))}catch(it){console.error("Error deleting contact:",it),R({message:n.formatMessage({id:"contacts.notification.delete_error",defaultMessage:"An error occurred while deleting the contact."}),type:"error"})}finally{k(!1),T(null)}},ue=()=>{k(!1),T(null)},he=(it,We)=>{fe(ar=>{const fr=new Set(ar);return We?fr.add(it):fr.delete(it),fr})},Re=it=>{fe(it?new Set(i.map(We=>We.id)):new Set)},ye=()=>{G.size!==0&&re(!0)},Ue=async()=>{if(G.size!==0)try{J(!0);const it=Array.from(G),We=await e.deleteMultipleContacts(it);We.success?(await X(),fe(new Set),gp({title:n.formatMessage({id:"common.status.success",defaultMessage:"Success"}),description:n.formatMessage({id:"contacts.notification.bulk_delete_success",defaultMessage:"{count} contact{s} deleted successfully."},{count:We.deletedCount,s:We.deletedCount>1?"s":""})})):gp({title:n.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:n.formatMessage({id:"contacts.notification.bulk_delete_failed",defaultMessage:"Failed to delete contacts. Please try again."}),variant:"destructive"})}catch(it){console.error("Error deleting contacts:",it),gp({title:n.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:n.formatMessage({id:"contacts.notification.bulk_delete_error",defaultMessage:"An error occurred while deleting contacts."}),variant:"destructive"})}finally{J(!1),re(!1)}},st=()=>{re(!1)},X=async()=>{try{y(!0),x(null);const[it,We]=await Promise.all([e.getContacts(),t.getGroups()]);s(it),d(We)}catch(it){console.error("Failed to load contacts data:",it);const We=Ul(it,"loadContacts");x(We.message)}finally{y(!1)}};E.useEffect(()=>{r&&X()},[r,e,t]),E.useEffect(()=>{let it=[...a];m&&(it=it.filter(We=>We.name.toLowerCase().includes(m.toLowerCase())||We.phone.includes(m)||We.tags&&We.tags.some(ar=>ar.toLowerCase().includes(m.toLowerCase())))),l(it)},[a,m]);const zt=it=>u.find(We=>We.id===it),qt=(()=>{const it=a.length,We=u.map(ar=>({...ar,contact_count:a.filter(fr=>fr.group_id===ar.id).length}));return{total:it,groups:We,largestGroup:We.reduce((ar,fr)=>(fr.contact_count||0)>(ar.contact_count||0)?fr:ar,We[0]),averageGroupSize:We.length>0?Math.round(We.reduce((ar,fr)=>ar+(fr.contact_count||0),0)/We.length):0}})();return w?f.jsx(M0,{error:w,onRetry:X}):f.jsxs(f.Fragment,{children:[f.jsx(Pve,{contacts:a,filteredContacts:i,groups:u,searchQuery:m,setSearchQuery:p,selectedContactIds:G,handleSelectContact:he,handleSelectAll:Re,handleAddContact:Me,handleEditContact:H,handleDeleteContact:Z,handleBulkDelete:ye,showBulkDeleteDialog:K,confirmBulkDelete:Ue,cancelBulkDelete:st,isBulkDeleting:le,getGroupById:zt,stats:qt,isLoading:v,onUploadClick:()=>ve(!0)}),f.jsx(Nie,{isOpen:D,onClose:Y,onSave:L,mode:B,contact:ne||void 0,groups:u,contactService:e,onNotification:R}),f.jsx(N0,{open:M,onOpenChange:k,children:f.jsxs(j0,{children:[f.jsxs(R0,{children:[f.jsx(D0,{children:n.formatMessage({id:"contacts.dialog.delete.title",defaultMessage:"Confirm Delete"})}),f.jsx(P0,{children:n.formatMessage({id:"contacts.dialog.delete.desc",defaultMessage:"Are you sure you want to delete this contact? This action cannot be undone."})})]}),f.jsxs(O0,{children:[f.jsx(F0,{onClick:ue,children:n.formatMessage({id:"common.button.cancel",defaultMessage:"Cancel"})}),f.jsx(nf,{onClick:W,className:"bg-red-600 hover:bg-red-700",children:n.formatMessage({id:"contacts.action.delete",defaultMessage:"Delete"})})]})]})}),f.jsx(Dve,{open:Q,onOpenChange:ve,onSuccess:()=>{X(),R({message:n.formatMessage({id:"contacts.notification.upload_success",defaultMessage:"Contacts uploaded successfully"}),type:"success"})}}),j&&f.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:f.jsx("div",{className:`rounded-lg p-4 shadow-lg ${j.type==="success"?"bg-green-100 border border-green-200 text-green-800":"bg-red-100 border border-red-200 text-red-800"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"text-sm font-medium",children:j.message}),f.jsx("button",{onClick:()=>R(null),className:"ml-4 text-sm opacity-70 hover:opacity-100",children:""})]})})})]})}function Yx({className:e,...t}){return f.jsx("textarea",{"data-slot":"textarea",className:jt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function Ive(){const e=xo(),t=Hs(),{templateService:r,isInitialized:n}=oc(),[a,s]=E.useState([]),[i,l]=E.useState(!0),[u,d]=E.useState(null),[m,p]=E.useState([]),[v,y]=E.useState(""),[w,x]=E.useState(!1),[b,T]=E.useState(!1),[M,k]=E.useState(null),[j,R]=E.useState({name:"",variants:["","",""]}),[D,O]=E.useState({isOpen:!1,title:"",description:"",type:"error"}),B=async()=>{try{l(!0),d(null);const G=await r.getTemplates();s(G)}catch(G){console.error("Failed to load templates:",G);const fe=Ul(G,"loadTemplates");d(fe.message)}finally{l(!1)}};E.useEffect(()=>{n&&B()},[n,r]);const V=E.useCallback(()=>{if(!v)p(a);else{const G=a.filter(fe=>fe.name.toLowerCase().includes(v.toLowerCase())||fe.variants.some(K=>K.toLowerCase().includes(v.toLowerCase())));p(G)}},[a,v]);E.useEffect(()=>{V()},[a,v,V]);const ne=async()=>{try{const G=j.variants.filter(re=>re.trim()!=="");if(G.length<3){O({isOpen:!0,title:t.formatMessage({id:"templates.dialog.validation.title",defaultMessage:"Validation Error"}),description:t.formatMessage({id:"templates.dialog.validation.desc",defaultMessage:"Template must have at least 3 non-empty variants"}),type:"error"});return}const fe=r.extractVariablesFromVariants(G),K=await r.createTemplate({name:j.name,variants:G,variables:fe,master_user_id:"",created_by:"",category:"general"});s([...a,K]),R({name:"",variants:["","",""]}),x(!1)}catch(G){console.error("Failed to create template:",G);const fe=Ul(G,"createTemplate");O({isOpen:!0,title:t.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:fe.message,type:"error"})}},ie=async()=>{if(M)try{const G=j.variants.filter(re=>re.trim()!=="");if(G.length<3){O({isOpen:!0,title:t.formatMessage({id:"templates.dialog.validation.title",defaultMessage:"Validation Error"}),description:t.formatMessage({id:"templates.dialog.validation.desc",defaultMessage:"Template must have at least 3 non-empty variants"}),type:"error"});return}const fe=r.extractVariablesFromVariants(G),K=await r.updateTemplate(M.id,{name:j.name,variants:G,variables:fe,category:M.category||"general"});s(a.map(re=>re.id===M.id?K:re)),R({name:"",variants:["","",""]}),k(null),T(!1)}catch(G){console.error("Failed to update template:",G);const fe=Ul(G,"updateTemplate");O({isOpen:!0,title:t.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:fe.message,type:"error"})}},Q=G=>{O({isOpen:!0,title:t.formatMessage({id:"templates.dialog.delete.title",defaultMessage:"Delete Template"}),description:t.formatMessage({id:"templates.dialog.delete.desc",defaultMessage:"Are you sure you want to delete this template? This action cannot be undone."}),type:"confirm",onConfirm:async()=>{try{await r.deleteTemplate(G),s(a.filter(fe=>fe.id!==G))}catch(fe){console.error("Failed to delete template:",fe);const K=Ul(fe,"deleteTemplate");O({isOpen:!0,title:t.formatMessage({id:"common.status.error",defaultMessage:"Error"}),description:K.message,type:"error"})}}})},ve=G=>{k(G);const fe=[...G.variants];for(;fe.length<3;)fe.push("");R({name:G.name,variants:fe}),T(!0)};return u?f.jsx(M0,{error:u,onRetry:B}):f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>e("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),t.formatMessage({id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.formatMessage({id:"templates.title",defaultMessage:"Templates"})}),f.jsx("p",{className:"text-gray-600",children:t.formatMessage({id:"templates.subtitle",defaultMessage:"Create and manage message templates"})})]})]}),f.jsxs(co,{open:w,onOpenChange:x,children:[f.jsx(GL,{asChild:!0,children:f.jsxs(Qo,{animation:"scale",children:[f.jsx(zF,{className:"h-4 w-4 mr-2"}),t.formatMessage({id:"templates.button.create",defaultMessage:"New Template"})]})}),f.jsxs(uo,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[f.jsxs(fo,{className:"flex-shrink-0",children:[f.jsx(ho,{children:t.formatMessage({id:"templates.modal.title.create",defaultMessage:"Create New Template"})}),f.jsx(hu,{children:t.formatMessage({id:"templates.modal.desc.create",defaultMessage:"Create a reusable message template with variables"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:"template-name",children:t.formatMessage({id:"templates.form.name.label",defaultMessage:"Template Name"})}),f.jsx(Cr,{id:"template-name",placeholder:t.formatMessage({id:"templates.form.name.placeholder",defaultMessage:"Enter template name"}),value:j.name,onChange:G=>R({...j,name:G.target.value})})]}),j.variants.map((G,fe)=>f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:`template-variant-${fe}`,children:t.formatMessage({id:"templates.form.variant.label",defaultMessage:"Variant {number}"},{number:fe+1})}),f.jsx(Yx,{id:`template-variant-${fe}`,placeholder:t.formatMessage({id:"templates.form.variant.placeholder",defaultMessage:"Enter variant {number} message content. Use {variable} for dynamic content."},{number:fe+1,variable:"{variable_name}"}),value:G,onChange:K=>{const re=[...j.variants];re[fe]=K.target.value,R({...j,variants:re})},rows:4,className:"max-w-full resize-y overflow-y-auto break-words",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",maxWidth:"100%",minHeight:"100px",maxHeight:"200px",overflowY:"auto"}})]},fe)),f.jsx("div",{children:f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.formatMessage({id:"templates.form.helper.variables",defaultMessage:"Use {variable} for dynamic content (e.g., {name}, {amount}, {date}). Each variant provides a different message version for randomization."},{variable:"{variable_name}",name:"{name}",amount:"{amount}",date:"{date}"})})})]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t flex-shrink-0",children:[f.jsx(xt,{variant:"outline",onClick:()=>x(!1),children:t.formatMessage({id:"common.button.cancel",defaultMessage:"Cancel"})}),f.jsx(Qo,{animation:"scale",onClick:ne,disabled:!j.name||j.variants.filter(G=>G.trim()!=="").length<3,children:t.formatMessage({id:"templates.button.create_action",defaultMessage:"Create Template"})})]})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.2,className:"mb-6",children:[f.jsx(It,{children:f.jsx(Lt,{children:t.formatMessage({id:"templates.search.title",defaultMessage:"Search Templates"})})}),f.jsx(Rt,{children:f.jsxs("div",{className:"relative",children:[f.jsx(Eg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Cr,{placeholder:t.formatMessage({id:"templates.search.placeholder",defaultMessage:"Search templates by name or content..."}),value:v,onChange:G=>y(G.target.value),className:"pl-10"})]})})]}),i?f.jsx("div",{className:"text-center py-8",children:t.formatMessage({id:"common.status.loading",defaultMessage:"Loading..."})}):m.length===0?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v?t.formatMessage({id:"templates.empty.search",defaultMessage:"No templates found matching your search."}):t.formatMessage({id:"templates.empty.all",defaultMessage:"No templates created yet."})}):f.jsx(C0,{staggerDelay:.1,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(G=>f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsx(It,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[f.jsx(Hl,{className:"h-5 w-5 text-primary flex-shrink-0"}),f.jsx(Lt,{className:"text-lg truncate",children:G.name})]}),f.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>ve(G),children:f.jsx(Tg,{className:"h-4 w-4"})}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>Q(G.id),className:"text-red-600",children:f.jsx(o0,{className:"h-4 w-4"})})]})]})}),f.jsx(Rt,{className:"pt-0"})]},G.id))}),f.jsx(co,{open:b,onOpenChange:T,children:f.jsxs(uo,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[f.jsxs(fo,{className:"flex-shrink-0",children:[f.jsx(ho,{children:t.formatMessage({id:"templates.modal.title.edit",defaultMessage:"Edit Template"})}),f.jsx(hu,{children:t.formatMessage({id:"templates.modal.desc.edit",defaultMessage:"Update your message template"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:"edit-template-name",children:t.formatMessage({id:"templates.form.name.label",defaultMessage:"Template Name"})}),f.jsx(Cr,{id:"edit-template-name",placeholder:t.formatMessage({id:"templates.form.name.placeholder",defaultMessage:"Enter template name"}),value:j.name,onChange:G=>R({...j,name:G.target.value})})]}),j.variants.map((G,fe)=>f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:`edit-template-variant-${fe}`,children:t.formatMessage({id:"templates.form.variant.label",defaultMessage:"Variant {number}"},{number:fe+1})}),f.jsx(Yx,{id:`edit-template-variant-${fe}`,placeholder:t.formatMessage({id:"templates.form.variant.placeholder",defaultMessage:"Enter variant {number} message content. Use {variable} for dynamic content."},{number:fe+1,variable:"{variable_name}"}),value:G,onChange:K=>{const re=[...j.variants];re[fe]=K.target.value,R({...j,variants:re})},rows:4,className:"max-w-full resize-y overflow-y-auto break-words",style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",maxWidth:"100%",minHeight:"100px",maxHeight:"200px",overflowY:"auto"}})]},fe)),f.jsx("div",{children:f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.formatMessage({id:"templates.form.helper.variables",defaultMessage:"Use {variable} for dynamic content (e.g., {name}, {amount}, {date}). Each variant provides a different message version for randomization."},{variable:"{variable_name}",name:"{name}",amount:"{amount}",date:"{date}"})})})]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t flex-shrink-0",children:[f.jsx(xt,{variant:"outline",onClick:()=>T(!1),children:t.formatMessage({id:"common.button.cancel",defaultMessage:"Cancel"})}),f.jsx(Qo,{animation:"scale",onClick:ie,disabled:!j.name||j.variants.filter(G=>G.trim()!=="").length<3,children:t.formatMessage({id:"templates.button.update",defaultMessage:"Update Template"})})]})]})}),f.jsx(N0,{open:D.isOpen,onOpenChange:G=>O({...D,isOpen:G}),children:f.jsxs(j0,{children:[f.jsxs(R0,{children:[f.jsx(D0,{children:D.title}),f.jsx(P0,{children:D.description})]}),f.jsx(O0,{children:D.type==="confirm"?f.jsxs(f.Fragment,{children:[f.jsx(F0,{children:t.formatMessage({id:"common.button.cancel",defaultMessage:"Cancel"})}),f.jsx(nf,{onClick:()=>{var G;(G=D.onConfirm)==null||G.call(D),O({...D,isOpen:!1})},className:"bg-red-600 hover:bg-red-700",children:t.formatMessage({id:"common.button.delete",defaultMessage:"Delete"})})]}):f.jsx(nf,{onClick:()=>O({...D,isOpen:!1}),children:t.formatMessage({id:"common.button.ok",defaultMessage:"OK"})})})]})})]})})})}var Lve=qT();const gn=Tu(Lve),Bve=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function h0(e,t,r){const n=Uve(e),{webkitRelativePath:a}=e,s=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof n.path!="string"&&jO(n,"path",s),jO(n,"relativePath",s),n}function Uve(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),a=Bve.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function jO(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const zve=[".DS_Store","Thumbs.db"];function Vve(e){return Tt(this,void 0,void 0,function*(){return Qx(e)&&Hve(e.dataTransfer)?Wve(e.dataTransfer,e.type):$ve(e)?qve(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Gve(e):[]})}function Hve(e){return Qx(e)}function $ve(e){return Qx(e)&&Qx(e.target)}function Qx(e){return typeof e=="object"&&e!==null}function qve(e){return I2(e.target.files).map(t=>h0(t))}function Gve(e){return Tt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>h0(r))})}function Wve(e,t){return Tt(this,void 0,void 0,function*(){if(e.items){const r=I2(e.items).filter(a=>a.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(Kve));return RO(CB(n))}return RO(I2(e.files).map(r=>h0(r)))})}function RO(e){return e.filter(t=>zve.indexOf(t.name)===-1)}function I2(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function Kve(e){if(typeof e.webkitGetAsEntry!="function")return OO(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?AB(t):OO(e,t)}function CB(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?CB(r):[r]],[])}function OO(e,t){return Tt(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const i=yield s.getFile();return i.handle=s,h0(i)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return h0(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function Xve(e){return Tt(this,void 0,void 0,function*(){return e.isDirectory?AB(e):Yve(e)})}function AB(e){const t=e.createReader();return new Promise((r,n)=>{const a=[];function s(){t.readEntries(i=>Tt(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(Xve));a.push(l),s()}else try{const l=yield Promise.all(a);r(l)}catch(l){n(l)}}),i=>{n(i)})}s()})}function Yve(e){return Tt(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const a=h0(n,e.fullPath);t(a)},n=>{r(n)})})})}var Gy={},DO;function Qve(){return DO||(DO=1,Gy.__esModule=!0,Gy.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return r.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0}),Gy}var Jve=Qve();const dS=Tu(Jve);function PO(e){return tye(e)||eye(e)||NB(e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tye(e){if(Array.isArray(e))return L2(e)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){MB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ag(e,t){return aye(e)||nye(e,t)||NB(e,t)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NB(e,t){if(e){if(typeof e=="string")return L2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(e,t)}}function L2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,l;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}}return n}}function aye(e){if(Array.isArray(e))return e}var sye=typeof dS=="function"?dS:dS.default,iye="file-invalid-type",oye="file-too-large",lye="file-too-small",cye="too-many-files",uye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:iye,message:"File type must be ".concat(n)}},LO=function(t){return{code:oye,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},BO=function(t){return{code:lye,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},dye={code:cye,message:"Too many files"};function jB(e,t){var r=e.type==="application/x-moz-file"||sye(e,t);return[r,r?null:uye(t)]}function RB(e,t,r){if(_d(e.size))if(_d(t)&&_d(r)){if(e.size>r)return[!1,LO(r)];if(e.size<t)return[!1,BO(t)]}else{if(_d(t)&&e.size<t)return[!1,BO(t)];if(_d(r)&&e.size>r)return[!1,LO(r)]}return[!0,null]}function _d(e){return e!=null}function fye(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&i>=1&&t.length>i?!1:t.every(function(u){var d=jB(u,r),m=ag(d,1),p=m[0],v=RB(u,n,a),y=ag(v,1),w=y[0],x=l?l(u):null;return p&&w&&!x})}function Jx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Wy(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function UO(e){e.preventDefault()}function hye(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function mye(e){return e.indexOf("Edge/")!==-1}function pye(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hye(e)||mye(e)}function Do(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return t.some(function(l){return!Jx(n)&&l&&l.apply(void 0,[n].concat(s)),Jx(n)})}}function gye(){return"showOpenFilePicker"in window}function vye(e){if(_d(e)){var t=Object.entries(e).filter(function(r){var n=ag(r,2),a=n[0],s=n[1],i=!0;return OB(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(DB))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(r,n){var a=ag(n,2),s=a[0],i=a[1];return IO(IO({},r),{},MB({},s,i))},{});return[{description:"Files",accept:t}]}return e}function yye(e){if(_d(e))return Object.entries(e).reduce(function(t,r){var n=ag(r,2),a=n[0],s=n[1];return[].concat(PO(t),[a],PO(s))},[]).filter(function(t){return OB(t)||DB(t)}).join(",")}function xye(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wye(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function OB(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function DB(e){return/^.*\.[\w]+$/.test(e)}var _ye=["children"],bye=["open"],Sye=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Eye=["refKey","onChange","onClick"];function Tye(e){return Aye(e)||Cye(e)||PB(e)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aye(e){if(Array.isArray(e))return B2(e)}function fS(e,t){return jye(e)||Nye(e,t)||PB(e,t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(e,t){if(e){if(typeof e=="string")return B2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(e,t)}}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,l;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}}return n}}function jye(e){if(Array.isArray(e))return e}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){U2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zx(e,t){if(e==null)return{};var r=Rye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Dk=E.forwardRef(function(e,t){var r=e.children,n=Zx(e,_ye),a=IB(n),s=a.open,i=Zx(a,bye);return E.useImperativeHandle(t,function(){return{open:s}},[s]),za.createElement(E.Fragment,null,r(Fn(Fn({},i),{},{open:s})))});Dk.displayName="Dropzone";var FB={disabled:!1,getFilesFromEvent:Vve,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dk.defaultProps=FB;Dk.propTypes={children:gn.func,accept:gn.objectOf(gn.arrayOf(gn.string)),multiple:gn.bool,preventDropOnDocument:gn.bool,noClick:gn.bool,noKeyboard:gn.bool,noDrag:gn.bool,noDragEventsBubbling:gn.bool,minSize:gn.number,maxSize:gn.number,maxFiles:gn.number,disabled:gn.bool,getFilesFromEvent:gn.func,onFileDialogCancel:gn.func,onFileDialogOpen:gn.func,useFsAccessApi:gn.bool,autoFocus:gn.bool,onDragEnter:gn.func,onDragLeave:gn.func,onDragOver:gn.func,onDrop:gn.func,onDropAccepted:gn.func,onDropRejected:gn.func,onError:gn.func,validator:gn.func};var z2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function IB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Fn(Fn({},FB),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,l=t.multiple,u=t.maxFiles,d=t.onDragEnter,m=t.onDragLeave,p=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,w=t.onDropRejected,x=t.onFileDialogCancel,b=t.onFileDialogOpen,T=t.useFsAccessApi,M=t.autoFocus,k=t.preventDropOnDocument,j=t.noClick,R=t.noKeyboard,D=t.noDrag,O=t.noDragEventsBubbling,B=t.onError,V=t.validator,ne=E.useMemo(function(){return yye(r)},[r]),ie=E.useMemo(function(){return vye(r)},[r]),Q=E.useMemo(function(){return typeof b=="function"?b:VO},[b]),ve=E.useMemo(function(){return typeof x=="function"?x:VO},[x]),G=E.useRef(null),fe=E.useRef(null),K=E.useReducer(Oye,z2),re=fS(K,2),le=re[0],J=re[1],Me=le.isFocused,H=le.isFileDialogActive,L=E.useRef(typeof window<"u"&&window.isSecureContext&&T&&gye()),Y=function(){!L.current&&H&&setTimeout(function(){if(fe.current){var wt=fe.current.files;wt.length||(J({type:"closeDialog"}),ve())}},300)};E.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[fe,H,ve,L]);var Z=E.useRef([]),W=function(wt){G.current&&G.current.contains(wt.target)||(wt.preventDefault(),Z.current=[])};E.useEffect(function(){return k&&(document.addEventListener("dragover",UO,!1),document.addEventListener("drop",W,!1)),function(){k&&(document.removeEventListener("dragover",UO),document.removeEventListener("drop",W))}},[G,k]),E.useEffect(function(){return!n&&M&&G.current&&G.current.focus(),function(){}},[G,M,n]);var ue=E.useCallback(function(Xe){B?B(Xe):console.error(Xe)},[B]),he=E.useCallback(function(Xe){Xe.preventDefault(),Xe.persist(),Ft(Xe),Z.current=[].concat(Tye(Z.current),[Xe.target]),Wy(Xe)&&Promise.resolve(a(Xe)).then(function(wt){if(!(Jx(Xe)&&!O)){var lr=wt.length,_r=lr>0&&fye({files:wt,accept:ne,minSize:i,maxSize:s,multiple:l,maxFiles:u,validator:V}),pr=lr>0&&!_r;J({isDragAccept:_r,isDragReject:pr,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Xe)}}).catch(function(wt){return ue(wt)})},[a,d,ue,O,ne,i,s,l,u,V]),Re=E.useCallback(function(Xe){Xe.preventDefault(),Xe.persist(),Ft(Xe);var wt=Wy(Xe);if(wt&&Xe.dataTransfer)try{Xe.dataTransfer.dropEffect="copy"}catch{}return wt&&p&&p(Xe),!1},[p,O]),ye=E.useCallback(function(Xe){Xe.preventDefault(),Xe.persist(),Ft(Xe);var wt=Z.current.filter(function(_r){return G.current&&G.current.contains(_r)}),lr=wt.indexOf(Xe.target);lr!==-1&&wt.splice(lr,1),Z.current=wt,!(wt.length>0)&&(J({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Wy(Xe)&&m&&m(Xe))},[G,m,O]),Ue=E.useCallback(function(Xe,wt){var lr=[],_r=[];Xe.forEach(function(pr){var Mn=jB(pr,ne),Gt=fS(Mn,2),Vr=Gt[0],yn=Gt[1],Fr=RB(pr,i,s),Yr=fS(Fr,2),Nn=Yr[0],vt=Yr[1],$s=V?V(pr):null;if(Vr&&Nn&&!$s)lr.push(pr);else{var Ga=[yn,vt];$s&&(Ga=Ga.concat($s)),_r.push({file:pr,errors:Ga.filter(function(Hi){return Hi})})}}),(!l&&lr.length>1||l&&u>=1&&lr.length>u)&&(lr.forEach(function(pr){_r.push({file:pr,errors:[dye]})}),lr.splice(0)),J({acceptedFiles:lr,fileRejections:_r,isDragReject:_r.length>0,type:"setFiles"}),v&&v(lr,_r,wt),_r.length>0&&w&&w(_r,wt),lr.length>0&&y&&y(lr,wt)},[J,l,ne,i,s,u,v,y,w,V]),st=E.useCallback(function(Xe){Xe.preventDefault(),Xe.persist(),Ft(Xe),Z.current=[],Wy(Xe)&&Promise.resolve(a(Xe)).then(function(wt){Jx(Xe)&&!O||Ue(wt,Xe)}).catch(function(wt){return ue(wt)}),J({type:"reset"})},[a,Ue,ue,O]),X=E.useCallback(function(){if(L.current){J({type:"openDialog"}),Q();var Xe={multiple:l,types:ie};window.showOpenFilePicker(Xe).then(function(wt){return a(wt)}).then(function(wt){Ue(wt,null),J({type:"closeDialog"})}).catch(function(wt){xye(wt)?(ve(wt),J({type:"closeDialog"})):wye(wt)?(L.current=!1,fe.current?(fe.current.value=null,fe.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(wt)});return}fe.current&&(J({type:"openDialog"}),Q(),fe.current.value=null,fe.current.click())},[J,Q,ve,T,Ue,ue,ie,l]),zt=E.useCallback(function(Xe){!G.current||!G.current.isEqualNode(Xe.target)||(Xe.key===" "||Xe.key==="Enter"||Xe.keyCode===32||Xe.keyCode===13)&&(Xe.preventDefault(),X())},[G,X]),Ot=E.useCallback(function(){J({type:"focus"})},[]),qt=E.useCallback(function(){J({type:"blur"})},[]),it=E.useCallback(function(){j||(pye()?setTimeout(X,0):X())},[j,X]),We=function(wt){return n?null:wt},ar=function(wt){return R?null:We(wt)},fr=function(wt){return D?null:We(wt)},Ft=function(wt){O&&wt.stopPropagation()},Pt=E.useMemo(function(){return function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=Xe.refKey,lr=wt===void 0?"ref":wt,_r=Xe.role,pr=Xe.onKeyDown,Mn=Xe.onFocus,Gt=Xe.onBlur,Vr=Xe.onClick,yn=Xe.onDragEnter,Fr=Xe.onDragOver,Yr=Xe.onDragLeave,Nn=Xe.onDrop,vt=Zx(Xe,Sye);return Fn(Fn(U2({onKeyDown:ar(Do(pr,zt)),onFocus:ar(Do(Mn,Ot)),onBlur:ar(Do(Gt,qt)),onClick:We(Do(Vr,it)),onDragEnter:fr(Do(yn,he)),onDragOver:fr(Do(Fr,Re)),onDragLeave:fr(Do(Yr,ye)),onDrop:fr(Do(Nn,st)),role:typeof _r=="string"&&_r!==""?_r:"presentation"},lr,G),!n&&!R?{tabIndex:0}:{}),vt)}},[G,zt,Ot,qt,it,he,Re,ye,st,R,D,n]),jr=E.useCallback(function(Xe){Xe.stopPropagation()},[]),wr=E.useMemo(function(){return function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=Xe.refKey,lr=wt===void 0?"ref":wt,_r=Xe.onChange,pr=Xe.onClick,Mn=Zx(Xe,Eye),Gt=U2({accept:ne,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:We(Do(_r,st)),onClick:We(Do(pr,jr)),tabIndex:-1},lr,fe);return Fn(Fn({},Gt),Mn)}},[fe,r,l,st,n]);return Fn(Fn({},le),{},{isFocused:Me&&!n,getRootProps:Pt,getInputProps:wr,rootRef:G,inputRef:fe,open:We(X)})}function Oye(e,t){switch(t.type){case"focus":return Fn(Fn({},e),{},{isFocused:!0});case"blur":return Fn(Fn({},e),{},{isFocused:!1});case"openDialog":return Fn(Fn({},z2),{},{isFileDialogActive:!0});case"closeDialog":return Fn(Fn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Fn(Fn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Fn(Fn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Fn({},z2);default:return e}}function VO(){}const Dye=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]};function Pye({file:e,isOpen:t,onClose:r,onDownload:n}){const[a,s]=E.useState(1),[i,l]=E.useState(0),[u,d]=E.useState(!1),[m,p]=E.useState(null);if(!e)return null;const v=()=>{s(R=>Math.min(R+.25,3))},y=()=>{s(R=>Math.max(R-.25,.5))},w=()=>{l(R=>(R+90)%360)},x=()=>{m&&(u?m.pause():m.play(),d(!u))},b=()=>{s(1),l(0)},T=()=>f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[f.jsx(xt,{variant:"ghost",size:"sm",onClick:y,disabled:a<=.5,title:"Zoom Out",children:f.jsx(mJ,{className:"h-4 w-4"})}),f.jsxs("span",{className:"text-sm font-medium px-2",children:[Math.round(a*10),"%"]}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:v,disabled:a>=3,title:"Zoom In",children:f.jsx(fJ,{className:"h-4 w-4"})}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:w,title:"Rotate",children:f.jsx(BQ,{className:"h-4 w-4"})}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:b,title:"Reset",children:"Reset"})]}),f.jsx("div",{className:"max-h-[70vh] max-w-full overflow-hidden flex items-center justify-center bg-gray-50 rounded-lg",children:f.jsx("img",{src:e.url,alt:e.name,className:"max-w-full max-h-full object-contain transition-transform",style:{transform:`scale(${a}) rotate(${i}deg)`,cursor:"grab"},onLoad:b,draggable:!1})})]}),M=()=>f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-10 rounded-lg",children:[f.jsx(xt,{variant:"ghost",size:"sm",onClick:x,title:u?"Pause":"Play",children:u?f.jsx(BF,{className:"h-4 w-4"}):f.jsx(UF,{className:"h-4 w-4"})}),f.jsx("span",{className:"text-sm font-medium",children:"Video Player"})]}),f.jsx("div",{className:"max-h-[70vh] max-w-full flex items-center justify-center bg-black rounded-lg overflow-hidden",children:f.jsx("video",{ref:p,src:e.url,controls:!0,className:"max-w-full max-h-full",onPlay:()=>d(!0),onPause:()=>d(!1),children:"Your browser does not support the video tag."})})]}),k=()=>f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[f.jsx(i0,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-medium",children:"PDF Document"}),n&&f.jsx(xt,{variant:"ghost",size:"sm",onClick:n,title:"Download",children:f.jsx(Tx,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"max-h-[70vh] max-w-full flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden",children:f.jsx("iframe",{src:`${e.url}#view=FitH`,className:"w-full h-full min-h-[500px] border rounded",title:e.name})})]}),j=()=>{switch(e.category){case"image":return T();case"video":return M();case"document":return k();default:return f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx(i0,{className:"h-16 w-16 text-gray-400 mb-4"}),f.jsx("p",{className:"text-gray-500",children:"Preview not available for this file type"})]})}};return e?f.jsx(co,{open:t,onOpenChange:r,children:f.jsxs(uo,{className:"max-w-6xl max-h-[90vh] overflow-hidden p-0",children:[f.jsxs(fo,{className:"px-6 py-4 border-b",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(ho,{className:"text-lg font-semibold truncate max-w-md",title:e.name,children:e.name}),f.jsx(Br,{variant:"secondary",className:"capitalize",children:e.category})]})}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[f.jsxs("span",{children:["Size: ",Dye(e.size)]}),f.jsxs("span",{children:["Uploaded: ",e.uploadDate.toLocaleDateString()]}),f.jsxs("span",{children:["Type: ",e.type]})]}),n&&f.jsx(xt,{variant:"ghost",size:"sm",onClick:n,title:"Download",children:f.jsx(Tx,{className:"h-4 w-4"})})]})]}),f.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:j()})]})}):f.jsx(co,{open:t,onOpenChange:r,children:f.jsxs(uo,{className:"max-w-md",children:[f.jsx(fo,{children:f.jsx(ho,{children:"File Preview"})}),f.jsx("div",{className:"py-8 text-center",children:f.jsx("p",{className:"text-gray-500",children:"No file selected for preview."})})]})})}function Fye({files:e,uploadProgress:t,isUploading:r,previewFile:n,isPreviewOpen:a,setIsPreviewOpen:s,getRootProps:i,getInputProps:l,isDragActive:u,deleteFile:d,downloadFile:m,handlePreviewFile:p,stats:v,formatFileSize:y,truncateFileName:w,getFileIcon:x}){const b=xo(),T=Hs();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>b("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),T.formatMessage({id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:T.formatMessage({id:"assets.title",defaultMessage:"Asset Files"})}),f.jsx("p",{className:"text-gray-600",children:T.formatMessage({id:"assets.subtitle",defaultMessage:"Upload and manage your media assets and documents"})})]})]}),f.jsxs(C0,{staggerDelay:.1,className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-8",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:T.formatMessage({id:"assets.stats.total",defaultMessage:"Total Files"})}),f.jsx(gj,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:v.totalFiles}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.formatMessage({id:"assets.stats.total.desc",defaultMessage:"Uploaded files"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:T.formatMessage({id:"assets.stats.size",defaultMessage:"Total Size"})}),f.jsx(gQ,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:y(v.totalSize)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.formatMessage({id:"assets.stats.size.desc",defaultMessage:"Storage used"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:T.formatMessage({id:"assets.stats.images",defaultMessage:"Images"})}),f.jsx(Fp,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:v.images}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.formatMessage({id:"assets.stats.images.desc",defaultMessage:"JPG, PNG"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.4,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:T.formatMessage({id:"assets.stats.videos",defaultMessage:"Videos"})}),f.jsx(lT,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:v.videos}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.formatMessage({id:"assets.stats.videos.desc",defaultMessage:"MP4 files"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.5,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:T.formatMessage({id:"assets.stats.documents",defaultMessage:"Documents"})}),f.jsx(i0,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:v.documents}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.formatMessage({id:"assets.stats.documents.desc",defaultMessage:"PDF files"})})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.6,className:"mb-8",children:[f.jsxs(It,{children:[f.jsx(Lt,{children:T.formatMessage({id:"assets.upload.title",defaultMessage:"Upload Files"})}),f.jsx(ln,{children:T.formatMessage({id:"assets.upload.desc",defaultMessage:"Drag and drop your files here, or click to browse. Only PNG, JPG, PDF, and MP4 files are accepted, up to 10MB each."})})]}),f.jsxs(Rt,{children:[f.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${u?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[f.jsx("input",{...l()}),f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx("div",{className:`p-3 rounded-full ${u?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-600"}`,children:f.jsx(dT,{className:"h-8 w-8"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-medium",children:u?T.formatMessage({id:"assets.upload.drop_active",defaultMessage:"Drop files here"}):T.formatMessage({id:"assets.upload.drop_idle",defaultMessage:"Upload your files"})}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.formatMessage({id:"assets.upload.browse",defaultMessage:"or click to browse your computer"})})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[f.jsx(m1,{className:"h-3 w-3"}),f.jsx("span",{children:T.formatMessage({id:"assets.upload.accepted",defaultMessage:"Accepted: JPG, PNG, PDF, MP4  Max size: 10MB"})})]})]})]}),r&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[f.jsx("span",{children:T.formatMessage({id:"assets.upload.uploading",defaultMessage:"Uploading..."})}),f.jsxs("span",{children:[t.toFixed(0),"%"]})]}),f.jsx(Ig,{value:t,className:"w-full"})]})]})]}),e.length>0&&f.jsxs(Sr,{animation:"fadeIn",delay:.7,children:[f.jsxs(It,{children:[f.jsxs(Lt,{children:[T.formatMessage({id:"assets.list.title",defaultMessage:"Uploaded Files"})," (",e.length,")"]}),f.jsx(ln,{children:T.formatMessage({id:"assets.list.desc",defaultMessage:"Manage your uploaded assets and documents"})})]}),f.jsx(Rt,{children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(M=>{const k=x(M.category);return f.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all group cursor-pointer hover:border-primary/50",onClick:()=>p(M),children:[f.jsx("div",{className:"mb-3",children:M.category==="image"&&M.url?f.jsxs("div",{className:"relative w-full h-32 bg-gray-100 rounded-lg overflow-hidden",children:[f.jsx("img",{src:M.url,alt:M.name,className:"w-full h-full object-cover",onError:j=>{var R;j.currentTarget.style.display="none",(R=j.currentTarget.nextElementSibling)==null||R.classList.remove("hidden")}}),f.jsx("div",{className:"hidden absolute inset-0 flex items-center justify-center bg-gray-100",children:f.jsx(k,{className:"h-8 w-8 text-gray-600"})})]}):f.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:f.jsx(k,{className:"h-8 w-8 text-gray-600"})})}),f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium truncate",title:M.name,children:w(M.name)}),f.jsx("p",{className:"text-xs text-gray-500",children:y(M.size||0)})]}),f.jsx(Br,{variant:"secondary",className:"ml-2",children:M.category})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-gray-400",children:M.uploadDate.toLocaleDateString()}),f.jsxs("div",{className:"flex space-x-1",onClick:j=>j.stopPropagation(),children:[f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>m(M),className:"h-8 w-8 p-0",title:"Download",children:f.jsx(Tx,{className:"h-4 w-4"})}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>d(M.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete",children:f.jsx(o0,{className:"h-4 w-4"})})]})]})]},M.id)})})})]}),e.length===0&&!r&&f.jsx(el,{delay:.7,children:f.jsx(vn,{className:"text-center py-12",children:f.jsx(Rt,{children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx("div",{className:"p-3 bg-gray-100 rounded-full",children:f.jsx(gj,{className:"h-12 w-12 text-gray-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.formatMessage({id:"assets.empty.title",defaultMessage:"No files uploaded yet"})}),f.jsx("p",{className:"text-gray-500 mt-1",children:T.formatMessage({id:"assets.empty.desc",defaultMessage:"Upload your first file to get started with asset management"})})]})]})})})})]}),f.jsx(Pye,{file:n,isOpen:a,onClose:()=>s(!1),onDownload:()=>n&&m(n)})]})})}function Iye(){const{assetService:e,isInitialized:t}=oc(),[r,n]=E.useState([]),[a,s]=E.useState(0),[i,l]=E.useState(!1),[u,d]=E.useState(!0),[m,p]=E.useState(null),[v,y]=E.useState(null),[w,x]=E.useState(!1),{toast:b}=bg(),T=Hs(),M=re=>{const le=[".png",".jpg",".jpeg",".pdf",".mp4"],J=re.name.toLowerCase(),Me=J.substring(J.lastIndexOf("."));return le.includes(Me)?Me===".png"&&!re.type.startsWith("image/")?{isValid:!1,error:"Invalid PNG file. Please ensure the file is a valid image."}:(Me===".jpg"||Me===".jpeg")&&!re.type.startsWith("image/")?{isValid:!1,error:"Invalid JPG file. Please ensure the file is a valid image."}:Me===".pdf"&&re.type!=="application/pdf"?{isValid:!1,error:"Invalid PDF file. Please ensure the file is a valid PDF document."}:Me===".mp4"&&!re.type.startsWith("video/")?{isValid:!1,error:"Invalid MP4 file. Please ensure the file is a valid video."}:{isValid:!0}:{isValid:!1,error:`File type "${Me}" is not allowed. Only PNG, JPG, PDF, and MP4 files are permitted.`}},k=re=>{const le=re.type.toLowerCase(),J=re.name.toLowerCase();return le.startsWith("image/")&&(J.endsWith(".jpg")||J.endsWith(".jpeg")||J.endsWith(".png"))?"image":le.startsWith("video/")&&J.endsWith(".mp4")?"video":le==="application/pdf"||J.endsWith(".pdf")?"document":"other"},j=re=>{switch(re){case"image":return Fp;case"video":return lT;case"document":return i0;default:return IF}},R=re=>{if(re===0)return"0 Bytes";const le=1024,J=["Bytes","KB","MB","GB"],Me=Math.floor(Math.log(re)/Math.log(le));return parseFloat((re/Math.pow(le,Me)).toFixed(2))+" "+J[Me]},D=re=>{if(re.length<=20)return re;const J=re.substring(0,7),Me=re.substring(re.length-5);return J+"...."+Me},O=E.useCallback(async re=>{l(!0),s(0);const le=[],J=[];if(re.forEach(Me=>{const H=M(Me);H.isValid?le.push(Me):J.push(`${Me.name}: ${H.error}`)}),J.length>0){const Me=J.length===1?J[0]:`${J.length} files rejected: ${J.slice(0,2).join(", ")}${J.length>2?"...":""}`;b({title:"Invalid File(s)",description:Me,variant:"destructive"})}if(J.length>0&&le.length>0&&b({title:"Partial Upload",description:`${le.length} valid file(s) uploaded, ${J.length} file(s) rejected.`}),le.length===0){l(!1),s(0);return}try{const Me=le.length;let H=0;for(let L=0;L<le.length;L++){const Y=le[L],Z=M(Y);if(!Z.isValid){b({title:"File Validation Failed",description:`File "${Y.name}" failed validation: ${Z.error}`,variant:"destructive"});continue}s(H/Me*100+10);try{const W=k(Y),ue=await e.queueUpload(Y,{category:W}),he={...ue,uploadDate:new Date(ue.created_at),url:ue.file_url,size:ue.file_size,type:ue.file_type};n(Re=>[he,...Re]),H++,s(H/Me*100)}catch(W){console.error(`Failed to upload ${Y.name}:`,W),b({title:T.formatMessage({id:"assets.toast.upload_failed",defaultMessage:"Upload Failed"}),description:T.formatMessage({id:"assets.toast.upload_failed.desc",defaultMessage:"Failed to upload {name}. Please try again."},{name:Y.name}),variant:"destructive"})}}H>0&&b({title:T.formatMessage({id:"assets.toast.upload_success",defaultMessage:"Upload Successful"}),description:T.formatMessage({id:"assets.toast.upload_success.desc",defaultMessage:"{count} file(s) uploaded successfully."},{count:H})})}catch(Me){console.error("Upload process error:",Me),b({title:T.formatMessage({id:"assets.toast.upload_error",defaultMessage:"Upload Error"}),description:T.formatMessage({id:"assets.toast.upload_error.desc",defaultMessage:"An unexpected error occurred during upload."}),variant:"destructive"})}finally{l(!1),s(0)}},[b,e]),{getRootProps:B,getInputProps:V,isDragActive:ne,fileRejections:ie}=IB({onDrop:O,accept:{"image/*":[".jpg",".jpeg",".png"],"video/*":[".mp4"],"application/pdf":[".pdf"]},maxSize:10*1024*1024,multiple:!0});za.useEffect(()=>{ie.length>0&&ie.forEach(re=>{re.errors.forEach(le=>{le.code==="file-invalid-type"?b({title:T.formatMessage({id:"assets.toast.invalid_type",defaultMessage:"File Type Rejected"}),description:T.formatMessage({id:"assets.toast.invalid_type.desc",defaultMessage:"{name}: Only PNG, JPG, PDF, and MP4 files are allowed."},{name:re.file.name}),variant:"destructive"}):le.code==="file-too-large"&&b({title:T.formatMessage({id:"assets.toast.too_large",defaultMessage:"File Too Large"}),description:T.formatMessage({id:"assets.toast.too_large.desc",defaultMessage:"{name}: File size exceeds 10MB limit."},{name:re.file.name}),variant:"destructive"})})})},[ie,b]);const Q=async()=>{try{d(!0),p(null),e.isInitialSyncComplete()||(console.log("Initial sync not complete, waiting..."),await e.waitForInitialSync(1e4));const J=(await e.getAssets()).map(Me=>({...Me,uploadDate:new Date(Me.created_at),url:Me.file_url,size:Me.file_size,type:Me.file_type}));n(J)}catch(re){console.error("Failed to load assets:",re);const le=Ul(re,"loadAssets");p(le.message)}finally{d(!1)}};E.useEffect(()=>{t&&Q()},[t,e]);const ve=async re=>{try{n(le=>le.filter(J=>J.id!==re)),await e.deleteAsset(re),b({title:T.formatMessage({id:"assets.toast.delete_success",defaultMessage:"File Deleted"}),description:T.formatMessage({id:"assets.toast.delete_success.desc",defaultMessage:"File has been deleted successfully."})})}catch(le){console.error("Delete failed:",le),r.find(J=>J.id===re)&&Q(),b({title:T.formatMessage({id:"assets.toast.delete_failed",defaultMessage:"Delete Failed"}),description:T.formatMessage({id:"assets.toast.delete_failed.desc",defaultMessage:"Failed to delete file. Please try again."}),variant:"destructive"})}},G=re=>{if(re.url){const le=document.createElement("a");le.href=re.url,le.download=re.name,document.body.appendChild(le),le.click(),document.body.removeChild(le)}},fe=re=>{y(re),x(!0)},K={totalFiles:r.length,totalSize:r.reduce((re,le)=>re+(le.size||0),0),images:r.filter(re=>re.category==="image").length,videos:r.filter(re=>re.category==="video").length,documents:r.filter(re=>re.category==="document").length};if(u){const le=e.isInitialSyncComplete()?"Loading assets...":"Syncing assets from server...";return f.jsx(Lg,{message:le})}return m?f.jsx(M0,{error:m,onRetry:Q}):f.jsx(Fye,{files:r,uploadProgress:a,isUploading:i,previewFile:v,isPreviewOpen:w,setIsPreviewOpen:x,getRootProps:B,getInputProps:V,isDragActive:ne,deleteFile:ve,downloadFile:G,handlePreviewFile:fe,stats:K,formatFileSize:R,truncateFileName:D,getFileIcon:j})}var LB=["PageUp","PageDown"],BB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UB={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},z0="Slider",[V2,Lye,Bye]=Mg(z0),[zB]=zi(z0,[Bye]),[Uye,z1]=zB(z0),VB=E.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[n],value:m,onValueChange:p=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:w,...x}=e,b=E.useRef(new Set),T=E.useRef(0),k=i==="horizontal"?zye:Vye,[j=[],R]=ec({prop:m,defaultProp:d,onChange:ie=>{var ve;(ve=[...b.current][T.current])==null||ve.focus(),p(ie)}}),D=E.useRef(j);function O(ie){const Q=Wye(j,ie);ne(ie,Q)}function B(ie){ne(ie,T.current)}function V(){const ie=D.current[T.current];j[T.current]!==ie&&v(j)}function ne(ie,Q,{commit:ve}={commit:!1}){const G=Qye(s),fe=Jye(Math.round((ie-n)/s)*s+n,G),K=Ox(fe,[n,a]);R((re=[])=>{const le=qye(re,K,Q);if(Yye(le,u*s)){T.current=le.indexOf(K);const J=String(le)!==String(re);return J&&ve&&v(le),J?le:re}else return re})}return f.jsx(Uye,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:T,thumbs:b.current,values:j,orientation:i,form:w,children:f.jsx(V2.Provider,{scope:e.__scopeSlider,children:f.jsx(V2.Slot,{scope:e.__scopeSlider,children:f.jsx(k,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:yt(x.onPointerDown,()=>{l||(D.current=j)}),min:n,max:a,inverted:y,onSlideStart:l?void 0:O,onSlideMove:l?void 0:B,onSlideEnd:l?void 0:V,onHomeKeyDown:()=>!l&&ne(n,0,{commit:!0}),onEndKeyDown:()=>!l&&ne(a,j.length-1,{commit:!0}),onStepKeyDown:({event:ie,direction:Q})=>{if(!l){const fe=LB.includes(ie.key)||ie.shiftKey&&BB.includes(ie.key)?10:1,K=T.current,re=j[K],le=s*fe*Q;ne(re+le,K,{commit:!0})}}})})})})});VB.displayName=z0;var[HB,$B]=zB(z0,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zye=E.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:i,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...m}=e,[p,v]=E.useState(null),y=xr(t,k=>v(k)),w=E.useRef(void 0),x=Ng(a),b=x==="ltr",T=b&&!s||!b&&s;function M(k){const j=w.current||p.getBoundingClientRect(),R=[0,j.width],O=Pk(R,T?[r,n]:[n,r]);return w.current=j,O(k-j.left)}return f.jsx(HB,{scope:e.__scopeSlider,startEdge:T?"left":"right",endEdge:T?"right":"left",direction:T?1:-1,size:"width",children:f.jsx(qB,{dir:x,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=M(k.clientX);i==null||i(j)},onSlideMove:k=>{const j=M(k.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:k=>{const R=UB[T?"from-left":"from-right"].includes(k.key);d==null||d({event:k,direction:R?-1:1})}})})}),Vye=E.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:i,onSlideEnd:l,onStepKeyDown:u,...d}=e,m=E.useRef(null),p=xr(t,m),v=E.useRef(void 0),y=!a;function w(x){const b=v.current||m.current.getBoundingClientRect(),T=[0,b.height],k=Pk(T,y?[n,r]:[r,n]);return v.current=b,k(x-b.top)}return f.jsx(HB,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:f.jsx(qB,{"data-orientation":"vertical",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=w(x.clientY);s==null||s(b)},onSlideMove:x=>{const b=w(x.clientY);i==null||i(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:x=>{const T=UB[y?"from-bottom":"from-top"].includes(x.key);u==null||u({event:x,direction:T?-1:1})}})})}),qB=E.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:u,...d}=e,m=z1(z0,r);return f.jsx(Wt.span,{...d,ref:t,onKeyDown:yt(e.onKeyDown,p=>{p.key==="Home"?(i(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):LB.concat(BB).includes(p.key)&&(u(p),p.preventDefault())}),onPointerDown:yt(e.onPointerDown,p=>{const v=p.target;v.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(v)?v.focus():n(p)}),onPointerMove:yt(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&a(p)}),onPointerUp:yt(e.onPointerUp,p=>{const v=p.target;v.hasPointerCapture(p.pointerId)&&(v.releasePointerCapture(p.pointerId),s(p))})})}),GB="SliderTrack",WB=E.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=z1(GB,r);return f.jsx(Wt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});WB.displayName=GB;var H2="SliderRange",KB=E.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=z1(H2,r),s=$B(H2,r),i=E.useRef(null),l=xr(t,i),u=a.values.length,d=a.values.map(v=>QB(v,a.min,a.max)),m=u>1?Math.min(...d):0,p=100-Math.max(...d);return f.jsx(Wt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:m+"%",[s.endEdge]:p+"%"}})});KB.displayName=H2;var $2="SliderThumb",XB=E.forwardRef((e,t)=>{const r=Lye(e.__scopeSlider),[n,a]=E.useState(null),s=xr(t,l=>a(l)),i=E.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return f.jsx(Hye,{...e,ref:s,index:i})}),Hye=E.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,i=z1($2,r),l=$B($2,r),[u,d]=E.useState(null),m=xr(t,M=>d(M)),p=u?i.form||!!u.closest("form"):!0,v=bT(u),y=i.values[n],w=y===void 0?0:QB(y,i.min,i.max),x=Gye(n,i.values.length),b=v==null?void 0:v[l.size],T=b?Kye(b,w,l.direction):0;return E.useEffect(()=>{if(u)return i.thumbs.add(u),()=>{i.thumbs.delete(u)}},[u,i.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${T}px)`},children:[f.jsx(V2.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(Wt.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":y,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:m,style:y===void 0?{display:"none"}:e.style,onFocus:yt(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),p&&f.jsx(YB,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:y},n)]})});XB.displayName=$2;var $ye="RadioBubbleInput",YB=E.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=E.useRef(null),s=xr(a,n),i=FT(t);return E.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==t&&m){const p=new Event("input",{bubbles:!0});m.call(l,t),l.dispatchEvent(p)}},[i,t]),f.jsx(Wt.input,{style:{display:"none"},...r,ref:s,defaultValue:t})});YB.displayName=$ye;function qye(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function QB(e,t,r){const s=100/(r-t)*(e-t);return Ox(s,[0,100])}function Gye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Wye(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function Kye(e,t,r){const n=e/2,s=Pk([0,50],[0,n]);return(n-s(t)*r)*r}function Xye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Yye(e,t){if(t>0){const r=Xye(e);return Math.min(...r)>=t}return!0}function Pk(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Qye(e){return(String(e).split(".")[1]||"").length}function Jye(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Zye=VB,exe=WB,txe=KB,rxe=XB;function nxe({className:e,defaultValue:t,value:r,min:n=0,max:a=100,step:s=1,showMarks:i=!1,...l}){const u=E.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,a],[r,t,n,a]),d=E.useMemo(()=>{if(!i||!s)return[];const m=Math.floor((a-n)/s)+1;return Array.from({length:m},(p,v)=>v/(m-1)*100)},[i,n,a,s]);return f.jsx("div",{className:"relative w-full",children:f.jsxs(Zye,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:a,step:s,className:jt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[f.jsx(exe,{"data-slot":"slider-track",className:jt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(txe,{"data-slot":"slider-range",className:jt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),i&&d.map((m,p)=>f.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full -translate-x-1/2 pointer-events-none",style:{left:`${m}%`,top:"50%",transform:"translate(-50%, -50%)"}},p)),Array.from({length:u.length},(m,p)=>f.jsx(rxe,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 z-10"},p))]})})}function axe({jobId:e,open:t,onClose:r}){const[n,a]=E.useState({jobId:e,processed:0,total:0,success:0,failed:0,status:"pending"});E.useEffect(()=>{if(!e)return;a({jobId:e,processed:0,total:0,success:0,failed:0,status:"pending"});const u=window.electron.whatsapp.onJobProgress(d=>{d.jobId===e&&a(d)});return()=>{u()}},[e]);const s=async()=>{await window.electron.whatsapp.pauseJob(e)},i=async()=>{await window.electron.whatsapp.resumeJob(e)},l=n.total>0?n.processed/n.total*100:0;return f.jsx(co,{open:t,onOpenChange:u=>{!u&&(n.status==="completed"||n.status==="failed")?r():u||r()},children:f.jsxs(uo,{className:"sm:max-w-md",children:[f.jsxs(fo,{children:[f.jsx(ho,{children:f.jsx(tt,{id:"campaign.progress.title",defaultMessage:"Campaign Progress"})}),f.jsx(hu,{children:f.jsx(tt,{id:"campaign.progress.description",defaultMessage:"Sending messages..."})})]}),f.jsxs("div",{className:"space-y-6 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{children:[n.status==="processing"&&f.jsx(tt,{id:"common.status.processing",defaultMessage:"Processing..."}),n.status==="paused"&&f.jsx(tt,{id:"common.status.paused",defaultMessage:"Paused"}),n.status==="completed"&&f.jsx(tt,{id:"common.status.completed",defaultMessage:"Completed"}),n.status==="failed"&&f.jsx(tt,{id:"common.status.failed",defaultMessage:"Failed"}),n.status==="pending"&&f.jsx(tt,{id:"common.status.pending",defaultMessage:"Pending..."})]}),f.jsxs("span",{className:"text-muted-foreground",children:[Math.round(l),"%"]})]}),f.jsx(Ig,{value:l,className:"h-2"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[f.jsxs("p",{className:"text-2xl font-bold text-slate-700",children:[n.processed,"/",n.total]}),f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Processed"})]}),f.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[f.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.success}),f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Success"})]}),f.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[f.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.failed}),f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Failed"})]})]}),f.jsxs("div",{className:"flex justify-center gap-3 pt-2",children:[n.status==="processing"&&f.jsxs(xt,{onClick:s,variant:"outline",className:"gap-2",children:[f.jsx(BF,{className:"h-4 w-4"}),f.jsx(tt,{id:"common.button.pause",defaultMessage:"Pause"})]}),n.status==="paused"&&f.jsxs(xt,{onClick:i,variant:"default",className:"gap-2",children:[f.jsx(UF,{className:"h-4 w-4"}),f.jsx(tt,{id:"common.button.resume",defaultMessage:"Resume"})]}),(n.status==="completed"||n.status==="failed")&&f.jsx(xt,{onClick:r,variant:"outline",className:"gap-2",children:f.jsx(tt,{id:"common.button.close",defaultMessage:"Close"})})]})]})]})})}function sxe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let q2=1;class ixe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:q2++,i=this.toasts.find(u=>u.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:n}),{...u,...t,id:s,dismissible:l,title:n}):u):this.addToast({title:n,...a,dismissible:l,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,i;const l=a.then(async d=>{if(i=["resolve",d],za.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(lxe(d)&&!d.ok){s=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,w=typeof p=="object"&&!za.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:v,...w})}else if(d instanceof Error){s=!1;const p=typeof r.error=="function"?await r.error(d):r.error,v=typeof r.description=="function"?await r.description(d):r.description,w=typeof p=="object"&&!za.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:v,...w})}else if(r.success!==void 0){s=!1;const p=typeof r.success=="function"?await r.success(d):r.success,v=typeof r.description=="function"?await r.description(d):r.description,w=typeof p=="object"&&!za.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:v,...w})}}).catch(async d=>{if(i=["reject",d],r.error!==void 0){s=!1;const m=typeof r.error=="function"?await r.error(d):r.error,p=typeof r.description=="function"?await r.description(d):r.description,y=typeof m=="object"&&!za.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...y})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((d,m)=>l.then(()=>i[0]==="reject"?m(i[1]):d(i[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||q2++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ci=new ixe,oxe=(e,t)=>{const r=(t==null?void 0:t.id)||q2++;return Ci.addToast({title:e,...t,id:r}),r},lxe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cxe=oxe,uxe=()=>Ci.toasts,dxe=()=>Ci.getActiveToasts(),Bn=Object.assign(cxe,{success:Ci.success,info:Ci.info,warning:Ci.warning,error:Ci.error,custom:Ci.custom,message:Ci.message,promise:Ci.promise,dismiss:Ci.dismiss,loading:Ci.loading},{getHistory:uxe,getToasts:dxe});sxe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Po=[1,3,5,10,15,30,60,120,300,600,900],hS=e=>e>=60?`${Math.floor(e/60)}m`:`${e}s`;function fxe({contacts:e,templates:t,quota:r,groups:n,assets:a,selectedGroupId:s,setSelectedGroupId:i,selectedTemplate:l,setSelectedTemplate:u,selectedAssets:d,delayRange:m,setDelayRange:p,sendingMode:v,setSendingMode:y,isSending:w,sendResult:x,handleStartCampaign:b,targetContacts:T,selectedTemplateData:M,selectedGroupData:k,canSend:j,previewMessage:R,getSelectedAssets:D,toggleAssetSelection:O,getAssetIcon:B,formatFileSize:V,showProgressModal:ne,setShowProgressModal:ie,activeJobId:Q}){var fe;const ve=xo(),G=Hs();return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>ve("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),G.formatMessage({id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:G.formatMessage({id:"send.title",defaultMessage:"Send Messages"})}),f.jsx("p",{className:"text-gray-600",children:G.formatMessage({id:"send.subtitle",defaultMessage:"Configure and send WhatsApp messages to contact groups"})})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs(xt,{variant:"outline",onClick:()=>ve("/groups"),children:[f.jsx(uT,{className:"h-4 w-4 mr-2"}),G.formatMessage({id:"contacts.button.manage_groups",defaultMessage:"Manage Groups"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,className:"min-h-[250px]",children:[f.jsxs(It,{children:[f.jsxs(Lt,{className:"flex items-center space-x-2",children:[f.jsx(QQ,{className:"h-5 w-5"}),f.jsx("span",{children:G.formatMessage({id:"send.config.target.title",defaultMessage:"Target Group"})})]}),f.jsx(ln,{children:G.formatMessage({id:"send.config.target.desc",defaultMessage:"Select which contact group will receive the message"})})]}),f.jsx(Rt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:"group-select",children:G.formatMessage({id:"send.config.target.label",defaultMessage:"Contact Group"})}),f.jsxs(Hd,{value:s,onValueChange:i,children:[f.jsx(qd,{children:f.jsx($d,{placeholder:G.formatMessage({id:"send.config.target.placeholder",defaultMessage:"Select contact group"})})}),f.jsxs(Gd,{children:[f.jsxs(as,{value:"all",children:[G.formatMessage({id:"send.config.target.all",defaultMessage:"All Contacts"})," (",e.length,")"]}),n.map(K=>f.jsx(as,{value:K.id,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:K.color}}),f.jsxs("span",{children:[K.name," (",e.filter(re=>re.group_id===K.id).length,")"]})]})},K.id))]})]})]}),f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium",children:G.formatMessage({id:"send.config.target.summary",defaultMessage:"Target Contacts:"})}),f.jsx(Br,{variant:"secondary",children:T.length})]}),s!=="all"&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:k.color}}),f.jsx("span",{className:"text-sm text-blue-700",children:k.name})]})]})]})})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{children:[f.jsxs(Lt,{className:"flex items-center space-x-2",children:[f.jsx(Hl,{className:"h-5 w-5"}),f.jsx("span",{children:G.formatMessage({id:"send.config.template.title",defaultMessage:"Message Template"})})]}),f.jsx(ln,{children:G.formatMessage({id:"send.config.template.desc",defaultMessage:"Choose the message template to send"})})]}),f.jsx(Rt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Xt,{htmlFor:"template-select",children:G.formatMessage({id:"send.config.template.label",defaultMessage:"Template"})}),f.jsxs(Hd,{value:l,onValueChange:u,children:[f.jsx(qd,{children:f.jsx($d,{placeholder:G.formatMessage({id:"send.config.template.placeholder",defaultMessage:"Select a template"})})}),f.jsx(Gd,{children:t.map(K=>f.jsx(as,{value:K.id,children:K.name},K.id))})]})]}),M&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx(Xt,{children:G.formatMessage({id:"send.config.template.info",defaultMessage:"Template Info:"})}),f.jsxs(Br,{variant:"secondary",className:"text-xs",children:[((fe=M.variants)==null?void 0:fe.length)||1," variants"]})]}),f.jsxs("div",{children:[f.jsx(Xt,{children:G.formatMessage({id:"send.config.template.preview",defaultMessage:"Random Preview:"})}),f.jsx("div",{className:"bg-gray-50 p-3 rounded border text-sm",children:R()}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:G.formatMessage({id:"send.config.template.help",defaultMessage:" Each message will use a random variant to avoid pattern detection"})})]}),M.variables&&M.variables.length>0&&f.jsxs("div",{children:[f.jsx(Xt,{children:G.formatMessage({id:"send.config.template.variables",defaultMessage:"Variables:"})}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:M.variables.map(K=>f.jsx(Br,{variant:"outline",className:"text-xs",children:K},K))})]})]})]})})]}),f.jsxs(Sr,{animation:"slideUp",delay:.25,children:[f.jsxs(It,{children:[f.jsxs(Lt,{className:"flex items-center space-x-2",children:[f.jsx(jQ,{className:"h-5 w-5"}),f.jsx("span",{children:G.formatMessage({id:"send.config.assets.title",defaultMessage:"Attach Assets"})})]}),f.jsx(ln,{children:G.formatMessage({id:"send.config.assets.desc",defaultMessage:"Select files to attach with your message (optional)"})})]}),f.jsx(Rt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs(Xt,{children:[G.formatMessage({id:"send.config.assets.available",defaultMessage:"Available Assets"})," (",a.length,")"]}),a.length===0?f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[f.jsx(Fp,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.config.assets.empty",defaultMessage:"No assets available"})})]}),f.jsx("p",{className:"text-xs text-blue-600 mt-1",children:G.formatMessage({id:"send.config.assets.upload_hint",defaultMessage:"Upload assets first in the Assets page to use them here"})})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-64 overflow-y-auto border rounded-lg p-3",children:a.map(K=>{const re=B(K.category),le=d.includes(K.id);return f.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all hover:shadow-sm ${le?"border-primary bg-primary/5 ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>O(K.id),children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`p-2 rounded ${le?"bg-primary/10":"bg-gray-100"}`,children:f.jsx(re,{className:`h-4 w-4 ${le?"text-primary":"text-gray-600"}`})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium truncate",title:K.name,children:K.name}),f.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[f.jsx(Br,{variant:"outline",className:"text-xs",children:K.category}),f.jsx("span",{children:V(K.file_size)})]})]}),le&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"h-4 w-4 rounded-full bg-primary flex items-center justify-center",children:f.jsx(vu,{className:"h-3 w-3 text-white"})})})]})},K.id)})})]}),d.length>0&&f.jsxs("div",{children:[f.jsxs(Xt,{children:[G.formatMessage({id:"send.config.assets.selected",defaultMessage:"Selected Assets"})," (",d.length,"):"]}),f.jsx("div",{className:"mt-2 space-y-2",children:D().map(K=>{const re=B(K.category);return f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(re,{className:"h-4 w-4 text-gray-600"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:K.name}),f.jsx("p",{className:"text-xs text-gray-500",children:V(K.file_size)})]})]}),f.jsx(xt,{variant:"ghost",size:"sm",onClick:()=>O(K.id),className:"h-8 w-8 p-0 text-gray-500 hover:text-red-600",children:f.jsx(so,{className:"h-4 w-4"})})]},K.id)})})]})]})})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{children:[f.jsxs(Lt,{className:"flex items-center space-x-2",children:[f.jsx(Sg,{className:"h-5 w-5"}),f.jsx("span",{children:G.formatMessage({id:"send.config.delay.title",defaultMessage:"Send Configuration"})})]}),f.jsx(ln,{children:G.formatMessage({id:"send.config.delay.desc",defaultMessage:"Configure timing and delivery settings"})})]}),f.jsx(Rt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Xt,{className:"mb-2 block",children:G.formatMessage({id:"send.mode.label",defaultMessage:"Sending Mode"})}),f.jsxs(Hd,{value:v,onValueChange:K=>{y(K),p(K==="static"?[3]:[3,10])},children:[f.jsx(qd,{children:f.jsx($d,{placeholder:G.formatMessage({id:"send.mode.placeholder",defaultMessage:"Select sending mode"})})}),f.jsxs(Gd,{children:[f.jsx(as,{value:"static",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:G.formatMessage({id:"send.mode.static",defaultMessage:"Static Delay"})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:G.formatMessage({id:"send.mode.static.desc",defaultMessage:"Fixed delay between messages"})})]})}),f.jsx(as,{value:"dynamic",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:G.formatMessage({id:"send.mode.dynamic",defaultMessage:"Dynamic Delay"})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:G.formatMessage({id:"send.mode.dynamic.desc",defaultMessage:"Random delay between min and max range"})})]})})]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx(Xt,{children:v==="static"?G.formatMessage({id:"send.config.delay.static",defaultMessage:"Delay"}):G.formatMessage({id:"send.config.delay.label",defaultMessage:"Delay Range"})}),f.jsx("span",{className:"text-sm font-medium text-primary",children:v==="static"?hS(m[0]):`${hS(m[0])} - ${hS(m[1]||m[0])}`})]}),f.jsx(nxe,{value:v==="static"?[Po.indexOf(m[0])!==-1?Po.indexOf(m[0]):0]:[Po.indexOf(m[0])!==-1?Po.indexOf(m[0]):0,Po.indexOf(m[1])!==-1?Po.indexOf(m[1]):1],onValueChange:K=>{p(v==="static"?[Po[K[0]]]:[Po[K[0]],Po[K[1]]])},max:Po.length-1,min:0,step:1,minStepsBetweenThumbs:1,showMarks:!0,className:"mt-2"}),f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[f.jsx("span",{children:G.formatMessage({id:"send.config.delay.min",defaultMessage:"Min: 1s"})}),f.jsx("span",{children:G.formatMessage({id:"send.config.delay.help",defaultMessage:"Max: 15m"})})]})]}),f.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx(Cd,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-medium text-yellow-800",children:G.formatMessage({id:"send.config.summary.title",defaultMessage:"Send Configuration Summary:"})}),f.jsxs("ul",{className:"text-yellow-700 mt-1 space-y-1",children:[f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.target",defaultMessage:"Target: {count} contacts"},{count:T.length})]}),f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.group",defaultMessage:"Group: {name}"},{name:k.name})]}),f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.template",defaultMessage:"Template: {name}"},{name:(M==null?void 0:M.name)||"Not selected"})]}),d.length>0&&f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.assets",defaultMessage:"Assets: {count} file(s) attached"},{count:d.length})]}),f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.mode",defaultMessage:"Mode: {mode}"},{mode:v==="static"?G.formatMessage({id:"send.mode.static"}):G.formatMessage({id:"send.mode.dynamic"})})]}),f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.delay",defaultMessage:"Delay: {seconds}s between messages"},{seconds:v==="static"?m[0]:`${m[0]}-${m[1]}`})]}),f.jsxs("li",{children:[" ",G.formatMessage({id:"send.config.summary.time",defaultMessage:"Estimated time: ~{minutes} minutes"},{minutes:Math.ceil(T.length*(v==="static"?m[0]:(m[0]+m[1])/2)/60)})]})]})]})]})})]})})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Sr,{animation:"fadeIn",delay:.4,className:"min-h-[250px]",children:[f.jsx(It,{children:f.jsxs(Lt,{className:"flex items-center space-x-2",children:[f.jsx(m1,{className:"h-5 w-5"}),f.jsx("span",{children:G.formatMessage({id:"send.quota.title",defaultMessage:"Quota Status"})})]})}),f.jsx(Rt,{children:r?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.quota.remaining",defaultMessage:"Remaining:"})}),f.jsx(Br,{variant:r.remaining>=T.length?"default":"destructive",children:r.plan_type==="pro"?"":r.remaining})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.quota.required",defaultMessage:"Required:"})}),f.jsx(Br,{variant:"secondary",children:T.length})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.quota.plan",defaultMessage:"Plan:"})}),f.jsx(Br,{variant:"outline",children:r.plan_type})]})]}):f.jsx("div",{className:"text-center text-sm text-muted-foreground",children:G.formatMessage({id:"common.status.loading",defaultMessage:"Loading..."})})})]}),f.jsx(Sr,{animation:"fadeIn",delay:.5,children:f.jsxs(Rt,{className:"pt-6",children:[f.jsx(Qo,{animation:"scale",className:"w-full",size:"lg",onClick:b,disabled:!j||w,children:w?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full mr-2"}),G.formatMessage({id:"send.button.sending",defaultMessage:"Sending..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(xd,{className:"h-4 w-4 mr-2"}),G.formatMessage({id:"send.button.send",defaultMessage:"Reserve & Send"})]})}),!j&&f.jsxs(du,{className:"mt-3",children:[f.jsx(Cd,{className:"h-4 w-4"}),f.jsx(fu,{children:l?T.length===0?G.formatMessage({id:"send.alert.no_contacts",defaultMessage:"No contacts in selected group"}):r&&r.remaining<T.length?G.formatMessage({id:"send.alert.insufficient_quota",defaultMessage:"Insufficient quota"}):G.formatMessage({id:"send.alert.complete_fields",defaultMessage:"Complete all required fields"}):G.formatMessage({id:"send.alert.select_template",defaultMessage:"Please select a template"})})]})]})}),x&&f.jsxs(Sr,{animation:"fadeIn",children:[f.jsx(It,{children:f.jsxs(Lt,{className:"flex items-center space-x-2",children:[x.success?f.jsx(vu,{className:"h-5 w-5 text-green-600"}):f.jsx(Cd,{className:"h-5 w-5 text-red-600"}),f.jsx("span",{children:G.formatMessage({id:"send.result.title",defaultMessage:"Send Result"})})]})}),f.jsx(Rt,{children:x.success?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.result.status",defaultMessage:"Status:"})}),f.jsx(Br,{className:"bg-green-600",children:G.formatMessage({id:"send.result.completed",defaultMessage:"Completed"})})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.result.total",defaultMessage:"Total Sent:"})}),f.jsx("span",{className:"font-medium",children:x.totalContacts})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.result.success",defaultMessage:"Successful:"})}),f.jsx("span",{className:"font-medium text-green-600",children:x.successCount})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm",children:G.formatMessage({id:"send.result.failed",defaultMessage:"Failed:"})}),f.jsx("span",{className:"font-medium text-red-600",children:x.failedCount})]}),f.jsxs("div",{className:"text-xs text-muted-foreground mt-3",children:[f.jsxs("div",{children:["Template: ",x.templateName]}),f.jsxs("div",{children:["Group: ",x.groupName]}),x.selectedAssets&&x.selectedAssets.length>0&&f.jsxs("div",{children:["Assets: ",x.selectedAssets.length," file(s) attached"]}),f.jsxs("div",{children:["Delay: ",x.delayRange,"s"]})]})]}):f.jsxs(du,{variant:"destructive",children:[f.jsx(Cd,{className:"h-4 w-4"}),f.jsx(fu,{children:x.error})]})})]})]})]})]})}),Q&&f.jsx(axe,{jobId:Q,open:ne,onClose:()=>ie(!1)})]})}function hxe(){const{contactService:e,templateService:t,quotaService:r,groupService:n,historyService:a,assetService:s,isInitialized:i}=oc(),[l,u]=E.useState([]),[d,m]=E.useState([]),[p,v]=E.useState(null),[y,w]=E.useState([]),[x,b]=E.useState([]),[T,M]=E.useState("all"),[k,j]=E.useState(""),[R,D]=E.useState([]),[O,B]=E.useState("static"),[V,ne]=E.useState([3]),[ie,Q]=E.useState(!1),[ve,G]=E.useState(null),[fe,K]=E.useState(!0),[re,le]=E.useState(null),[J,Me]=E.useState(!1),[H,L]=E.useState(null),[Y,Z]=E.useState(null),W=Hs(),ue=async()=>{try{K(!0),le(null);const Ft=await Nr.getCurrentMasterUserId();if(!Ft)throw new Error("User not authenticated");const[Pt,jr,wr,Xe,wt]=await Promise.all([e.getContacts(),t.getTemplates(),r.getQuota(Ft),n.getGroups(),s.getAssets()]);u(Pt),m(jr),v(wr),w(Xe),b(wt)}catch(Ft){console.error("Failed to load data:",Ft);const Pt=Ul(Ft,"loadSendData");le(Pt.message)}finally{K(!1)}},he=()=>T==="all"?l:l.filter(Ft=>Ft.group_id===T),Re=()=>d.find(Ft=>Ft.id===k),ye=()=>T==="all"?{name:"All Contacts",color:"#6b7280"}:y.find(Ft=>Ft.id===T)||{name:"Unknown Group",color:"#6b7280"},Ue=()=>x.filter(Ft=>R.includes(Ft.id)),st=Ft=>{D(Pt=>Pt.includes(Ft)?Pt.filter(jr=>jr!==Ft):[...Pt,Ft])},X=Ft=>{switch(Ft){case"image":return Fp;case"video":return lT;case"document":return i0;default:return Fp}},zt=Ft=>{if(Ft===0)return"0 Bytes";const Pt=1024,jr=["Bytes","KB","MB","GB"],wr=Math.floor(Math.log(Ft)/Math.log(Pt));return parseFloat((Ft/Math.pow(Pt,wr)).toFixed(2))+" "+jr[wr]},Ot=async()=>{if(!k||!p)return;const Ft=he(),Pt=Re();if(Pt){Q(!0),G(null);try{if(!(await window.electron.whatsapp.getStatus()).ready)throw new Error("WhatsApp is not connected. Please connect in Dashboard first.");const wr=await Nr.getCurrentMasterUserId();if(!wr)throw new Error("User not authenticated");const Xe=await r.reserveQuota(wr,Ft.length);if(!Xe.success)throw new Error("Failed to reserve quota");Z(Xe.reservation_id);const wt=crypto.randomUUID();await ze.messageJobs.add({id:wt,reservation_id:Xe.reservation_id,user_id:wr,master_user_id:wr,contact_group_id:T==="all"?void 0:T,template_id:k,total_contacts:Ft.length,success_count:0,failed_count:0,status:"pending",config:{sendingMode:O,delayRange:O==="static"?V[0]:V},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),_syncStatus:"pending",_lastModified:new Date().toISOString(),_version:1});const lr=Ue().map(pr=>pr.url).filter(Boolean),_r=await window.electron.whatsapp.processJob(wt,Ft,Pt,lr);if(!_r.success)throw new Error(_r.error||"Failed to start campaign");L(wt),Me(!0),Bn.success("Campaign started successfully")}catch(jr){console.error("Campaign start failed:",jr),Bn.error(jr instanceof Error?jr.message:"Failed to start campaign"),Q(!1),G({success:!1,error:jr instanceof Error?jr.message:"Unknown error occurred"})}}},qt=()=>{var wr;const Ft=Re();if(!Ft)return"";let jr=t.getRandomVariant(Ft)||"";return(wr=Ft.variables)==null||wr.forEach(Xe=>{const wt=Xe.includes("name")?"John Doe":Xe.includes("amount")?"$100":Xe.includes("date")?"December 25, 2024":Xe.includes("event")?"Product Launch":Xe.includes("location")?"Jakarta Convention Center":Xe.includes("product")?"Amazing Product":Xe.includes("company")?"Your Company":Xe.includes("contact")?"+62812345678":`[${Xe}]`;jr=jr.replace(new RegExp(`\\{${Xe}\\}`,"g"),wt)}),jr};E.useEffect(()=>{if(!H)return;const Ft=window.electron.whatsapp.onJobErrorDetail(Pt=>{Pt.jobId===H&&(console.error("Job Error Detail:",Pt),Bn.error(`Failed to send to ${Pt.phone}: ${Pt.error}`))});return()=>{Ft()}},[H]),E.useEffect(()=>{if(!H)return;const Ft=window.electron.whatsapp.onJobProgress(async Pt=>{if(Pt.jobId===H&&Pt.status==="completed")try{const jr=await Nr.getCurrentMasterUserId();if(!jr)return;const wr=Re();Y&&await r.commitQuota(Y,Pt.success),await ze.messageJobs.update(H,{status:"completed",success_count:Pt.success,failed_count:Pt.failed,completed_at:new Date().toISOString(),updated_at:new Date().toISOString()}),await a.createLog({user_id:jr,master_user_id:jr,contact_group_id:T==="all"?void 0:T,template_id:k,template_name:(wr==null?void 0:wr.name)||"Unknown Template",total_contacts:Pt.total,success_count:Pt.success,failed_count:Pt.failed,status:"completed",delay_range:V[0],metadata:{jobId:H}}),p&&v({...p,messages_used:p.messages_used+Pt.success,remaining:p.remaining-Pt.success}),Q(!1),Bn.success("Campaign completed!"),G({success:!0,totalContacts:Pt.total,successCount:Pt.success,failedCount:Pt.failed,templateName:wr==null?void 0:wr.name,groupName:ar.name,selectedAssets:Ue(),sendingMode:O,delayRange:O==="static"?V[0]:`${V[0]}-${V[1]}`,reservationId:Y})}catch(jr){console.error("Failed to finalize campaign:",jr),Bn.error("Campaign completed but failed to save results")}});return()=>{Ft()}},[H,Y,p,V,O,T,k]),E.useEffect(()=>{i&&ue()},[i,e,t,r,n,s]);const it=he(),We=Re(),ar=ye(),fr=!!(k&&it.length>0&&p&&p.remaining>=it.length);return fe?f.jsx(Lg,{message:W.formatMessage({id:"common.status.loading",defaultMessage:"Loading..."})}):re?f.jsx(M0,{error:re,onRetry:ue}):f.jsx(fxe,{contacts:l,templates:d,quota:p,groups:y,assets:x,selectedGroupId:T,setSelectedGroupId:M,selectedTemplate:k,setSelectedTemplate:j,selectedAssets:R,sendingMode:O,setSendingMode:B,delayRange:V,setDelayRange:ne,isSending:ie,sendResult:ve,handleStartCampaign:Ot,targetContacts:it,selectedTemplateData:We,selectedGroupData:ar,canSend:fr,previewMessage:qt,getSelectedAssets:Ue,toggleAssetSelection:st,getAssetIcon:X,formatFileSize:zt,showProgressModal:J,setShowProgressModal:Me,activeJobId:H})}function mxe({filteredLogs:e,searchQuery:t,setSearchQuery:r,statusFilter:n,setStatusFilter:a,getStatusIcon:s,getStatusBadge:i,formatDate:l,stats:u}){const d=xo(),m=Hs();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>d("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),m.formatMessage({id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m.formatMessage({id:"history.title",defaultMessage:"Message History"})}),f.jsx("p",{className:"text-gray-600",children:m.formatMessage({id:"history.subtitle",defaultMessage:"View individual message sending logs"})})]})]}),f.jsxs(xt,{variant:"outline",onClick:()=>d("/campaign-history"),children:[f.jsx(Hl,{className:"h-4 w-4 mr-2"}),m.formatMessage({id:"history.button.view_activity",defaultMessage:"View Activity Logs"})]})]}),f.jsxs(C0,{staggerDelay:.1,className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:m.formatMessage({id:"history.stats.total",defaultMessage:"Total Messages"})}),f.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:u.total}),f.jsx("p",{className:"text-xs text-muted-foreground",children:m.formatMessage({id:"history.stats.total.desc",defaultMessage:"All time messages"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:m.formatMessage({id:"history.stats.delivered",defaultMessage:"Delivered"})}),f.jsx(vu,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:u.sent}),f.jsx("p",{className:"text-xs text-muted-foreground",children:m.formatMessage({id:"history.stats.delivered.desc",defaultMessage:"Successfully sent"})})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:m.formatMessage({id:"history.stats.failed",defaultMessage:"Failed"})}),f.jsx(s0,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:u.failed}),f.jsx("p",{className:"text-xs text-muted-foreground",children:m.formatMessage({id:"history.stats.failed.desc",defaultMessage:"Failed delivery"})})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.5,children:[f.jsx(It,{children:f.jsx(Lt,{children:m.formatMessage({id:"history.search.title",defaultMessage:"Search & Filter"})})}),f.jsx(Rt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Eg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Cr,{placeholder:m.formatMessage({id:"history.search.placeholder",defaultMessage:"Search by name or phone..."}),value:t,onChange:p=>r(p.target.value),className:"pl-10"})]})}),f.jsx("div",{className:"flex gap-2",children:f.jsxs(Hd,{value:n,onValueChange:a,children:[f.jsx(qd,{className:"w-40",children:f.jsx($d,{placeholder:m.formatMessage({id:"history.filter.status.placeholder",defaultMessage:"Filter by status"})})}),f.jsxs(Gd,{children:[f.jsx(as,{value:"all",children:m.formatMessage({id:"history.filter.status.all",defaultMessage:"All Status"})}),f.jsx(as,{value:"sent",children:m.formatMessage({id:"history.filter.status.sent",defaultMessage:"Sent"})}),f.jsx(as,{value:"failed",children:m.formatMessage({id:"history.filter.status.failed",defaultMessage:"Failed"})}),f.jsx(as,{value:"pending",children:m.formatMessage({id:"history.filter.status.pending",defaultMessage:"Pending"})})]})]})})]})})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.6,className:"mt-6",children:[f.jsxs(It,{children:[f.jsxs(Lt,{children:[m.formatMessage({id:"history.list.title",defaultMessage:"Message Logs"})," (",e.length,")"]}),f.jsx(ln,{children:m.formatMessage({id:"history.list.desc",defaultMessage:"Detailed log of individual messages sent"})})]}),f.jsx(Rt,{children:e.length===0?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t||n!=="all"?m.formatMessage({id:"history.empty.search",defaultMessage:"No message logs found matching your filters."}):m.formatMessage({id:"history.empty.all",defaultMessage:"No message logs yet."})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(zp,{children:[f.jsx(Vp,{children:f.jsxs(Di,{children:[f.jsx(an,{children:m.formatMessage({id:"history.list.header.status",defaultMessage:"Status"})}),f.jsx(an,{children:m.formatMessage({id:"history.list.header.contact",defaultMessage:"Contact Name"})}),f.jsx(an,{children:m.formatMessage({id:"history.list.header.phone",defaultMessage:"Phone Number"})}),f.jsx(an,{children:m.formatMessage({id:"history.list.header.sent_at",defaultMessage:"Sent At"})}),f.jsx(an,{children:m.formatMessage({id:"history.list.header.details",defaultMessage:"Details"})})]})}),f.jsx(Hp,{children:e.map(p=>f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[s(p.status),i(p.status)]})}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(h1,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"font-medium",children:p.contact_name})]})}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(cT,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{children:p.contact_phone})]})}),f.jsx(kr,{children:f.jsx("div",{className:"text-sm text-muted-foreground",children:p.sent_at?l(p.sent_at):"-"})}),f.jsx(kr,{children:p.error_message?f.jsx("div",{className:"text-sm text-red-600 max-w-xs truncate",title:p.error_message,children:p.error_message}):f.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})})]},p.id))})]})})})]})]})})})}function pxe(){const{historyService:e,isInitialized:t}=oc(),r=Hs(),[n,a]=E.useState([]),[s,i]=E.useState([]),[l,u]=E.useState(""),[d,m]=E.useState("all"),[p,v]=E.useState(!0),[y,w]=E.useState(null),x=async()=>{try{v(!0),w(null);const D=await e.getAllMessageLogs();a(D)}catch(D){console.error("Failed to load message logs:",D);const O=Ul(D,"loadHistory");w(O.message)}finally{v(!1)}};E.useEffect(()=>{t&&x()},[t,e]),E.useEffect(()=>{b()},[n,l,d]);const b=()=>{let D=[...n];d!=="all"&&(D=D.filter(O=>O.status===d)),l&&(D=D.filter(O=>(O.contact_name||"").toLowerCase().includes(l.toLowerCase())||(O.contact_phone||"").toLowerCase().includes(l.toLowerCase())||O.status.toLowerCase().includes(l.toLowerCase()))),i(D)},T=D=>{switch(D){case"sent":return f.jsx(vu,{className:"h-4 w-4 text-green-600"});case"failed":return f.jsx(s0,{className:"h-4 w-4 text-red-600"});case"pending":return f.jsx(Sg,{className:"h-4 w-4 text-yellow-600"});default:return f.jsx(Cd,{className:"h-4 w-4 text-gray-600"})}},M=D=>{const O={sent:"default",failed:"destructive",pending:"outline"};return f.jsx(Br,{variant:O[D]||"outline",children:D})},k=D=>new Date(D).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=(()=>{const D=n.length,O=n.filter(ne=>ne.status==="sent").length,B=n.filter(ne=>ne.status==="failed").length,V=n.filter(ne=>ne.status==="pending").length;return{total:D,sent:O,failed:B,pending:V}})();return p?f.jsx(Lg,{message:r.formatMessage({id:"history.loading",defaultMessage:"Loading message history..."})}):y?f.jsx(M0,{error:y,onRetry:x}):f.jsx(mxe,{filteredLogs:s,searchQuery:l,setSearchQuery:u,statusFilter:d,setStatusFilter:m,getStatusIcon:T,getStatusBadge:M,formatDate:k,stats:R})}function gxe({filteredLogs:e,searchQuery:t,setSearchQuery:r,statusFilter:n,setStatusFilter:a,getStatusIcon:s,getStatusBadge:i,formatDate:l,calculateDuration:u,stats:d}){const m=xo();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsx("div",{className:"container mx-auto p-6",children:f.jsxs(el,{children:[f.jsx("div",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>m("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Activity Logs"}),f.jsx("p",{className:"text-gray-600",children:"View your activity history"})]})]})}),f.jsxs(C0,{staggerDelay:.1,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Total Activities"}),f.jsx(VY,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:d.total}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"All time activities"})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Success Rate"}),f.jsx(HF,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsxs("div",{className:"text-2xl font-bold",children:[d.successRate,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.successMessages,"/",d.totalMessages," messages"]})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Completed"}),f.jsx(vu,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:d.completed}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful activities"})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.4,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Failed"}),f.jsx(s0,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:d.failed}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed activities"})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.5,children:[f.jsx(It,{children:f.jsx(Lt,{children:"Search & Filter"})}),f.jsx(Rt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Eg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Cr,{placeholder:"Search by activity name or target...",value:t,onChange:p=>r(p.target.value),className:"pl-10"})]})}),f.jsx("div",{className:"flex gap-2",children:f.jsxs(Hd,{value:n,onValueChange:a,children:[f.jsx(qd,{className:"w-40",children:f.jsx($d,{placeholder:"Filter by status"})}),f.jsxs(Gd,{children:[f.jsx(as,{value:"all",children:"All Status"}),f.jsx(as,{value:"completed",children:"Completed"}),f.jsx(as,{value:"failed",children:"Failed"}),f.jsx(as,{value:"running",children:"Running"}),f.jsx(as,{value:"pending",children:"Pending"})]})]})})]})})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.6,className:"mt-6",children:[f.jsxs(It,{children:[f.jsxs(Lt,{children:["Activity Logs (",e.length,")"]}),f.jsx(ln,{children:"Detailed history of your message sending activities"})]}),f.jsx(Rt,{children:e.length===0?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t||n!=="all"?"No activity logs found matching your filters.":"No activity logs yet."}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(zp,{children:[f.jsx(Vp,{children:f.jsxs(Di,{children:[f.jsx(an,{children:"Status"}),f.jsx(an,{children:"Activity Name"}),f.jsx(an,{children:"Target Group"}),f.jsx(an,{children:"Recipients"}),f.jsx(an,{children:"Success Rate"}),f.jsx(an,{children:"Duration"}),f.jsx(an,{children:"Started"}),f.jsx(an,{children:"Actions"})]})}),f.jsx(Hp,{children:e.map(p=>f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[s(p.status),i(p.status)]})}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"font-medium",children:p.template_name})]})}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"}),f.jsx(Br,{variant:"outline",children:p.contact_group_id||"Unknown Group"})]})}),f.jsx(kr,{children:f.jsxs("div",{className:"text-sm",children:[f.jsxs("div",{children:[p.total_contacts," total"]}),f.jsxs("div",{className:"text-green-600",children:[p.success_count," success"]}),p.failed_count>0&&f.jsxs("div",{className:"text-red-600",children:[p.failed_count," failed"]})]})}),f.jsx(kr,{children:f.jsx("div",{className:"text-sm",children:p.total_contacts>0?f.jsxs("span",{className:p.success_count/p.total_contacts>=.9?"text-green-600":p.success_count/p.total_contacts>=.7?"text-yellow-600":"text-red-600",children:[(p.success_count/p.total_contacts*100).toFixed(1),"%"]}):f.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),f.jsx(kr,{children:f.jsx("div",{className:"text-sm text-muted-foreground",children:u(p.started_at||"",p.completed_at)})}),f.jsx(kr,{children:f.jsx("div",{className:"text-sm text-muted-foreground",children:l(p.started_at||"")})}),f.jsx(kr,{children:f.jsx("div",{className:"flex space-x-2",children:f.jsx(xt,{variant:"ghost",size:"sm",children:"View Details"})})})]},p.id))})]})})})]})]})})})}function vxe(){const{historyService:e,isInitialized:t}=oc(),[r,n]=E.useState([]),[a,s]=E.useState([]),[i,l]=E.useState(""),[u,d]=E.useState("all"),[m,p]=E.useState(!0),[v,y]=E.useState(null),w=async()=>{try{p(!0),y(null);const D=await e.getActivityLogs();n(D)}catch(D){console.error("Failed to load campaign logs:",D);const O=Ul(D,"loadHistory");y(O.message)}finally{p(!1)}};E.useEffect(()=>{t&&w()},[t,e]),E.useEffect(()=>{x()},[r,i,u]);const x=()=>{let D=[...r];u!=="all"&&(D=D.filter(O=>O.status===u)),i&&(D=D.filter(O=>(O.template_name||"").toLowerCase().includes(i.toLowerCase())||(O.contact_group_id||"").toLowerCase().includes(i.toLowerCase())||O.status.toLowerCase().includes(i.toLowerCase()))),s(D)},b=D=>{switch(D){case"completed":return f.jsx(vu,{className:"h-4 w-4 text-green-600"});case"failed":return f.jsx(s0,{className:"h-4 w-4 text-red-600"});case"running":return f.jsx(bQ,{className:"h-4 w-4 text-blue-600"});case"pending":return f.jsx(Sg,{className:"h-4 w-4 text-yellow-600"});default:return f.jsx(Cd,{className:"h-4 w-4 text-gray-600"})}},T=D=>{const O={completed:"default",failed:"destructive",running:"secondary",pending:"outline"};return f.jsx(Br,{variant:O[D]||"outline",children:D})},M=D=>new Date(D).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=(D,O)=>{if(!O)return"N/A";const B=new Date(D).getTime(),ne=new Date(O).getTime()-B;return ne<6e4?`${Math.round(ne/1e3)}s`:`${Math.round(ne/6e4)}m`},R=(()=>{const D=r.length,O=r.filter(G=>G.status==="completed").length,B=r.filter(G=>G.status==="failed").length,V=r.filter(G=>G.status==="running").length,ne=r.filter(G=>G.status==="pending").length,ie=r.reduce((G,fe)=>G+fe.total_contacts,0),Q=r.reduce((G,fe)=>G+fe.success_count,0),ve=r.reduce((G,fe)=>G+fe.failed_count,0);return{total:D,completed:O,failed:B,running:V,pending:ne,totalMessages:ie,successMessages:Q,failedMessages:ve,successRate:ie>0?(Q/ie*100).toFixed(1):"0"}})();return m?f.jsx(Lg,{message:"Loading activity history..."}):v?f.jsx(M0,{error:v,onRetry:w}):f.jsx(gxe,{filteredLogs:a,searchQuery:i,setSearchQuery:l,statusFilter:u,setStatusFilter:d,getStatusIcon:b,getStatusBadge:T,formatDate:M,calculateDuration:k,stats:R})}const Eh=["#fbbf24","#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6","#6366f1","#f97316"];function yxe(){const e=xo(),{toast:t}=bg(),{groupService:r,contactService:n}=oc(),[a,s]=E.useState([]),[i,l]=E.useState([]),[u,d]=E.useState([]),[m,p]=E.useState(!0),[v,y]=E.useState(!1),[w,x]=E.useState(!1),[b,T]=E.useState(!1),[M,k]=E.useState(!1),[j,R]=E.useState(null),[D,O]=E.useState(null),[B,V]=E.useState(""),[ne,ie]=E.useState([]),[Q,ve]=E.useState({name:"",description:"",color:Eh[0]});E.useEffect(()=>{G()},[]);const G=async()=>{try{p(!0);const[W,ue]=await Promise.all([r.getGroups(),n.getContacts()]);s(W),l(ue)}catch(W){console.error("Failed to load data:",W),t({title:"Error",description:"Failed to load groups and contacts",variant:"destructive"})}finally{p(!1)}},fe=async()=>{try{if(!Q.name.trim()){t({title:"Validation Error",description:"Group name is required",variant:"destructive"});return}const W=await r.createGroup({name:Q.name.trim(),description:Q.description.trim(),color:Q.color});s(ue=>[...ue,W]),y(!1),ve({name:"",description:"",color:Eh[0]}),t({title:"Success",description:"Group created successfully",variant:"default"})}catch(W){console.error("Failed to create group:",W),t({title:"Error",description:"Failed to create group",variant:"destructive"})}},K=async()=>{try{if(!j||!Q.name.trim()){t({title:"Validation Error",description:"Group name is required",variant:"destructive"});return}const W=await r.updateGroup(j.id,{name:Q.name.trim(),description:Q.description.trim(),color:Q.color});W&&(s(ue=>ue.map(he=>he.id===j.id?W:he)),x(!1),R(null),ve({name:"",description:"",color:Eh[0]}),t({title:"Success",description:"Group updated successfully",variant:"default"}))}catch(W){console.error("Failed to update group:",W),t({title:"Error",description:"Failed to update group",variant:"destructive"})}},re=async()=>{if(D)try{await r.deleteGroup(D.id)?(s(ue=>ue.filter(he=>he.id!==D.id)),l(ue=>ue.map(he=>he.group_id===D.id?{...he,group_id:"group_regular"}:he)),k(!1),O(null),t({title:"Success",description:"Group deleted successfully",variant:"default"})):t({title:"Error",description:"Failed to delete group",variant:"destructive"})}catch(W){console.error("Failed to delete group:",W),t({title:"Error",description:"Failed to delete group",variant:"destructive"})}},le=async(W,ue)=>{try{for(const he of ue)await n.updateContact(he,{group_id:W});l(he=>he.map(Re=>ue.includes(Re.id)?{...Re,group_id:W}:Re)),await G(),T(!1),ie([]),t({title:"Success",description:`Successfully assigned ${ue.length} contacts to group`,variant:"default"})}catch(he){console.error("Failed to assign contacts:",he),t({title:"Error",description:"Failed to assign contacts to group",variant:"destructive"})}},J=W=>{R(W),ve({name:W.name,description:W.description||"",color:W.color}),x(!0)},Me=W=>{R(W),ie([]),V(""),T(!0)},H=()=>{ve({name:"",description:"",color:Eh[0]}),R(null)};E.useEffect(()=>{if(!j)return;let W=i.filter(ue=>ue.group_id!==j.id);B&&(W=W.filter(ue=>ue.name.toLowerCase().includes(B.toLowerCase())||ue.phone.includes(B)||ue.tags&&ue.tags.some(he=>he.toLowerCase().includes(B.toLowerCase())))),d(W)},[i,B,j]);const L=W=>i.filter(ue=>ue.group_id===W),Z=(()=>{const W=i.length,ue=a.map(he=>({...he,contact_count:L(he.id).length}));return{total:W,groups:ue,largestGroup:ue.reduce((he,Re)=>(Re.contact_count||0)>(he.contact_count||0)?Re:he,ue[0]),averageGroupSize:ue.length>0?Math.round(ue.reduce((he,Re)=>he+(Re.contact_count||0),0)/ue.length):0}})();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs(el,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>e("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Group Management"}),f.jsx("p",{className:"text-gray-600",children:"Create and manage contact groups for better segmentation"})]})]}),f.jsxs(co,{open:v,onOpenChange:y,children:[f.jsx(GL,{asChild:!0,children:f.jsxs(Qo,{animation:"scale",onClick:H,children:[f.jsx(zF,{className:"h-4 w-4 mr-2"}),"Create Group"]})}),f.jsxs(uo,{children:[f.jsxs(fo,{children:[f.jsx(ho,{children:"Create New Group"}),f.jsx(hu,{children:"Create a new contact group to organize your contacts better."})]}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"name",children:"Group Name"}),f.jsx(Cr,{id:"name",value:Q.name,onChange:W=>ve(ue=>({...ue,name:W.target.value})),placeholder:"e.g., VIP Customers"})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(Yx,{id:"description",value:Q.description,onChange:W=>ve(ue=>({...ue,description:W.target.value})),placeholder:"Brief description of this group",rows:3})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{children:"Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Eh.map(W=>f.jsx("button",{className:`w-8 h-8 rounded-full border-2 ${Q.color===W?"border-gray-900":"border-gray-200"}`,style:{backgroundColor:W},onClick:()=>ve(ue=>({...ue,color:W}))},W))})]})]}),f.jsxs(vp,{children:[f.jsx(xt,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),f.jsx(xt,{onClick:fe,children:"Create Group"})]})]})]})]}),f.jsxs(C0,{staggerDelay:.1,className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Sr,{animation:"slideUp",delay:.1,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Total Groups"}),f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:a.length}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Active groups"})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.2,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Total Contacts"}),f.jsx(LF,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:Z.total}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all groups"})]})]}),f.jsxs(Sr,{animation:"slideUp",delay:.3,children:[f.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx(Lt,{className:"text-sm font-medium",children:"Avg Group Size"}),f.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(Rt,{children:[f.jsx("div",{className:"text-2xl font-bold",children:Z.averageGroupSize}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Contacts per group"})]})]})]}),f.jsxs(Sr,{animation:"fadeIn",delay:.4,children:[f.jsxs(It,{children:[f.jsxs(Lt,{children:["Contact Groups (",a.length,")"]}),f.jsx(ln,{children:"Manage your contact groups for better message targeting"})]}),f.jsx(Rt,{children:m?f.jsx("div",{className:"text-center py-8",children:"Loading groups..."}):a.length===0?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No groups found. Create your first group to get started."}):f.jsxs(zp,{children:[f.jsx(Vp,{children:f.jsxs(Di,{children:[f.jsx(an,{children:"Group"}),f.jsx(an,{children:"Description"}),f.jsx(an,{children:"Contacts"}),f.jsx(an,{children:"Created"}),f.jsx(an,{children:"Actions"})]})}),f.jsx(Hp,{children:a.map(W=>f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:W.color}}),f.jsx("span",{className:"font-medium",children:W.name})]})}),f.jsx(kr,{children:f.jsx("span",{className:"text-muted-foreground",children:W.description||"No description"})}),f.jsx(kr,{children:f.jsxs(Br,{variant:"secondary",children:[L(W.id).length," contacts"]})}),f.jsx(kr,{children:f.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(W.created_at).toLocaleDateString()})}),f.jsx(kr,{children:f.jsxs(OT,{children:[f.jsx(DT,{asChild:!0,children:f.jsx(xt,{variant:"ghost",size:"sm",children:"..."})}),f.jsxs(PT,{align:"end",children:[f.jsxs(Vd,{onClick:()=>Me(W),children:[f.jsx(nJ,{className:"h-4 w-4 mr-2"}),"Manage Contacts"]}),f.jsxs(Vd,{onClick:()=>J(W),children:[f.jsx(Tg,{className:"h-4 w-4 mr-2"}),"Edit"]}),f.jsx(vae,{}),f.jsxs(Vd,{className:"text-red-600",onClick:()=>{O(W),k(!0)},children:[f.jsx(o0,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},W.id))})]})})]})]}),f.jsx(co,{open:w,onOpenChange:x,children:f.jsxs(uo,{children:[f.jsxs(fo,{children:[f.jsx(ho,{children:"Edit Group"}),f.jsx(hu,{children:"Update group details and appearance."})]}),f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"edit-name",children:"Group Name"}),f.jsx(Cr,{id:"edit-name",value:Q.name,onChange:W=>ve(ue=>({...ue,name:W.target.value})),placeholder:"e.g., VIP Customers"})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{htmlFor:"edit-description",children:"Description (Optional)"}),f.jsx(Yx,{id:"edit-description",value:Q.description,onChange:W=>ve(ue=>({...ue,description:W.target.value})),placeholder:"Brief description of this group",rows:3})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Xt,{children:"Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Eh.map(W=>f.jsx("button",{className:`w-8 h-8 rounded-full border-2 ${Q.color===W?"border-gray-900":"border-gray-200"}`,style:{backgroundColor:W},onClick:()=>ve(ue=>({...ue,color:W}))},W))})]})]}),f.jsxs(vp,{children:[f.jsx(xt,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),f.jsx(xt,{onClick:K,children:"Save Changes"})]})]})}),f.jsx(co,{open:b,onOpenChange:T,children:f.jsxs(uo,{className:"max-w-4xl",children:[f.jsxs(fo,{children:[f.jsxs(ho,{children:["Manage Contacts - ",j==null?void 0:j.name]}),f.jsx(hu,{children:"Add or remove contacts from this group. Select contacts below and assign them to this group."})]}),j&&f.jsxs("div",{className:"grid gap-4 py-4",children:[f.jsxs("div",{children:[f.jsxs(Xt,{className:"text-sm font-medium",children:["Current Members (",L(j.id).length,")"]}),f.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border rounded p-2",children:L(j.id).length===0?f.jsx("p",{className:"text-sm text-muted-foreground",children:"No contacts in this group"}):f.jsx("div",{className:"flex flex-wrap gap-1",children:L(j.id).map(W=>f.jsx(Br,{variant:"outline",className:"text-xs",children:W.name},W.id))})})]}),f.jsxs("div",{children:[f.jsx(Xt,{className:"text-sm font-medium",children:"Available Contacts"}),f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"relative mb-4",children:[f.jsx(Eg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Cr,{placeholder:"Search contacts to add...",value:B,onChange:W=>V(W.target.value),className:"pl-10"})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto border rounded",children:f.jsxs(zp,{children:[f.jsx(Vp,{children:f.jsxs(Di,{children:[f.jsx(an,{className:"w-12",children:"Select"}),f.jsx(an,{children:"Name"}),f.jsx(an,{children:"Phone"}),f.jsx(an,{children:"Current Group"})]})}),f.jsx(Hp,{children:u.map(W=>{var ue;return f.jsxs(Di,{children:[f.jsx(kr,{children:f.jsx(E2,{checked:ne.includes(W.id),onCheckedChange:he=>{ie(he?Re=>[...Re,W.id]:Re=>Re.filter(ye=>ye!==W.id))}})}),f.jsx(kr,{className:"font-medium",children:W.name}),f.jsx(kr,{children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(cT,{className:"h-3 w-3 text-muted-foreground"}),f.jsx("span",{className:"text-sm",children:W.phone})]})}),f.jsx(kr,{children:f.jsx(Br,{variant:"outline",className:"text-xs",children:((ue=a.find(he=>he.id===W.group_id))==null?void 0:ue.name)||"Unknown"})})]},W.id)})})]})})]})]})]}),f.jsxs(vp,{children:[f.jsx(xt,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),f.jsxs(xt,{onClick:()=>j&&le(j.id,ne),disabled:ne.length===0,children:["Assign ",ne.length," Contact(s) to Group"]})]})]})}),f.jsx(N0,{open:M,onOpenChange:k,children:f.jsxs(j0,{children:[f.jsxs(R0,{children:[f.jsx(D0,{children:"Are you sure?"}),f.jsxs(P0,{children:['This action cannot be undone. This will permanently delete the group "',D==null?void 0:D.name,'". Contacts in this group will be moved to the default group.']})]}),f.jsxs(O0,{children:[f.jsx(F0,{onClick:()=>{k(!1),O(null)},children:"Cancel"}),f.jsx(nf,{onClick:re,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}var V1="Tabs",[xxe]=zi(V1,[_1]),JB=_1(),[wxe,Fk]=xxe(V1),ZB=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:u="automatic",...d}=e,m=Ng(l),[p,v]=ec({prop:n,onChange:a,defaultProp:s??"",caller:V1});return f.jsx(wxe,{scope:r,baseId:Xo(),value:p,onValueChange:v,orientation:i,dir:m,activationMode:u,children:f.jsx(Wt.div,{dir:m,"data-orientation":i,...d,ref:t})})});ZB.displayName=V1;var eU="TabsList",tU=E.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=Fk(eU,r),i=JB(r);return f.jsx(e6,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:f.jsx(Wt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});tU.displayName=eU;var rU="TabsTrigger",nU=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=Fk(rU,r),l=JB(r),u=iU(i.baseId,n),d=oU(i.baseId,n),m=n===i.value;return f.jsx(t6,{asChild:!0,...l,focusable:!a,active:m,children:f.jsx(Wt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...s,ref:t,onMouseDown:yt(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?i.onValueChange(n):p.preventDefault()}),onKeyDown:yt(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&i.onValueChange(n)}),onFocus:yt(e.onFocus,()=>{const p=i.activationMode!=="manual";!m&&!a&&p&&i.onValueChange(n)})})})});nU.displayName=rU;var aU="TabsContent",sU=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=Fk(aU,r),u=iU(l.baseId,n),d=oU(l.baseId,n),m=n===l.value,p=E.useRef(m);return E.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),f.jsx(wo,{present:a||m,children:({present:v})=>f.jsx(Wt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&s})})});sU.displayName=aU;function iU(e,t){return`${e}-trigger-${t}`}function oU(e,t){return`${e}-content-${t}`}var _xe=ZB,bxe=tU,Sxe=nU,Exe=sU;function lU({className:e,...t}){return f.jsx(_xe,{"data-slot":"tabs",className:jt("flex flex-col gap-2",e),...t})}function cU({className:e,...t}){return f.jsx(bxe,{"data-slot":"tabs-list",className:jt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Ho({className:e,...t}){return f.jsx(Sxe,{"data-slot":"tabs-trigger",className:jt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function $o({className:e,...t}){return f.jsx(Exe,{"data-slot":"tabs-content",className:jt("flex-1 outline-none",e),...t})}var V0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Txe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zc,cE,lD,kxe=(lD=class{constructor(){Bt(this,Zc,Txe);Bt(this,cE,!1)}setTimeoutProvider(e){_t(this,Zc,e)}setTimeout(e,t){return ge(this,Zc).setTimeout(e,t)}clearTimeout(e){ge(this,Zc).clearTimeout(e)}setInterval(e,t){return ge(this,Zc).setInterval(e,t)}clearInterval(e){ge(this,Zc).clearInterval(e)}},Zc=new WeakMap,cE=new WeakMap,lD),Md=new kxe;function Cxe(e){setTimeout(e,0)}var df=typeof window>"u"||"Deno"in globalThis;function xs(){}function Axe(e,t){return typeof e=="function"?e(t):e}function G2(e){return typeof e=="number"&&e>=0&&e!==1/0}function uU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pu(e,t){return typeof e=="function"?e(t):e}function ji(e,t){return typeof e=="function"?e(t):e}function HO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Ik(i,t.options))return!1}else if(!sg(t.queryKey,i))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function $O(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(ff(t.options.mutationKey)!==ff(s))return!1}else if(!sg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Ik(e,t){return((t==null?void 0:t.queryKeyHashFn)||ff)(e)}function ff(e){return JSON.stringify(e,(t,r)=>W2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>sg(e[r],t[r])):!1}var Mxe=Object.prototype.hasOwnProperty;function dU(e,t){if(e===t)return e;const r=qO(e)&&qO(t);if(!r&&!(W2(e)&&W2(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),i=s.length,l=r?new Array(i):{};let u=0;for(let d=0;d<i;d++){const m=r?d:s[d],p=e[m],v=t[m];if(p===v){l[m]=p,(r?d<a:Mxe.call(e,m))&&u++;continue}if(p===null||v===null||typeof p!="object"||typeof v!="object"){l[m]=v;continue}const y=dU(p,v);l[m]=y,y===p&&u++}return a===i&&u===a?e:l}function e1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W2(e){if(!GO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!GO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nxe(e){return new Promise(t=>{Md.setTimeout(t,e)})}function K2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?dU(e,t):t}function jxe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Rxe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Lk=Symbol();function fU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hU(e,t){return typeof e=="function"?e(...t):!!e}var Nd,eu,qh,cD,Oxe=(cD=class extends V0{constructor(){super();Bt(this,Nd);Bt(this,eu);Bt(this,qh);_t(this,qh,t=>{if(!df&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ge(this,eu)||this.setEventListener(ge(this,qh))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,eu))==null||t.call(this),_t(this,eu,void 0))}setEventListener(t){var r;_t(this,qh,t),(r=ge(this,eu))==null||r.call(this),_t(this,eu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ge(this,Nd)!==t&&(_t(this,Nd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ge(this,Nd)=="boolean"?ge(this,Nd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nd=new WeakMap,eu=new WeakMap,qh=new WeakMap,cD),Bk=new Oxe;function X2(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Dxe=Cxe;function Pxe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Dxe;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||i()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var xa=Pxe(),Gh,tu,Wh,uD,Fxe=(uD=class extends V0{constructor(){super();Bt(this,Gh,!0);Bt(this,tu);Bt(this,Wh);_t(this,Wh,t=>{if(!df&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ge(this,tu)||this.setEventListener(ge(this,Wh))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,tu))==null||t.call(this),_t(this,tu,void 0))}setEventListener(t){var r;_t(this,Wh,t),(r=ge(this,tu))==null||r.call(this),_t(this,tu,t(this.setOnline.bind(this)))}setOnline(t){ge(this,Gh)!==t&&(_t(this,Gh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ge(this,Gh)}},Gh=new WeakMap,tu=new WeakMap,Wh=new WeakMap,uD),t1=new Fxe;function Ixe(e){return Math.min(1e3*2**e,3e4)}function mU(e){return(e??"online")==="online"?t1.isOnline():!0}var Y2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pU(e){let t=!1,r=0,n;const a=X2(),s=()=>a.status!=="pending",i=x=>{var b;if(!s()){const T=new Y2(x);v(T),(b=e.onCancel)==null||b.call(e,T)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>Bk.isFocused()&&(e.networkMode==="always"||t1.isOnline())&&e.canRun(),m=()=>mU(e.networkMode)&&e.canRun(),p=x=>{s()||(n==null||n(),a.resolve(x))},v=x=>{s()||(n==null||n(),a.reject(x))},y=()=>new Promise(x=>{var b;n=T=>{(s()||d())&&x(T)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),w=()=>{if(s())return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(T){x=Promise.reject(T)}Promise.resolve(x).then(p).catch(T=>{var D;if(s())return;const M=e.retry??(df?0:3),k=e.retryDelay??Ixe,j=typeof k=="function"?k(r,T):k,R=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,T);if(t||!R){v(T);return}r++,(D=e.onFail)==null||D.call(e,r,T),Nxe(j).then(()=>d()?void 0:y()).then(()=>{t?v(T):w()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:u,canStart:m,start:()=>(m()?w():y().then(w),a)}}var jd,dD,gU=(dD=class{constructor(){Bt(this,jd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),G2(this.gcTime)&&_t(this,jd,Md.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(df?1/0:300*1e3))}clearGcTimeout(){ge(this,jd)&&(Md.clearTimeout(ge(this,jd)),_t(this,jd,void 0))}},jd=new WeakMap,dD),Rd,Kh,Ai,Od,Ca,og,Dd,no,Dl,fD,Lxe=(fD=class extends gU{constructor(t){super();Bt(this,no);Bt(this,Rd);Bt(this,Kh);Bt(this,Ai);Bt(this,Od);Bt(this,Ca);Bt(this,og);Bt(this,Dd);_t(this,Dd,!1),_t(this,og,t.defaultOptions),this.setOptions(t.options),this.observers=[],_t(this,Od,t.client),_t(this,Ai,ge(this,Od).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_t(this,Rd,KO(this.options)),this.state=t.state??ge(this,Rd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ge(this,Ca))==null?void 0:t.promise}setOptions(t){if(this.options={...ge(this,og),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=KO(this.options);r.data!==void 0&&(this.setState(WO(r.data,r.dataUpdatedAt)),_t(this,Rd,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Ai).remove(this)}setData(t,r){const n=K2(this.state.data,t,this.options);return gr(this,no,Dl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){gr(this,no,Dl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ge(this,Ca))==null?void 0:n.promise;return(a=ge(this,Ca))==null||a.cancel(t),r?r.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,Rd))}isActive(){return this.observers.some(t=>ji(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!uU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ge(this,Ca))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ge(this,Ca))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ge(this,Ai).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ge(this,Ca)&&(ge(this,Dd)?ge(this,Ca).cancel({revert:!0}):ge(this,Ca).cancelRetry()),this.scheduleGc()),ge(this,Ai).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gr(this,no,Dl).call(this,{type:"invalidate"})}async fetch(t,r){var u,d,m,p,v,y,w,x,b,T,M,k;if(this.state.fetchStatus!=="idle"&&((u=ge(this,Ca))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Ca))return ge(this,Ca).continueRetry(),ge(this,Ca).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(R=>R.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(_t(this,Dd,!0),n.signal)})},s=()=>{const j=fU(this.options,r),D=(()=>{const O={client:ge(this,Od),queryKey:this.queryKey,meta:this.meta};return a(O),O})();return _t(this,Dd,!1),this.options.persister?this.options.persister(j,D,this):j(D)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ge(this,Od),state:this.state,fetchFn:s};return a(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),_t(this,Kh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&gr(this,no,Dl).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),_t(this,Ca,pU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Y2&&j.revert&&this.setState({...ge(this,Kh),fetchStatus:"idle"}),n.abort()},onFail:(j,R)=>{gr(this,no,Dl).call(this,{type:"failed",failureCount:j,error:R})},onPause:()=>{gr(this,no,Dl).call(this,{type:"pause"})},onContinue:()=>{gr(this,no,Dl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await ge(this,Ca).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(y=(v=ge(this,Ai).config).onSuccess)==null||y.call(v,j,this),(x=(w=ge(this,Ai).config).onSettled)==null||x.call(w,j,this.state.error,this),j}catch(j){if(j instanceof Y2){if(j.silent)return ge(this,Ca).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw gr(this,no,Dl).call(this,{type:"error",error:j}),(T=(b=ge(this,Ai).config).onError)==null||T.call(b,j,this),(k=(M=ge(this,Ai).config).onSettled)==null||k.call(M,this.state.data,j,this),j}finally{this.scheduleGc()}}},Rd=new WeakMap,Kh=new WeakMap,Ai=new WeakMap,Od=new WeakMap,Ca=new WeakMap,og=new WeakMap,Dd=new WeakMap,no=new WeakSet,Dl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vU(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...WO(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _t(this,Kh,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xa.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ge(this,Ai).notify({query:this,type:"updated",action:t})})},fD);function vU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WO(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function KO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Rs,Pr,lg,ms,Pd,Xh,Fl,ru,cg,Yh,Qh,Fd,Id,nu,Jh,Jr,rp,Q2,J2,Z2,eE,tE,rE,nE,yU,hD,Bxe=(hD=class extends V0{constructor(t,r){super();Bt(this,Jr);Bt(this,Rs);Bt(this,Pr);Bt(this,lg);Bt(this,ms);Bt(this,Pd);Bt(this,Xh);Bt(this,Fl);Bt(this,ru);Bt(this,cg);Bt(this,Yh);Bt(this,Qh);Bt(this,Fd);Bt(this,Id);Bt(this,nu);Bt(this,Jh,new Set);this.options=r,_t(this,Rs,t),_t(this,ru,null),_t(this,Fl,X2()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,Pr).addObserver(this),XO(ge(this,Pr),this.options)?gr(this,Jr,rp).call(this):this.updateResult(),gr(this,Jr,eE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aE(ge(this,Pr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aE(ge(this,Pr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,gr(this,Jr,tE).call(this),gr(this,Jr,rE).call(this),ge(this,Pr).removeObserver(this)}setOptions(t){const r=this.options,n=ge(this,Pr);if(this.options=ge(this,Rs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ji(this.options.enabled,ge(this,Pr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");gr(this,Jr,nE).call(this),ge(this,Pr).setOptions(this.options),r._defaulted&&!e1(this.options,r)&&ge(this,Rs).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,Pr),observer:this});const a=this.hasListeners();a&&YO(ge(this,Pr),n,this.options,r)&&gr(this,Jr,rp).call(this),this.updateResult(),a&&(ge(this,Pr)!==n||ji(this.options.enabled,ge(this,Pr))!==ji(r.enabled,ge(this,Pr))||pu(this.options.staleTime,ge(this,Pr))!==pu(r.staleTime,ge(this,Pr)))&&gr(this,Jr,Q2).call(this);const s=gr(this,Jr,J2).call(this);a&&(ge(this,Pr)!==n||ji(this.options.enabled,ge(this,Pr))!==ji(r.enabled,ge(this,Pr))||s!==ge(this,nu))&&gr(this,Jr,Z2).call(this,s)}getOptimisticResult(t){const r=ge(this,Rs).getQueryCache().build(ge(this,Rs),t),n=this.createResult(r,t);return zxe(this,n)&&(_t(this,ms,n),_t(this,Xh,this.options),_t(this,Pd,ge(this,Pr).state)),n}getCurrentResult(){return ge(this,ms)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ge(this,Fl).status==="pending"&&ge(this,Fl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){ge(this,Jh).add(t)}getCurrentQuery(){return ge(this,Pr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ge(this,Rs).defaultQueryOptions(t),n=ge(this,Rs).getQueryCache().build(ge(this,Rs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return gr(this,Jr,rp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,ms)))}createResult(t,r){var V;const n=ge(this,Pr),a=this.options,s=ge(this,ms),i=ge(this,Pd),l=ge(this,Xh),d=t!==n?t.state:ge(this,lg),{state:m}=t;let p={...m},v=!1,y;if(r._optimisticResults){const ne=this.hasListeners(),ie=!ne&&XO(t,r),Q=ne&&YO(t,n,r,a);(ie||Q)&&(p={...p,...vU(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:b}=p;y=p.data;let T=!1;if(r.placeholderData!==void 0&&y===void 0&&b==="pending"){let ne;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(ne=s.data,T=!0):ne=typeof r.placeholderData=="function"?r.placeholderData((V=ge(this,Qh))==null?void 0:V.state.data,ge(this,Qh)):r.placeholderData,ne!==void 0&&(b="success",y=K2(s==null?void 0:s.data,ne,r),v=!0)}if(r.select&&y!==void 0&&!T)if(s&&y===(i==null?void 0:i.data)&&r.select===ge(this,cg))y=ge(this,Yh);else try{_t(this,cg,r.select),y=r.select(y),y=K2(s==null?void 0:s.data,y,r),_t(this,Yh,y),_t(this,ru,null)}catch(ne){_t(this,ru,ne)}ge(this,ru)&&(w=ge(this,ru),y=ge(this,Yh),x=Date.now(),b="error");const M=p.fetchStatus==="fetching",k=b==="pending",j=b==="error",R=k&&M,D=y!==void 0,B={status:b,fetchStatus:p.fetchStatus,isPending:k,isSuccess:b==="success",isError:j,isInitialLoading:R,isLoading:R,data:y,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:M,isRefetching:M&&!k,isLoadingError:j&&!D,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:j&&D,isStale:Uk(t,r),refetch:this.refetch,promise:ge(this,Fl),isEnabled:ji(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ne=ve=>{B.status==="error"?ve.reject(B.error):B.data!==void 0&&ve.resolve(B.data)},ie=()=>{const ve=_t(this,Fl,B.promise=X2());ne(ve)},Q=ge(this,Fl);switch(Q.status){case"pending":t.queryHash===n.queryHash&&ne(Q);break;case"fulfilled":(B.status==="error"||B.data!==Q.value)&&ie();break;case"rejected":(B.status!=="error"||B.error!==Q.reason)&&ie();break}}return B}updateResult(){const t=ge(this,ms),r=this.createResult(ge(this,Pr),this.options);if(_t(this,Pd,ge(this,Pr).state),_t(this,Xh,this.options),ge(this,Pd).data!==void 0&&_t(this,Qh,ge(this,Pr)),e1(r,t))return;_t(this,ms,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!ge(this,Jh).size)return!0;const i=new Set(s??ge(this,Jh));return this.options.throwOnError&&i.add("error"),Object.keys(ge(this,ms)).some(l=>{const u=l;return ge(this,ms)[u]!==t[u]&&i.has(u)})};gr(this,Jr,yU).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&gr(this,Jr,eE).call(this)}},Rs=new WeakMap,Pr=new WeakMap,lg=new WeakMap,ms=new WeakMap,Pd=new WeakMap,Xh=new WeakMap,Fl=new WeakMap,ru=new WeakMap,cg=new WeakMap,Yh=new WeakMap,Qh=new WeakMap,Fd=new WeakMap,Id=new WeakMap,nu=new WeakMap,Jh=new WeakMap,Jr=new WeakSet,rp=function(t){gr(this,Jr,nE).call(this);let r=ge(this,Pr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xs)),r},Q2=function(){gr(this,Jr,tE).call(this);const t=pu(this.options.staleTime,ge(this,Pr));if(df||ge(this,ms).isStale||!G2(t))return;const n=uU(ge(this,ms).dataUpdatedAt,t)+1;_t(this,Fd,Md.setTimeout(()=>{ge(this,ms).isStale||this.updateResult()},n))},J2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,Pr)):this.options.refetchInterval)??!1},Z2=function(t){gr(this,Jr,rE).call(this),_t(this,nu,t),!(df||ji(this.options.enabled,ge(this,Pr))===!1||!G2(ge(this,nu))||ge(this,nu)===0)&&_t(this,Id,Md.setInterval(()=>{(this.options.refetchIntervalInBackground||Bk.isFocused())&&gr(this,Jr,rp).call(this)},ge(this,nu)))},eE=function(){gr(this,Jr,Q2).call(this),gr(this,Jr,Z2).call(this,gr(this,Jr,J2).call(this))},tE=function(){ge(this,Fd)&&(Md.clearTimeout(ge(this,Fd)),_t(this,Fd,void 0))},rE=function(){ge(this,Id)&&(Md.clearInterval(ge(this,Id)),_t(this,Id,void 0))},nE=function(){const t=ge(this,Rs).getQueryCache().build(ge(this,Rs),this.options);if(t===ge(this,Pr))return;const r=ge(this,Pr);_t(this,Pr,t),_t(this,lg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},yU=function(t){xa.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ge(this,ms))}),ge(this,Rs).getQueryCache().notify({query:ge(this,Pr),type:"observerResultsUpdated"})})},hD);function Uxe(e,t){return ji(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function XO(e,t){return Uxe(e,t)||e.state.data!==void 0&&aE(e,t,t.refetchOnMount)}function aE(e,t,r){if(ji(t.enabled,e)!==!1&&pu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Uk(e,t)}return!1}function YO(e,t,r,n){return(e!==t||ji(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Uk(e,r)}function Uk(e,t){return ji(t.enabled,e)!==!1&&e.isStaleByTime(pu(t.staleTime,e))}function zxe(e,t){return!e1(e.getCurrentResult(),t)}function QO(e){return{onFetch:(t,r)=>{var m,p,v,y,w;const n=t.options,a=(v=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,s=((y=t.state.data)==null?void 0:y.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let x=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},T=fU(t.options,t.fetchOptions),M=async(k,j,R)=>{if(x)return Promise.reject();if(j==null&&k.pages.length)return Promise.resolve(k);const O=(()=>{const ie={client:t.client,queryKey:t.queryKey,pageParam:j,direction:R?"backward":"forward",meta:t.options.meta};return b(ie),ie})(),B=await T(O),{maxPages:V}=t.options,ne=R?Rxe:jxe;return{pages:ne(k.pages,B,V),pageParams:ne(k.pageParams,j,V)}};if(a&&s.length){const k=a==="backward",j=k?Vxe:JO,R={pages:s,pageParams:i},D=j(n,R);l=await M(R,D,k)}else{const k=e??s.length;do{const j=u===0?i[0]??n.initialPageParam:JO(n,l);if(u>0&&j==null)break;l=await M(l,j),u++}while(u<k)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function JO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Vxe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ug,Uo,ps,Ld,zo,Qc,mD,Hxe=(mD=class extends gU{constructor(t){super();Bt(this,zo);Bt(this,ug);Bt(this,Uo);Bt(this,ps);Bt(this,Ld);_t(this,ug,t.client),this.mutationId=t.mutationId,_t(this,ps,t.mutationCache),_t(this,Uo,[]),this.state=t.state||xU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ge(this,Uo).includes(t)||(ge(this,Uo).push(t),this.clearGcTimeout(),ge(this,ps).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_t(this,Uo,ge(this,Uo).filter(r=>r!==t)),this.scheduleGc(),ge(this,ps).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ge(this,Uo).length||(this.state.status==="pending"?this.scheduleGc():ge(this,ps).remove(this))}continue(){var t;return((t=ge(this,Ld))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,u,d,m,p,v,y,w,x,b,T,M,k,j,R,D,O,B,V;const r=()=>{gr(this,zo,Qc).call(this,{type:"continue"})},n={client:ge(this,ug),meta:this.options.meta,mutationKey:this.options.mutationKey};_t(this,Ld,pU({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(ne,ie)=>{gr(this,zo,Qc).call(this,{type:"failed",failureCount:ne,error:ie})},onPause:()=>{gr(this,zo,Qc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,ps).canRun(this)}));const a=this.state.status==="pending",s=!ge(this,Ld).canStart();try{if(a)r();else{gr(this,zo,Qc).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=ge(this,ps).config).onMutate)==null?void 0:l.call(i,t,this,n));const ie=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t,n));ie!==this.state.context&&gr(this,zo,Qc).call(this,{type:"pending",context:ie,variables:t,isPaused:s})}const ne=await ge(this,Ld).start();return await((p=(m=ge(this,ps).config).onSuccess)==null?void 0:p.call(m,ne,t,this.state.context,this,n)),await((y=(v=this.options).onSuccess)==null?void 0:y.call(v,ne,t,this.state.context,n)),await((x=(w=ge(this,ps).config).onSettled)==null?void 0:x.call(w,ne,null,this.state.variables,this.state.context,this,n)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,ne,null,t,this.state.context,n)),gr(this,zo,Qc).call(this,{type:"success",data:ne}),ne}catch(ne){try{throw await((k=(M=ge(this,ps).config).onError)==null?void 0:k.call(M,ne,t,this.state.context,this,n)),await((R=(j=this.options).onError)==null?void 0:R.call(j,ne,t,this.state.context,n)),await((O=(D=ge(this,ps).config).onSettled)==null?void 0:O.call(D,void 0,ne,this.state.variables,this.state.context,this,n)),await((V=(B=this.options).onSettled)==null?void 0:V.call(B,void 0,ne,t,this.state.context,n)),ne}finally{gr(this,zo,Qc).call(this,{type:"error",error:ne})}}finally{ge(this,ps).runNext(this)}}},ug=new WeakMap,Uo=new WeakMap,ps=new WeakMap,Ld=new WeakMap,zo=new WeakSet,Qc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xa.batch(()=>{ge(this,Uo).forEach(n=>{n.onMutationUpdate(t)}),ge(this,ps).notify({mutation:this,type:"updated",action:t})})},mD);function xU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Il,ao,dg,pD,$xe=(pD=class extends V0{constructor(t={}){super();Bt(this,Il);Bt(this,ao);Bt(this,dg);this.config=t,_t(this,Il,new Set),_t(this,ao,new Map),_t(this,dg,0)}build(t,r,n){const a=new Hxe({client:t,mutationCache:this,mutationId:++sy(this,dg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ge(this,Il).add(t);const r=Ky(t);if(typeof r=="string"){const n=ge(this,ao).get(r);n?n.push(t):ge(this,ao).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ge(this,Il).delete(t)){const r=Ky(t);if(typeof r=="string"){const n=ge(this,ao).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ge(this,ao).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ky(t);if(typeof r=="string"){const n=ge(this,ao).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ky(t);if(typeof r=="string"){const a=(n=ge(this,ao).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xa.batch(()=>{ge(this,Il).forEach(t=>{this.notify({type:"removed",mutation:t})}),ge(this,Il).clear(),ge(this,ao).clear()})}getAll(){return Array.from(ge(this,Il))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$O(r,n))}findAll(t={}){return this.getAll().filter(r=>$O(t,r))}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xa.batch(()=>Promise.all(t.map(r=>r.continue().catch(xs))))}},Il=new WeakMap,ao=new WeakMap,dg=new WeakMap,pD);function Ky(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ll,au,Os,Bl,Wl,ux,sE,gD,qxe=(gD=class extends V0{constructor(r,n){super();Bt(this,Wl);Bt(this,Ll);Bt(this,au);Bt(this,Os);Bt(this,Bl);_t(this,Ll,r),this.setOptions(n),this.bindMethods(),gr(this,Wl,ux).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ge(this,Ll).defaultMutationOptions(r),e1(this.options,n)||ge(this,Ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,Os),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ff(n.mutationKey)!==ff(this.options.mutationKey)?this.reset():((a=ge(this,Os))==null?void 0:a.state.status)==="pending"&&ge(this,Os).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ge(this,Os))==null||r.removeObserver(this)}onMutationUpdate(r){gr(this,Wl,ux).call(this),gr(this,Wl,sE).call(this,r)}getCurrentResult(){return ge(this,au)}reset(){var r;(r=ge(this,Os))==null||r.removeObserver(this),_t(this,Os,void 0),gr(this,Wl,ux).call(this),gr(this,Wl,sE).call(this)}mutate(r,n){var a;return _t(this,Bl,n),(a=ge(this,Os))==null||a.removeObserver(this),_t(this,Os,ge(this,Ll).getMutationCache().build(ge(this,Ll),this.options)),ge(this,Os).addObserver(this),ge(this,Os).execute(r)}},Ll=new WeakMap,au=new WeakMap,Os=new WeakMap,Bl=new WeakMap,Wl=new WeakSet,ux=function(){var n;const r=((n=ge(this,Os))==null?void 0:n.state)??xU();_t(this,au,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},sE=function(r){xa.batch(()=>{var n,a,s,i,l,u,d,m;if(ge(this,Bl)&&this.hasListeners()){const p=ge(this,au).variables,v=ge(this,au).context,y={client:ge(this,Ll),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=ge(this,Bl)).onSuccess)==null||a.call(n,r.data,p,v,y),(i=(s=ge(this,Bl)).onSettled)==null||i.call(s,r.data,null,p,v,y)):(r==null?void 0:r.type)==="error"&&((u=(l=ge(this,Bl)).onError)==null||u.call(l,r.error,p,v,y),(m=(d=ge(this,Bl)).onSettled)==null||m.call(d,void 0,r.error,p,v,y))}this.listeners.forEach(p=>{p(ge(this,au))})})},gD),Vo,vD,Gxe=(vD=class extends V0{constructor(t={}){super();Bt(this,Vo);this.config=t,_t(this,Vo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Ik(a,r);let i=this.get(s);return i||(i=new Lxe({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){ge(this,Vo).has(t.queryHash)||(ge(this,Vo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ge(this,Vo).get(t.queryHash);r&&(t.destroy(),r===t&&ge(this,Vo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ge(this,Vo).get(t)}getAll(){return[...ge(this,Vo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>HO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>HO(t,n)):r}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vo=new WeakMap,vD),$n,su,iu,Zh,e0,ou,t0,r0,yD,Wxe=(yD=class{constructor(e={}){Bt(this,$n);Bt(this,su);Bt(this,iu);Bt(this,Zh);Bt(this,e0);Bt(this,ou);Bt(this,t0);Bt(this,r0);_t(this,$n,e.queryCache||new Gxe),_t(this,su,e.mutationCache||new $xe),_t(this,iu,e.defaultOptions||{}),_t(this,Zh,new Map),_t(this,e0,new Map),_t(this,ou,0)}mount(){sy(this,ou)._++,ge(this,ou)===1&&(_t(this,t0,Bk.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,$n).onFocus())})),_t(this,r0,t1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,$n).onOnline())})))}unmount(){var e,t;sy(this,ou)._--,ge(this,ou)===0&&((e=ge(this,t0))==null||e.call(this),_t(this,t0,void 0),(t=ge(this,r0))==null||t.call(this),_t(this,r0,void 0))}isFetching(e){return ge(this,$n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,su).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ge(this,$n).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ge(this,$n).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(pu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ge(this,$n).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ge(this,$n).get(n.queryHash),s=a==null?void 0:a.state.data,i=Axe(t,s);if(i!==void 0)return ge(this,$n).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return xa.batch(()=>ge(this,$n).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ge(this,$n).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ge(this,$n);xa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ge(this,$n);return xa.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=xa.batch(()=>ge(this,$n).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(e,t={}){return xa.batch(()=>(ge(this,$n).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=xa.batch(()=>ge(this,$n).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(xs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ge(this,$n).build(this,t);return r.isStaleByTime(pu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=QO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=QO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return t1.isOnline()?ge(this,su).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,$n)}getMutationCache(){return ge(this,su)}getDefaultOptions(){return ge(this,iu)}setDefaultOptions(e){_t(this,iu,e)}setQueryDefaults(e,t){ge(this,Zh).set(ff(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ge(this,Zh).values()],r={};return t.forEach(n=>{sg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ge(this,e0).set(ff(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ge(this,e0).values()],r={};return t.forEach(n=>{sg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ge(this,iu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ik(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,iu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,$n).clear(),ge(this,su).clear()}},$n=new WeakMap,su=new WeakMap,iu=new WeakMap,Zh=new WeakMap,e0=new WeakMap,ou=new WeakMap,t0=new WeakMap,r0=new WeakMap,yD),wU=E.createContext(void 0),H1=e=>{const t=E.useContext(wU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Kxe=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(wU.Provider,{value:e,children:t})),_U=E.createContext(!1),Xxe=()=>E.useContext(_U);_U.Provider;function Yxe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qxe=E.createContext(Yxe()),Jxe=()=>E.useContext(Qxe),Zxe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},e1e=e=>{E.useEffect(()=>{e.clearReset()},[e])},t1e=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||hU(r,[e.error,n])),r1e=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},n1e=(e,t)=>e.isLoading&&e.isFetching&&!t,a1e=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ZO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function s1e(e,t,r){var p,v,y,w,x;const n=Xxe(),a=Jxe(),s=H1(),i=s.defaultQueryOptions(e);(v=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,i),i._optimisticResults=n?"isRestoring":"optimistic",r1e(i),Zxe(i,a),e1e(a);const l=!s.getQueryCache().get(i.queryHash),[u]=E.useState(()=>new t(s,i)),d=u.getOptimisticResult(i),m=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(b=>{const T=m?u.subscribe(xa.batchCalls(b)):xs;return u.updateResult(),T},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(i)},[i,u]),a1e(i,d))throw ZO(i,u,a);if(t1e({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((w=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||w.call(y,i,d),i.experimental_prefetchInRender&&!df&&n1e(d,n)){const b=l?ZO(i,u,a):(x=s.getQueryCache().get(i.queryHash))==null?void 0:x.promise;b==null||b.catch(xs).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?d:u.trackResult(d)}function np(e,t){return s1e(e,Bxe)}function bU(e,t){const r=H1(),[n]=E.useState(()=>new qxe(r,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);const a=E.useSyncExternalStore(E.useCallback(i=>n.subscribe(xa.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=E.useCallback((i,l)=>{n.mutate(i,l).catch(xs)},[n]);if(a.error&&hU(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function i1e(){const{data:e,isLoading:t,error:r,refetch:n}=np({queryKey:["subscription"],queryFn:Sy.getCurrentSubscription}),{data:a,isLoading:s,error:i}=np({queryKey:["pricing_plans"],queryFn:Sy.getPricingPlans}),{data:l,isLoading:u,error:d,refetch:m}=np({queryKey:["payment_history"],queryFn:Sy.getPaymentHistory}),{data:p,isLoading:v,error:y,refetch:w}=np({queryKey:["user_quota"],queryFn:Sy.getUserQuota});return{subscription:e,plans:a,history:l,quota:p,isLoading:t||s||u||v,error:r||i||d||y,refetchSubscription:n,refetchHistory:m,refetchQuota:w}}function o1e(){const e=H1();return bU({mutationFn:t=>AY.createPayment(t.planId,t.paymentMethod),onSuccess:()=>{e.invalidateQueries({queryKey:["subscription"]}),e.invalidateQueries({queryKey:["pricing_plans"]}),e.invalidateQueries({queryKey:["payment_history"]}),e.invalidateQueries({queryKey:["user_quota"]}),Bn.success("Payment initiated successfully")},onError:t=>{const r=t instanceof Error?t.message:"An unknown error occurred";Bn.error(`Payment creation failed: ${r}`)}})}const SU=6048e5,l1e=864e5,eD=Symbol.for("constructDateFrom");function Eu(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&eD in e?e[eD](t):e instanceof Date?new e.constructor(t):new Date(t)}function bo(e,t){return Eu(t||e,e)}let c1e={};function $1(){return c1e}function ig(e,t){var l,u,d,m;const r=$1(),n=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=bo(e,t==null?void 0:t.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function r1(e,t){return ig(e,{...t,weekStartsOn:1})}function EU(e,t){const r=bo(e,t==null?void 0:t.in),n=r.getFullYear(),a=Eu(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=r1(a),i=Eu(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=r1(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function tD(e){const t=bo(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function u1e(e,...t){const r=Eu.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function rD(e,t){const r=bo(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function d1e(e,t,r){const[n,a]=u1e(r==null?void 0:r.in,e,t),s=rD(n),i=rD(a),l=+s-tD(s),u=+i-tD(i);return Math.round((l-u)/l1e)}function f1e(e,t){const r=EU(e,t),n=Eu(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),r1(n)}function h1e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function m1e(e){return!(!h1e(e)&&typeof e!="number"||isNaN(+bo(e)))}function p1e(e,t){const r=bo(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const g1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v1e=(e,t,r)=>{let n;const a=g1e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function mS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const y1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_1e={date:mS({formats:y1e,defaultWidth:"full"}),time:mS({formats:x1e,defaultWidth:"full"}),dateTime:mS({formats:w1e,defaultWidth:"full"})},b1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S1e=(e,t,r,n)=>b1e[e];function Wm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const E1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N1e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},j1e={ordinalNumber:N1e,era:Wm({values:E1e,defaultWidth:"wide"}),quarter:Wm({values:T1e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wm({values:k1e,defaultWidth:"wide"}),day:Wm({values:C1e,defaultWidth:"wide"}),dayPeriod:Wm({values:A1e,defaultWidth:"wide",formattingValues:M1e,defaultFormattingWidth:"wide"})};function Km(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?O1e(l,p=>p.test(i)):R1e(l,p=>p.test(i));let d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const m=t.slice(i.length);return{value:d,rest:m}}}function R1e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function O1e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function D1e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const P1e=/^(\d+)(th|st|nd|rd)?/i,F1e=/\d+/i,I1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L1e={any:[/^b/i,/^(a|c)/i]},B1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U1e={any:[/1/i,/2/i,/3/i,/4/i]},z1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},W1e={ordinalNumber:D1e({matchPattern:P1e,parsePattern:F1e,valueCallback:e=>parseInt(e,10)}),era:Km({matchPatterns:I1e,defaultMatchWidth:"wide",parsePatterns:L1e,defaultParseWidth:"any"}),quarter:Km({matchPatterns:B1e,defaultMatchWidth:"wide",parsePatterns:U1e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Km({matchPatterns:z1e,defaultMatchWidth:"wide",parsePatterns:V1e,defaultParseWidth:"any"}),day:Km({matchPatterns:H1e,defaultMatchWidth:"wide",parsePatterns:$1e,defaultParseWidth:"any"}),dayPeriod:Km({matchPatterns:q1e,defaultMatchWidth:"any",parsePatterns:G1e,defaultParseWidth:"any"})},K1e={code:"en-US",formatDistance:v1e,formatLong:_1e,formatRelative:S1e,localize:j1e,match:W1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X1e(e,t){const r=bo(e,t==null?void 0:t.in);return d1e(r,p1e(r))+1}function Y1e(e,t){const r=bo(e,t==null?void 0:t.in),n=+r1(r)-+f1e(r);return Math.round(n/SU)+1}function TU(e,t){var m,p,v,y;const r=bo(e,t==null?void 0:t.in),n=r.getFullYear(),a=$1(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(v=a.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,i=Eu((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=ig(i,t),u=Eu((t==null?void 0:t.in)||e,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=ig(u,t);return+r>=+l?n+1:+r>=+d?n:n-1}function Q1e(e,t){var l,u,d,m;const r=$1(),n=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=TU(e,t),s=Eu((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),ig(s,t)}function J1e(e,t){const r=bo(e,t==null?void 0:t.in),n=+ig(r,t)-+Q1e(r,t);return Math.round(n/SU)+1}function rn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Kc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return rn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):rn(r+1,2)},d(e,t){return rn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return rn(e.getHours()%12||12,t.length)},H(e,t){return rn(e.getHours(),t.length)},m(e,t){return rn(e.getMinutes(),t.length)},s(e,t){return rn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return rn(a,t.length)}},Th={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Kc.y(e,t)},Y:function(e,t,r,n){const a=TU(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return rn(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):rn(s,t.length)},R:function(e,t){const r=EU(e);return rn(r,t.length)},u:function(e,t){const r=e.getFullYear();return rn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return rn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return rn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Kc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return rn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=J1e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):rn(a,t.length)},I:function(e,t,r){const n=Y1e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):rn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Kc.d(e,t)},D:function(e,t,r){const n=X1e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):rn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return rn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return rn(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return rn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Th.noon:n===0?a=Th.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Th.evening:n>=12?a=Th.afternoon:n>=4?a=Th.morning:a=Th.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Kc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Kc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):rn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):rn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Kc.s(e,t)},S:function(e,t){return Kc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sD(n);case"XXXX":case"XX":return pd(n);case"XXXXX":case"XXX":default:return pd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sD(n);case"xxxx":case"xx":return pd(n);case"xxxxx":case"xxx":default:return pd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aD(n,":");case"OOOO":default:return"GMT"+pd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aD(n,":");case"zzzz":default:return"GMT"+pd(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return rn(n,t.length)},T:function(e,t,r){return rn(+e,t.length)}};function aD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+rn(s,2)}function sD(e,t){return e%60===0?(e>0?"-":"+")+rn(Math.abs(e)/60,2):pd(e,t)}function pd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=rn(Math.trunc(n/60),2),s=rn(n%60,2);return r+a+t+s}const iD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z1e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return iD(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",iD(n,t)).replace("{{time}}",kU(a,t))},ewe={p:kU,P:Z1e},twe=/^D+$/,rwe=/^Y+$/,nwe=["D","DD","YY","YYYY"];function awe(e){return twe.test(e)}function swe(e){return rwe.test(e)}function iwe(e,t,r){const n=owe(e,t,r);if(console.warn(n),nwe.includes(e))throw new RangeError(n)}function owe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uwe=/^'([^]*?)'?$/,dwe=/''/g,fwe=/[a-zA-Z]/;function CU(e,t,r){var m,p,v,y;const n=$1(),a=n.locale??K1e,s=n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=bo(e,r==null?void 0:r.in);if(!m1e(l))throw new RangeError("Invalid time value");let u=t.match(cwe).map(w=>{const x=w[0];if(x==="p"||x==="P"){const b=ewe[x];return b(w,a.formatLong)}return w}).join("").match(lwe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:hwe(w)};if(nD[x])return{isToken:!0,value:w};if(x.match(fwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return u.map(w=>{if(!w.isToken)return w.value;const x=w.value;(swe(x)||awe(x))&&iwe(x,t,String(e));const b=nD[x[0]];return b(l,x,a.localize,d)}).join("")}function hwe(e){const t=e.match(uwe);return t?t[1].replace(dwe,"'"):e}function mwe({subscription:e,quota:t,isLoading:r,onUpgradeClick:n}){if(r)return f.jsx(vn,{children:f.jsx(Rt,{className:"pt-6 flex justify-center items-center min-h-[200px]",children:f.jsx(Is,{className:"h-8 w-8 animate-spin text-primary"})})});const a=(t==null?void 0:t.plan_type)||(e==null?void 0:e.plan_type)||"free",s=a==="pro",i=(e==null?void 0:e.status)==="active",l=(t==null?void 0:t.messages_limit)||0,u=(t==null?void 0:t.messages_used)||0,d=s||l>=999999,m=d?0:Math.min(100,u/l*100),p=(t==null?void 0:t.reset_date)||(e==null?void 0:e.valid_until),v=()=>{if(t!=null&&t.reset_date){const w=new Date(t.reset_date),x=new Date,b=Math.ceil((w.getTime()-x.getTime())/(1e3*60*60*24));if(b>300)return"Yearly";if(b>20&&b<40)return"Monthly"}return(e==null?void 0:e.billing_cycle)||"Monthly"},y=()=>s?v()==="Yearly"?96e4:1e5:(e==null?void 0:e.price)||0;return f.jsxs(vn,{className:"w-full",children:[f.jsx(It,{children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs(Lt,{className:"text-2xl font-bold flex items-center gap-2",children:[a.charAt(0).toUpperCase()+a.slice(1)," Plan",i&&f.jsx(Br,{variant:"default",className:"bg-green-500",children:"Active"})]}),f.jsx(ln,{children:p?`Renews on ${CU(new Date(p),"MMMM d, yyyy")}`:"You are currently on the free plan"})]}),f.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:f.jsx(m1,{className:"h-6 w-6 text-primary"})})]})}),f.jsxs(Rt,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[f.jsx("span",{children:"Message Quota"}),f.jsxs("span",{children:[u.toLocaleString()," / ",d?f.jsx("span",{className:"text-lg leading-none",children:""}):l.toLocaleString()]})]}),f.jsx(Ig,{value:m,className:"h-2"}),f.jsx("p",{className:"text-xs text-muted-foreground text-right",children:d?"You have unlimited messages":`${(l-u).toLocaleString()} messages remaining this month`})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground",children:"Billing Cycle"}),f.jsx("p",{className:"font-medium",children:v()})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground",children:"Amount"}),f.jsx("p",{className:"font-medium",children:a==="free"?"Free":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(y())})]})]})]}),f.jsx(DP,{children:!s&&f.jsx(xt,{onClick:n,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg",children:"Upgrade Plan"})})]})}function pwe({plans:e,currentPlanType:t,onSelectPlan:r,isLoading:n}){return n?f.jsx("div",{className:"text-center py-10",children:"Loading plans..."}):f.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:e.map(a=>{const s=a.plan_type===t,i=a.plan_type==="pro";return f.jsxs(vn,{className:`relative flex flex-col ${i?"border-primary shadow-lg scale-105":""}`,children:[i&&f.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:f.jsx(Br,{className:"bg-primary text-primary-foreground px-3 py-1",children:"Most Popular"})}),f.jsxs(It,{children:[f.jsx(Lt,{className:"text-xl",children:a.plan_name}),f.jsx(ln,{children:a.description}),f.jsxs("div",{className:"mt-4",children:[f.jsx("span",{className:"text-3xl font-bold",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(a.price)}),f.jsxs("span",{className:"text-muted-foreground",children:["/",a.billing_cycle==="monthly"?"mo":"yr"]})]})]}),f.jsx(Rt,{className:"flex-1",children:f.jsx("ul",{className:"space-y-3 text-sm",children:a.features.map((l,u)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(kd,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),f.jsx("span",{children:l})]},u))})}),f.jsx(DP,{children:f.jsx(xt,{className:"w-full",variant:s?"outline":i?"default":"secondary",disabled:s,onClick:()=>r(a),children:s?"Current Plan":"Choose Plan"})})]},a.id)})})}const gwe=[{value:"OL",label:"Kartu Kredit/Debit"},{value:"DA",label:"DANA"},{value:"LQRIS",label:"Link QRIS"},{value:"NQRIS",label:"QRIS"},{value:"BC",label:"Bank Transfer"},{value:"VA_BCA_A1",label:"VA BCA (A1)"}];function vwe({isOpen:e,onClose:t,plan:r,onConfirm:n,isProcessing:a}){const[s,i]=E.useState(null),l=()=>{s&&(n(s),i(null))};return r?f.jsx(co,{open:e,onOpenChange:t,children:f.jsxs(uo,{className:"max-w-md sm:max-w-lg",children:[f.jsxs(fo,{children:[f.jsx(ho,{children:"Pilih Metode Pembayaran"}),f.jsxs(hu,{children:["Lengkapi pembayaran untuk ",f.jsx("strong",{children:r.name}),f.jsx("br",{}),f.jsxs("span",{className:"text-2xl font-bold text-primary",children:["Rp ",r.price.toLocaleString("id-ID")]}),r.description&&f.jsx("p",{className:"mt-2 text-sm",children:r.description})]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-2 py-4 sm:grid-cols-2",children:gwe.map(u=>f.jsx(xt,{variant:s===u.value?"default":"outline",className:"justify-start h-12",onClick:()=>i(u.value),disabled:a,children:u.label},u.value))}),f.jsxs(vp,{children:[f.jsx(xt,{type:"button",variant:"outline",onClick:t,disabled:a,children:"Batal"}),f.jsx(xt,{onClick:l,disabled:!s||a,className:"ml-auto sm:ml-0",children:a?"Memproses...":"Bayar Sekarang"})]})]})}):null}function ywe(){return np({queryKey:["billingInfo"],queryFn:async()=>{const e=await Nr.getCurrentMasterUserId();if(!e)throw new Error("User ID not found");return jF.getBillingInfo(e)}})}function xwe(){const e=H1();return bU({mutationFn:async t=>{const r=await Nr.getCurrentMasterUserId();if(!r)throw new Error("User ID not found");return jF.saveBillingInfo(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["billingInfo"]}),Bn.success("Billing information saved successfully")},onError:t=>{Bn.error(`Failed to save billing information: ${t.message}`)}})}function wwe(){const{data:e,isLoading:t}=ywe(),r=xwe(),[n,a]=E.useState(!1),[s,i]=E.useState({full_name:"",company_name:"",tax_id:"",email:"",phone:"",street_address:"",city:"",state:"",postal_code:"",country:"Indonesia"});E.useEffect(()=>{e&&i({full_name:e.full_name||"",company_name:e.company_name||"",tax_id:e.tax_id||"",email:e.email||"",phone:e.phone||"",street_address:e.street_address||"",city:e.city||"",state:e.state||"",postal_code:e.postal_code||"",country:e.country||"Indonesia"})},[e]);const l=async d=>{d.preventDefault(),await r.mutateAsync(s),a(!1)},u=()=>{e&&i({full_name:e.full_name||"",company_name:e.company_name||"",tax_id:e.tax_id||"",email:e.email||"",phone:e.phone||"",street_address:e.street_address||"",city:e.city||"",state:e.state||"",postal_code:e.postal_code||"",country:e.country||"Indonesia"}),a(!1)};return t?f.jsx(vn,{children:f.jsx(Rt,{className:"flex items-center justify-center py-12",children:f.jsx(Is,{className:"h-6 w-6 animate-spin"})})}):f.jsxs(vn,{children:[f.jsx(It,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Lt,{children:"Billing Information"}),f.jsx(ln,{children:e?"Manage your billing details for invoices and renewals":"Add billing information for subscription renewals"})]}),!n&&e&&f.jsxs(xt,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[f.jsx(Tg,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:l,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"full_name",children:"Full Name *"}),f.jsx(Cr,{id:"full_name",value:s.full_name,onChange:d=>i({...s,full_name:d.target.value}),disabled:!n&&!!e,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"company_name",children:"Company Name"}),f.jsx(Cr,{id:"company_name",value:s.company_name,onChange:d=>i({...s,company_name:d.target.value}),disabled:!n&&!!e})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"email",children:"Email *"}),f.jsx(Cr,{id:"email",type:"email",value:s.email,onChange:d=>i({...s,email:d.target.value}),disabled:!n&&!!e,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"phone",children:"Phone"}),f.jsx(Cr,{id:"phone",value:s.phone,onChange:d=>i({...s,phone:d.target.value}),disabled:!n&&!!e})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"tax_id",children:"Tax ID / NPWP"}),f.jsx(Cr,{id:"tax_id",value:s.tax_id,onChange:d=>i({...s,tax_id:d.target.value}),disabled:!n&&!!e,placeholder:"Optional"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"postal_code",children:"Postal Code *"}),f.jsx(Cr,{id:"postal_code",value:s.postal_code,onChange:d=>i({...s,postal_code:d.target.value}),disabled:!n&&!!e,required:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"street_address",children:"Street Address *"}),f.jsx(Cr,{id:"street_address",value:s.street_address,onChange:d=>i({...s,street_address:d.target.value}),disabled:!n&&!!e,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"city",children:"City *"}),f.jsx(Cr,{id:"city",value:s.city,onChange:d=>i({...s,city:d.target.value}),disabled:!n&&!!e,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"state",children:"State/Province *"}),f.jsx(Cr,{id:"state",value:s.state,onChange:d=>i({...s,state:d.target.value}),disabled:!n&&!!e,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"country",children:"Country"}),f.jsx(Cr,{id:"country",value:s.country,onChange:d=>i({...s,country:d.target.value}),disabled:!n&&!!e})]})]}),(n||!e)&&f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsx(xt,{type:"submit",disabled:r.isPending,children:r.isPending?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(VF,{className:"h-4 w-4 mr-2"}),"Save"]})}),e&&f.jsxs(xt,{type:"button",variant:"outline",onClick:u,children:[f.jsx(so,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]})}function _we(){const{subscription:e,plans:t,history:r,quota:n,isLoading:a,refetchSubscription:s}=i1e(),{mutateAsync:i,isPending:l}=o1e(),[u,d]=E.useState(null),[m,p]=E.useState(!1),v=w=>{d(w),p(!0)},y=async w=>{if(u)try{const x=await i({planId:u.id,paymentMethod:w});x&&x.duitku_payment_url?(window.open(x.duitku_payment_url,"_blank"),Bn.success("Payment initiated! Please complete the payment in the new window."),p(!1),setTimeout(()=>{s()},5e3)):Bn.error("Payment URL not available. Please try again.")}catch(x){Bn.error(`Payment failed: ${x.message}`)}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(lU,{defaultValue:"overview",className:"w-full",children:[f.jsxs(cU,{className:"grid w-full grid-cols-4",children:[f.jsx(Ho,{value:"overview",children:"Overview"}),f.jsx(Ho,{value:"plans",children:"Upgrade"}),f.jsx(Ho,{value:"history",children:"History"}),f.jsx(Ho,{value:"billing",children:"Billing Info"})]}),f.jsx($o,{value:"overview",className:"space-y-6",children:f.jsx(mwe,{subscription:e??null,quota:n??null,isLoading:a,onUpgradeClick:()=>{const w=document.querySelector('[role="tablist"]'),x=w==null?void 0:w.querySelector('[value="plans"]');x==null||x.click()}})}),f.jsxs($o,{value:"plans",className:"space-y-6",children:[f.jsxs("div",{className:"text-center space-y-2 mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold",children:"Choose Your Plan"}),f.jsx("p",{className:"text-muted-foreground",children:"Select the plan that best fits your needs"})]}),f.jsx(pwe,{plans:t||[],currentPlanType:(n==null?void 0:n.plan_type)||(e==null?void 0:e.plan_type)||"free",onSelectPlan:v,isLoading:a})]}),f.jsx($o,{value:"history",className:"space-y-4",children:f.jsxs(vn,{children:[f.jsxs(It,{children:[f.jsx(Lt,{children:"Payment History"}),f.jsx(ln,{children:"View all your past transactions"})]}),f.jsx(Rt,{children:!r||r.length===0?f.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"No payment history found"}):f.jsx("div",{className:"space-y-4",children:r.map(w=>f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"font-medium",children:[w.plan_purchased.charAt(0).toUpperCase()+w.plan_purchased.slice(1)," Plan"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:CU(new Date(w.created_at),"MMMM d, yyyy HH:mm")}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Order ID: ",w.merchant_order_id]})]}),f.jsxs("div",{className:"text-right space-y-1",children:[f.jsx("p",{className:"font-bold",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(w.amount)}),f.jsx(Br,{variant:w.status==="success"?"default":w.status==="pending"?"secondary":"destructive",children:w.status})]})]},w.id))})})]})}),f.jsx($o,{value:"billing",className:"space-y-4",children:f.jsx(wwe,{})})]}),f.jsx(vwe,{isOpen:m,onClose:()=>p(!1),plan:u?{id:u.id,name:u.plan_name,price:u.price,description:u.description}:null,onConfirm:y,isProcessing:l})]})}function bwe(){const[e,t]=E.useState(!1),[r,n]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=E.useState("weak"),i=p=>{let v=0;return p.length>=8&&v++,/[a-z]/.test(p)&&/[A-Z]/.test(p)&&v++,/\d/.test(p)&&v++,/[^a-zA-Z\d]/.test(p)&&v++,v<=1?"weak":v<=3?"medium":"strong"},l=p=>{const v=p.target.value;n({...r,newPassword:v}),s(i(v))},u=async p=>{if(p.preventDefault(),r.newPassword!==r.confirmPassword){Bn.error("New passwords do not match");return}if(r.newPassword.length<8){Bn.error("Password must be at least 8 characters long");return}if(a==="weak"){Bn.error("Password is too weak. Please use a stronger password.");return}t(!0);try{const{error:v}=await ut.auth.updateUser({password:r.newPassword});if(v)throw v;Bn.success("Password changed successfully"),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(v){Bn.error(`Failed to change password: ${v.message}`)}finally{t(!1)}},d=()=>{switch(a){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500"}},m=()=>{switch(a){case"weak":return"w-1/3";case"medium":return"w-2/3";case"strong":return"w-full"}};return f.jsxs(vn,{children:[f.jsxs(It,{children:[f.jsx(Lt,{children:"Change Password"}),f.jsx(ln,{children:"Update your password to keep your account secure"})]}),f.jsx(Rt,{children:f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"currentPassword",children:"Current Password"}),f.jsx(Cr,{id:"currentPassword",type:"password",value:r.currentPassword,onChange:p=>n({...r,currentPassword:p.target.value}),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"newPassword",children:"New Password"}),f.jsx(Cr,{id:"newPassword",type:"password",value:r.newPassword,onChange:l,required:!0}),r.newPassword&&f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full ${d()} ${m()} transition-all`})}),f.jsx("span",{className:"text-xs font-medium capitalize",children:a})]}),f.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[r.newPassword.length>=8?f.jsx(kd,{className:"h-3 w-3 text-green-500"}):f.jsx(so,{className:"h-3 w-3 text-red-500"}),f.jsx("span",{children:"At least 8 characters"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[/[a-z]/.test(r.newPassword)&&/[A-Z]/.test(r.newPassword)?f.jsx(kd,{className:"h-3 w-3 text-green-500"}):f.jsx(so,{className:"h-3 w-3 text-red-500"}),f.jsx("span",{children:"Uppercase and lowercase letters"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[/\d/.test(r.newPassword)?f.jsx(kd,{className:"h-3 w-3 text-green-500"}):f.jsx(so,{className:"h-3 w-3 text-red-500"}),f.jsx("span",{children:"At least one number"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),f.jsx(Cr,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:p=>n({...r,confirmPassword:p.target.value}),required:!0}),r.confirmPassword&&f.jsx("div",{className:"flex items-center gap-1 text-xs",children:r.newPassword===r.confirmPassword?f.jsxs(f.Fragment,{children:[f.jsx(kd,{className:"h-3 w-3 text-green-500"}),f.jsx("span",{className:"text-green-500",children:"Passwords match"})]}):f.jsxs(f.Fragment,{children:[f.jsx(so,{className:"h-3 w-3 text-red-500"}),f.jsx("span",{className:"text-red-500",children:"Passwords do not match"})]})})]}),f.jsx(xt,{type:"submit",disabled:e,className:"w-full",children:e?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing Password..."]}):f.jsxs(f.Fragment,{children:[f.jsx(xQ,{className:"h-4 w-4 mr-2"}),"Change Password"]})})]})})]})}function Swe(){var y;const[e,t]=E.useState(null),[r,n]=E.useState(!0),[a,s]=E.useState(!1),[i,l]=E.useState(!1),[u,d]=E.useState({displayName:"",phone:""});E.useEffect(()=>{m()},[]);const m=async()=>{var w,x;try{const b=await Nr.getCurrentUser();b&&(t(b),d({displayName:((w=b.user_metadata)==null?void 0:w.display_name)||"",phone:((x=b.user_metadata)==null?void 0:x.phone)||""}))}catch(b){console.error("Error fetching user profile:",b)}finally{n(!1)}},p=async()=>{l(!0);try{const{error:w}=await ut.auth.updateUser({data:{display_name:u.displayName,phone:u.phone}});if(w)throw w;Bn.success("Profile updated successfully"),s(!1),await m()}catch(w){Bn.error(`Failed to update profile: ${w.message}`)}finally{l(!1)}},v=()=>{var w,x;d({displayName:((w=e==null?void 0:e.user_metadata)==null?void 0:w.display_name)||"",phone:((x=e==null?void 0:e.user_metadata)==null?void 0:x.phone)||""}),s(!1)};return r?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Is,{className:"h-6 w-6 animate-spin"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs(vn,{children:[f.jsx(It,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Lt,{children:"Profile Information"}),f.jsx(ln,{children:"Manage your personal information"})]}),!a&&f.jsxs(xt,{variant:"outline",size:"sm",onClick:()=>s(!0),children:[f.jsx(Tg,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),f.jsxs(Rt,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:f.jsx(h1,{className:"h-8 w-8 text-primary"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:u.displayName||"No name set"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"displayName",children:"Display Name"}),f.jsx(Cr,{id:"displayName",value:u.displayName,onChange:w=>d({...u,displayName:w.target.value}),disabled:!a,placeholder:"Enter your name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"email",children:"Email"}),f.jsx(Cr,{id:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{htmlFor:"phone",children:"Phone Number"}),f.jsx(Cr,{id:"phone",value:u.phone,onChange:w=>d({...u,phone:w.target.value}),disabled:!a,placeholder:"+62 xxx xxxx xxxx"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Xt,{children:"Account Created"}),f.jsx(Cr,{value:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("id-ID"):"N/A",disabled:!0,className:"bg-muted"})]})]}),a&&f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsx(xt,{onClick:p,disabled:i,children:i?f.jsxs(f.Fragment,{children:[f.jsx(Is,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(VF,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),f.jsxs(xt,{variant:"outline",onClick:v,children:[f.jsx(so,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),f.jsx(bwe,{}),f.jsxs(vn,{children:[f.jsxs(It,{children:[f.jsx(Lt,{children:"Account Security"}),f.jsx(ln,{children:"Additional security information"})]}),f.jsxs(Rt,{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[f.jsx("span",{className:"text-sm font-medium",children:"Last Sign In"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:e!=null&&e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleString("id-ID"):"N/A"})]}),f.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[f.jsx("span",{className:"text-sm font-medium",children:"Email Verified"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:e!=null&&e.email_confirmed_at?"Yes":"No"})]}),f.jsxs("div",{className:"flex justify-between items-center py-2",children:[f.jsx("span",{className:"text-sm font-medium",children:"User ID"}),f.jsxs("span",{className:"text-sm text-muted-foreground font-mono text-xs",children:[(y=e==null?void 0:e.id)==null?void 0:y.substring(0,8),"..."]})]})]})]})]})}function Ewe({lastSyncTime:e,syncStatus:t,onManualSync:r}){const[n,a]=E.useState(!1),s=async()=>{a(!0);try{await r(),Bn.success("Sync completed successfully")}catch(u){Bn.error("Sync failed: "+u.message)}finally{a(!1)}},i=()=>{switch(t){case"synced":return f.jsxs(Br,{variant:"outline",className:"gap-1",children:[f.jsx(vu,{className:"h-3 w-3 text-green-500"}),"Synced"]});case"syncing":return f.jsxs(Br,{variant:"outline",className:"gap-1",children:[f.jsx(bb,{className:"h-3 w-3 animate-spin text-blue-500"}),"Syncing..."]});case"error":return f.jsxs(Br,{variant:"destructive",className:"gap-1",children:[f.jsx(zd,{className:"h-3 w-3"}),"Error"]});default:return f.jsxs(Br,{variant:"secondary",className:"gap-1",children:[f.jsx(Sg,{className:"h-3 w-3"}),"Never Synced"]})}},l=()=>{if(!e)return"Never";const d=new Date().getTime()-e.getTime(),m=Math.floor(d/6e4),p=Math.floor(m/60),v=Math.floor(p/24);return v>0?`${v} day${v>1?"s":""} ago`:p>0?`${p} hour${p>1?"s":""} ago`:m>0?`${m} minute${m>1?"s":""} ago`:"Just now"};return f.jsxs(vn,{children:[f.jsx(It,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Lt,{children:"Sync Status"}),f.jsx(ln,{children:"Synchronization between local database and Cloud"})]}),i()]})}),f.jsxs(Rt,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Last Sync"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:l()})]}),f.jsx(xt,{onClick:s,disabled:n||t==="syncing",size:"sm",children:n?f.jsxs(f.Fragment,{children:[f.jsx(bb,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):f.jsxs(f.Fragment,{children:[f.jsx(bb,{className:"h-4 w-4 mr-2"}),"Sync Now"]})})]}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.jsx("p",{children:" Auto-sync runs every 5 minutes when online"}),f.jsx("p",{children:" Manual sync updates all data from Cloud"})]})]})]})}function Twe(){const[e,t]=E.useState({contactsCount:0,messagesCount:0,groupsCount:0,databaseSize:"Calculating..."}),[r,n]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const[i,l,u]=await Promise.all([ze.contacts.count(),ze.activityLogs.count(),ze.groups.count()]),d=i*2+l*1+u*3,m=d>1024?`${(d/1024).toFixed(2)} MB`:`${d.toFixed(2)} KB`;t({contactsCount:i,messagesCount:l,groupsCount:u,databaseSize:m})}catch(i){console.error("Failed to fetch database stats:",i)}finally{n(!1)}})()},[]);const a=[{label:"Contacts",value:e.contactsCount.toLocaleString(),icon:Oi,color:"text-blue-500"},{label:"Activity Logs",value:e.messagesCount.toLocaleString(),icon:Hl,color:"text-green-500"},{label:"Groups",value:e.groupsCount.toLocaleString(),icon:oJ,color:"text-purple-500"},{label:"Est. Size",value:e.databaseSize,icon:FF,color:"text-orange-500"}];return f.jsxs(vn,{children:[f.jsxs(It,{children:[f.jsx(Lt,{children:"Database Statistics"}),f.jsx(ln,{children:"Local database usage and storage information"})]}),f.jsx(Rt,{children:f.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map(s=>f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/50",children:[f.jsx(s.icon,{className:`h-5 w-5 ${s.color}`}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),f.jsx("p",{className:"text-lg font-semibold",children:r?"...":s.value})]})]},s.label))})})]})}function kwe(){const[e,t]=E.useState(!1),r=async()=>{t(!0);try{if("caches"in window){const a=await caches.keys();await Promise.all(a.map(s=>caches.delete(s)))}const n=["supabase.auth.token","master_user_id"];Object.keys(localStorage).forEach(a=>{a.startsWith("sb-")||a.includes("auth-token")||n.some(s=>a.includes(s))||localStorage.removeItem(a)}),Bn.success("Cache cleared successfully")}catch(n){Bn.error("Failed to clear cache: "+n.message)}finally{t(!1)}};return f.jsxs(vn,{children:[f.jsxs(It,{children:[f.jsx(Lt,{children:"Cache Management"}),f.jsx(ln,{children:"Clear temporary data and cached files"})]}),f.jsxs(Rt,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-orange-200 bg-orange-50 dark:bg-orange-950/20",children:[f.jsx(Cd,{className:"h-5 w-5 text-orange-500 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Warning"}),f.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Clearing cache will remove temporary files and may require re-downloading some data. Your messages and contacts will not be affected."})]})]}),f.jsxs(N0,{children:[f.jsx(Cie,{asChild:!0,children:f.jsxs(xt,{variant:"destructive",className:"w-full",disabled:e,children:[f.jsx(o0,{className:"h-4 w-4 mr-2"}),"Clear Cache"]})}),f.jsxs(j0,{children:[f.jsxs(R0,{children:[f.jsx(D0,{children:"Are you sure?"}),f.jsx(P0,{children:"This will clear all cached data."})]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.jsx("p",{className:"mb-2",children:"This includes:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-4",children:[f.jsx("li",{children:"Temporary files"}),f.jsx("li",{children:"Cached images and media"}),f.jsx("li",{children:"Application cache"})]}),f.jsx("p",{children:"Your messages, contacts, and settings will remain safe."})]}),f.jsxs(O0,{children:[f.jsx(F0,{children:"Cancel"}),f.jsx(nf,{onClick:r,children:"Clear Cache"})]})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Last cleared: Never"})]})]})}function Cwe(){const[e,t]=E.useState("never"),[r,n]=E.useState();E.useEffect(()=>{const s=()=>{try{const l=localStorage.getItem("last_sync_time");l&&(n(new Date(l)),t("synced"))}catch(l){console.error("Failed to get sync status:",l)}};s();const i=setInterval(s,5e3);return()=>clearInterval(i)},[]);const a=async()=>{t("syncing");try{await ro.triggerSync();const s=new Date;n(s),localStorage.setItem("last_sync_time",s.toISOString()),t("synced")}catch(s){throw console.error("Manual sync failed:",s),t("error"),s}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Database & Sync"}),f.jsx("p",{className:"text-muted-foreground",children:"Manage your local database and synchronization settings"})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx(Ewe,{lastSyncTime:r,syncStatus:e,onManualSync:a}),f.jsx(kwe,{})]}),f.jsx(Twe,{})]})]})}function Awe(){const e=[{icon:Oi,title:"Team Member Management",description:"Add and manage team members with different access levels"},{icon:kx,title:"Role-Based Permissions",description:"Control what each team member can access and modify"},{icon:i0,title:"Shared Templates",description:"Create and share message templates across your team"},{icon:OF,title:"Team Analytics",description:"Track team performance and message statistics"},{icon:m1,title:"Workflow Automation",description:"Automate team workflows and approval processes"}];return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Team Management"}),f.jsx("p",{className:"text-muted-foreground",children:"Collaborate with your team (Coming Soon)"})]}),f.jsxs(vn,{className:"border-2 border-dashed",children:[f.jsxs(It,{className:"text-center pb-4",children:[f.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:f.jsx(Dh,{className:"h-8 w-8 text-muted-foreground"})}),f.jsx(Lt,{className:"text-2xl",children:"Team Management Coming Soon"}),f.jsx(ln,{className:"text-base",children:"This feature will be available in our upcoming CRM plan"})]}),f.jsxs(Rt,{className:"space-y-6",children:[f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(t=>f.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-muted/50",children:[f.jsx(t.icon,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-1",children:t.title}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]},t.title))}),f.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-950/20 dark:to-blue-950/20 rounded-lg p-6 text-center space-y-4",children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interested in Team Features?"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay tuned for updates!"})]})}),f.jsx("div",{className:"text-center text-xs text-muted-foreground",children:f.jsx("p",{children:"Expected Release: in 2026"})})]})]})]})}function Mwe({userName:e}){const t=xo();return f.jsx("div",{className:"min-h-screen bg-gray-50",children:f.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(xt,{variant:"ghost",onClick:()=>t("/dashboard"),children:[f.jsx(ic,{className:"h-4 w-4 mr-2"}),f.jsx(tt,{id:"common.button.back",defaultMessage:"Back"})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f.jsx(tt,{id:"settings.title",defaultMessage:"Settings"})}),f.jsx("p",{className:"text-gray-600",children:f.jsx(tt,{id:"settings.subtitle",defaultMessage:"Welcome, {name} - Manage your account and preferences",values:{name:e}})})]})]}),f.jsx(z6,{})]}),f.jsxs(lU,{defaultValue:"payment",className:"w-full",children:[f.jsxs(cU,{className:"grid w-full grid-cols-3 lg:grid-cols-6 lg:w-auto lg:inline-grid mb-6",children:[f.jsxs(Ho,{value:"payment",className:"flex items-center gap-2",children:[f.jsx(eQ,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.payment",defaultMessage:"Payment & Subscription"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.payment.short",defaultMessage:"Payment"})})]}),f.jsxs(Ho,{value:"profile",className:"flex items-center gap-2",children:[f.jsx(h1,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.profile",defaultMessage:"Account & Profile"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.profile.short",defaultMessage:"Profile"})})]}),f.jsxs(Ho,{value:"database",className:"flex items-center gap-2",children:[f.jsx(FF,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.database",defaultMessage:"Database & Sync"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.database.short",defaultMessage:"Database"})})]}),f.jsxs(Ho,{value:"team",className:"flex items-center gap-2",children:[f.jsx(Oi,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.team",defaultMessage:"Team"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.team.short",defaultMessage:"Team"})})]}),f.jsxs(Ho,{value:"notifications",className:"flex items-center gap-2",children:[f.jsx(mj,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.notifications",defaultMessage:"Notifications"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.notifications.short",defaultMessage:"Alerts"})})]}),f.jsxs(Ho,{value:"security",className:"flex items-center gap-2",children:[f.jsx(kx,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:f.jsx(tt,{id:"settings.tab.security",defaultMessage:"Security"})}),f.jsx("span",{className:"sm:hidden",children:f.jsx(tt,{id:"settings.tab.security.short",defaultMessage:"Security"})})]})]}),f.jsx($o,{value:"payment",children:f.jsx(_we,{})}),f.jsx($o,{value:"profile",children:f.jsx(Swe,{})}),f.jsx($o,{value:"database",children:f.jsx(Cwe,{})}),f.jsx($o,{value:"team",children:f.jsx(Awe,{})}),f.jsx($o,{value:"notifications",children:f.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[f.jsx(mj,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),f.jsx("p",{className:"text-lg font-medium",children:f.jsx(tt,{id:"settings.notifications.title",defaultMessage:"Notification Settings"})}),f.jsx("p",{className:"text-sm",children:f.jsx(tt,{id:"common.status.coming_soon",defaultMessage:"Coming soon..."})})]})}),f.jsx($o,{value:"security",children:f.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[f.jsx(kx,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),f.jsx("p",{className:"text-lg font-medium",children:f.jsx(tt,{id:"settings.security.title",defaultMessage:"Security Settings"})}),f.jsx("p",{className:"text-sm",children:f.jsx(tt,{id:"common.status.coming_soon",defaultMessage:"Coming soon..."})})]})})]})]})})}var zk="ToastProvider",[Vk,Nwe,jwe]=Mg("Toast"),[AU]=zi("Toast",[jwe]),[Rwe,q1]=AU(zk),MU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[l,u]=E.useState(null),[d,m]=E.useState(0),p=E.useRef(!1),v=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zk}\`. Expected non-empty \`string\`.`),f.jsx(Vk.Provider,{scope:t,children:f.jsx(Rwe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:E.useCallback(()=>m(y=>y+1),[]),onToastRemove:E.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:i})})};MU.displayName=zk;var NU="ToastViewport",Owe=["F8"],iE="toast.viewportPause",oE="toast.viewportResume",jU=E.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Owe,label:a="Notifications ({hotkey})",...s}=e,i=q1(NU,r),l=Nwe(r),u=E.useRef(null),d=E.useRef(null),m=E.useRef(null),p=E.useRef(null),v=xr(t,p,i.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;E.useEffect(()=>{const b=T=>{var k;n.length!==0&&n.every(j=>T[j]||T.code===j)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),E.useEffect(()=>{const b=u.current,T=p.current;if(w&&b&&T){const M=()=>{if(!i.isClosePausedRef.current){const D=new CustomEvent(iE);T.dispatchEvent(D),i.isClosePausedRef.current=!0}},k=()=>{if(i.isClosePausedRef.current){const D=new CustomEvent(oE);T.dispatchEvent(D),i.isClosePausedRef.current=!1}},j=D=>{!b.contains(D.relatedTarget)&&k()},R=()=>{b.contains(document.activeElement)||k()};return b.addEventListener("focusin",M),b.addEventListener("focusout",j),b.addEventListener("pointermove",M),b.addEventListener("pointerleave",R),window.addEventListener("blur",M),window.addEventListener("focus",k),()=>{b.removeEventListener("focusin",M),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",M),b.removeEventListener("pointerleave",R),window.removeEventListener("blur",M),window.removeEventListener("focus",k)}}},[w,i.isClosePausedRef]);const x=E.useCallback(({tabbingDirection:b})=>{const M=l().map(k=>{const j=k.ref.current,R=[j,...Gwe(j)];return b==="forwards"?R:R.reverse()});return(b==="forwards"?M.reverse():M).flat()},[l]);return E.useEffect(()=>{const b=p.current;if(b){const T=M=>{var R,D,O;const k=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!k){const B=document.activeElement,V=M.shiftKey;if(M.target===b&&V){(R=d.current)==null||R.focus();return}const Q=x({tabbingDirection:V?"backwards":"forwards"}),ve=Q.findIndex(G=>G===B);pS(Q.slice(ve+1))?M.preventDefault():V?(D=d.current)==null||D.focus():(O=m.current)==null||O.focus()}};return b.addEventListener("keydown",T),()=>b.removeEventListener("keydown",T)}},[l,x]),f.jsxs(_ee,{ref:u,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(lE,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});pS(b)}}),f.jsx(Vk.Slot,{scope:r,children:f.jsx(Wt.ol,{tabIndex:-1,...s,ref:v})}),w&&f.jsx(lE,{ref:m,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});pS(b)}})]})});jU.displayName=NU;var RU="ToastFocusProxy",lE=E.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=q1(RU,r);return f.jsx(IT,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&n()}})});lE.displayName=RU;var Wg="Toast",Dwe="toast.swipeStart",Pwe="toast.swipeMove",Fwe="toast.swipeCancel",Iwe="toast.swipeEnd",OU=E.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[l,u]=ec({prop:n,defaultProp:a??!0,onChange:s,caller:Wg});return f.jsx(wo,{present:r||l,children:f.jsx(Uwe,{open:l,...i,ref:t,onClose:()=>u(!1),onPause:Us(e.onPause),onResume:Us(e.onResume),onSwipeStart:yt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(e.onSwipeMove,d=>{const{x:m,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:yt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(e.onSwipeEnd,d=>{const{x:m,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});OU.displayName=Wg;var[Lwe,Bwe]=AU(Wg,{onClose(){}}),Uwe=E.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:y,...w}=e,x=q1(Wg,r),[b,T]=E.useState(null),M=xr(t,G=>T(G)),k=E.useRef(null),j=E.useRef(null),R=a||x.duration,D=E.useRef(0),O=E.useRef(R),B=E.useRef(0),{onToastAdd:V,onToastRemove:ne}=x,ie=Us(()=>{var fe;(b==null?void 0:b.contains(document.activeElement))&&((fe=x.viewport)==null||fe.focus()),i()}),Q=E.useCallback(G=>{!G||G===1/0||(window.clearTimeout(B.current),D.current=new Date().getTime(),B.current=window.setTimeout(ie,G))},[ie]);E.useEffect(()=>{const G=x.viewport;if(G){const fe=()=>{Q(O.current),d==null||d()},K=()=>{const re=new Date().getTime()-D.current;O.current=O.current-re,window.clearTimeout(B.current),u==null||u()};return G.addEventListener(iE,K),G.addEventListener(oE,fe),()=>{G.removeEventListener(iE,K),G.removeEventListener(oE,fe)}}},[x.viewport,R,u,d,Q]),E.useEffect(()=>{s&&!x.isClosePausedRef.current&&Q(R)},[s,R,x.isClosePausedRef,Q]),E.useEffect(()=>(V(),()=>ne()),[V,ne]);const ve=E.useMemo(()=>b?UU(b):null,[b]);return x.viewport?f.jsxs(f.Fragment,{children:[ve&&f.jsx(zwe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:ve}),f.jsx(Lwe,{scope:r,onClose:ie,children:v0.createPortal(f.jsx(Vk.ItemSlot,{scope:r,children:f.jsx(wee,{asChild:!0,onEscapeKeyDown:yt(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||ie(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Wt.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:M,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:yt(e.onKeyDown,G=>{G.key==="Escape"&&(l==null||l(G.nativeEvent),G.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,ie()))}),onPointerDown:yt(e.onPointerDown,G=>{G.button===0&&(k.current={x:G.clientX,y:G.clientY})}),onPointerMove:yt(e.onPointerMove,G=>{if(!k.current)return;const fe=G.clientX-k.current.x,K=G.clientY-k.current.y,re=!!j.current,le=["left","right"].includes(x.swipeDirection),J=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Me=le?J(0,fe):0,H=le?0:J(0,K),L=G.pointerType==="touch"?10:2,Y={x:Me,y:H},Z={originalEvent:G,delta:Y};re?(j.current=Y,Xy(Pwe,p,Z,{discrete:!1})):oD(Y,x.swipeDirection,L)?(j.current=Y,Xy(Dwe,m,Z,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(fe)>L||Math.abs(K)>L)&&(k.current=null)}),onPointerUp:yt(e.onPointerUp,G=>{const fe=j.current,K=G.target;if(K.hasPointerCapture(G.pointerId)&&K.releasePointerCapture(G.pointerId),j.current=null,k.current=null,fe){const re=G.currentTarget,le={originalEvent:G,delta:fe};oD(fe,x.swipeDirection,x.swipeThreshold)?Xy(Iwe,y,le,{discrete:!0}):Xy(Fwe,v,le,{discrete:!0}),re.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),zwe=e=>{const{__scopeToast:t,children:r,...n}=e,a=q1(Wg,t),[s,i]=E.useState(!1),[l,u]=E.useState(!1);return $we(()=>i(!0)),E.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:f.jsx(Og,{asChild:!0,children:f.jsx(IT,{...n,children:s&&f.jsxs(f.Fragment,{children:[a.label," ",r]})})})},Vwe="ToastTitle",DU=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(Wt.div,{...n,ref:t})});DU.displayName=Vwe;var Hwe="ToastDescription",PU=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(Wt.div,{...n,ref:t})});PU.displayName=Hwe;var FU="ToastAction",IU=E.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(BU,{altText:r,asChild:!0,children:f.jsx(Hk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${FU}\`. Expected non-empty \`string\`.`),null)});IU.displayName=FU;var LU="ToastClose",Hk=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Bwe(LU,r);return f.jsx(BU,{asChild:!0,children:f.jsx(Wt.button,{type:"button",...n,ref:t,onClick:yt(e.onClick,a.onClose)})})});Hk.displayName=LU;var BU=E.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return f.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function UU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qwe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...UU(n))}}),t}function Xy(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?mT(a,s):a.dispatchEvent(s)}var oD=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function $we(e=()=>{}){const t=Us(e);qa(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qwe(e){return e.nodeType===e.ELEMENT_NODE}function Gwe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pS(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Wwe=MU,zU=jU,VU=OU,HU=DU,$U=PU,qU=IU,GU=Hk;const Kwe=Wwe,WU=E.forwardRef(({className:e,...t},r)=>f.jsx(zU,{ref:r,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WU.displayName=zU.displayName;const Xwe=u1("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KU=E.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(VU,{ref:n,className:jt(Xwe({variant:t}),e),...r}));KU.displayName=VU.displayName;const Ywe=E.forwardRef(({className:e,...t},r)=>f.jsx(qU,{ref:r,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Ywe.displayName=qU.displayName;const XU=E.forwardRef(({className:e,...t},r)=>f.jsx(GU,{ref:r,className:jt("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(so,{className:"h-4 w-4"})}));XU.displayName=GU.displayName;const YU=E.forwardRef(({className:e,...t},r)=>f.jsx(HU,{ref:r,className:jt("text-sm font-semibold [&+div]:text-xs",e),...t}));YU.displayName=HU.displayName;const QU=E.forwardRef(({className:e,...t},r)=>f.jsx($U,{ref:r,className:jt("text-sm opacity-90",e),...t}));QU.displayName=$U.displayName;function JU(){const{toasts:e}=bg();return f.jsxs(Kwe,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return f.jsxs(KU,{...s,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(YU,{children:r}),n&&f.jsx(QU,{children:n})]}),a,f.jsx(XU,{})]},t)}),f.jsx(WU,{})]})}const Qwe=({onLoginSuccess:e})=>f.jsxs(jD,{children:[f.jsx(es,{path:"/login",element:f.jsx(Oy,{onLoginSuccess:e,initialView:"login"})}),f.jsx(es,{path:"/register",element:f.jsx(Oy,{onLoginSuccess:e,initialView:"register"})}),f.jsx(es,{path:"/forgot-password",element:f.jsx(Oy,{onLoginSuccess:e,initialView:"forgot-password"})}),f.jsx(es,{path:"/reset-password",element:f.jsx(Oy,{onLoginSuccess:e,initialView:"login"})}),f.jsx(es,{path:"*",element:f.jsx(ND,{to:"/login",replace:!0})})]}),Jwe=({authData:e,onLogout:t})=>f.jsxs(jD,{children:[f.jsx(es,{path:"/dashboard",element:f.jsx(Ol,{children:f.jsx(rie,{userName:(e==null?void 0:e.user.name)||"User",onLogout:t})})}),f.jsx(es,{path:"/contacts",element:f.jsx(Ol,{children:f.jsx(Fve,{})})}),f.jsx(es,{path:"/templates",element:f.jsx(Ol,{children:f.jsx(Ive,{})})}),f.jsx(es,{path:"/assets",element:f.jsx(Ol,{children:f.jsx(Iye,{})})}),f.jsx(es,{path:"/send",element:f.jsx(Ol,{children:f.jsx(hxe,{})})}),f.jsx(es,{path:"/history",element:f.jsx(Ol,{children:f.jsx(pxe,{})})}),f.jsx(es,{path:"/campaign-history",element:f.jsx(Ol,{children:f.jsx(vxe,{})})}),f.jsx(es,{path:"/groups",element:f.jsx(Ol,{children:f.jsx(yxe,{})})}),f.jsx(es,{path:"/settings",element:f.jsx(Ol,{children:f.jsx(Mwe,{userName:(e==null?void 0:e.user.name)||"User"})})}),f.jsx(es,{path:"*",element:f.jsx(ND,{to:"/dashboard",replace:!0})})]}),Zwe=()=>{const{toast:e}=bg(),[t,r]=E.useState(null),[n,a]=E.useState(null),[s,i]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const w=await new hp().getCurrentUser();w&&r({user:w,token:""})}catch(y){console.error("Failed to restore session:",y)}finally{i(!1)}})()},[]);const l=v=>{const y=Nr.getLastUserId();y&&y!==v.user.id&&ze.clearUserData(y).catch(w=>{console.error("Error clearing old user data:",w)}),r(v),Nr.setLastUserId(v.user.id)},u=async(v,y)=>{var w;try{const x=new hp,{quota:b}=await x.getAccountMetadata(y);r(M=>M?{...M,quota:b}:null),a(v);let T=(w=t==null?void 0:t.user)==null?void 0:w.master_user_id;if(!T){const M=await x.getCurrentUser();M&&(T=M.master_user_id)}if(T){ro.setMasterUserId(T);const{checkConnectionSpeed:M,getSyncPercentageBySpeed:k,getSyncStrategyBySpeed:j}=await gS(async()=>{const{checkConnectionSpeed:G,getSyncPercentageBySpeed:fe,getSyncStrategyBySpeed:K}=await import("./connectionSpeed-Bsullt2E.js");return{checkConnectionSpeed:G,getSyncPercentageBySpeed:fe,getSyncStrategyBySpeed:K}},[],import.meta.url),R=await M(),D=j(R),O=k(R);console.log(`Connection speed: ${R} Mbps, Strategy: ${D}, Percentage: ${O*100}%`);const{getTablesByPriority:B}=await gS(async()=>{const{getTablesByPriority:G}=await import("./SyncPriority-C8jBJnf3.js");return{getTablesByPriority:G}},[],import.meta.url),V=B();let ne=V.critical,ie=V.high,Q=V.medium,ve=V.low;switch(console.log(`Starting ${D} sync...`),D){case"full":await ro.sync();break;case"partial":const G=[...ne,...ie];await ro.partialSync(G,O);const fe=[...Q,...ve];await ro.backgroundSync(fe);break;case"background":const K=[...ne];await ro.partialSync(K,1);const re=[...ie,...Q,...ve];await ro.backgroundSync(re);break;default:const le=[...ne,...ie];await ro.partialSync(le,.5);break}console.log("Sync completed based on connection speed"),await ya.initializeAllServices(T),setTimeout(async()=>{try{console.log("Waiting for background sync to complete before asset sync..."),await new Promise(K=>setTimeout(K,2e3)),console.log("Starting asset sync from Supabase..."),e({title:"Syncing Assets",description:"Downloading your assets from the cloud...",duration:3e3});const fe=await ya.getAssetService().syncAssetsFromSupabase();console.log("Asset sync completed:",fe),fe.syncedCount>0?e({title:"Assets Sync Complete",description:`Successfully downloaded ${fe.syncedCount} assets from the cloud.`,duration:3e3}):fe.skippedCount===0&&fe.errorCount===0&&e({title:"Assets Already Up-to-Date",description:"No new assets to download.",duration:3e3})}catch(G){console.error("Error during asset sync from Supabase:",G),e({title:"Asset Sync Failed",description:"Could not download your assets. Please check your connection.",variant:"destructive",duration:3e3})}},0)}}catch(x){console.error("Failed to load account data after PIN:",x),a(v)}},d=async()=>{const v=new hp;try{await v.logout()}catch(y){console.error("Logout error:",y)}finally{r(null),a(null),ro.setMasterUserId(null)}};if(s)return f.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});const m=!!(t!=null&&t.user),p=!!(n!=null&&n.is_valid);return f.jsx(Hz,{children:f.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[m?p?f.jsx(Jwe,{authData:t,onLogout:d}):f.jsx("div",{className:"fixed inset-0 z-50 bg-background flex items-center justify-center",children:f.jsx(lse,{onPINValidated:u,userName:(t==null?void 0:t.user.name)||"User",userId:t==null?void 0:t.user.id})}):f.jsx(Qwe,{onLoginSuccess:l}),f.jsx(JU,{})]})})};function e_e(){return f.jsx(_se,{children:f.jsx(WZ,{children:f.jsx(Zwe,{})})})}const t_e=new Wxe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});A9.createRoot(document.getElementById("root")).render(f.jsx(E.StrictMode,{children:f.jsxs(Kxe,{client:t_e,children:[f.jsx(e_e,{}),f.jsx(JU,{})]})}));export{or as n};
